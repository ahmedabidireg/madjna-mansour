(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();var Tc={exports:{}},ba={},Rc={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=Symbol.for("react.element"),pm=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),bm=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Nm=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),xo=Symbol.iterator;function Sm(e){return e===null||typeof e!="object"?null:(e=xo&&e[xo]||e["@@iterator"],typeof e=="function"?e:null)}var Oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,$c={};function hs(e,t,s){this.props=e,this.context=t,this.refs=$c,this.updater=s||Oc}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uc(){}Uc.prototype=hs.prototype;function ui(e,t,s){this.props=e,this.context=t,this.refs=$c,this.updater=s||Oc}var mi=ui.prototype=new Uc;mi.constructor=ui;zc(mi,hs.prototype);mi.isPureReactComponent=!0;var ho=Array.isArray,Fc=Object.prototype.hasOwnProperty,xi={current:null},Ac={key:!0,ref:!0,__self:!0,__source:!0};function Hc(e,t,s){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Fc.call(t,n)&&!Ac.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:nn,type:e,key:l,ref:i,props:a,_owner:xi.current}}function _m(e,t){return{$$typeof:nn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hi(e){return typeof e=="object"&&e!==null&&e.$$typeof===nn}function Cm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var po=/\/+/g;function Ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cm(""+e.key):t.toString(36)}function Tn(e,t,s,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nn:case pm:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ua(i,0):n,ho(a)?(s="",e!=null&&(s=e.replace(po,"$&/")+"/"),Tn(a,t,s,"",function(d){return d})):a!=null&&(hi(a)&&(a=_m(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(po,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",ho(e))for(var c=0;c<e.length;c++){l=e[c];var o=n+Ua(l,c);i+=Tn(l,t,s,o,a)}else if(o=Sm(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=n+Ua(l,c++),i+=Tn(l,t,s,o,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function hn(e,t,s){if(e==null)return e;var n=[],a=0;return Tn(e,n,"","",function(l){return t.call(s,l,a++)}),n}function Em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Rn={transition:null},Pm={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Rn,ReactCurrentOwner:xi};function Bc(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:hn,forEach:function(e,t,s){hn(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return hn(e,function(){t++}),t},toArray:function(e){return hn(e,function(t){return t})||[]},only:function(e){if(!hi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=hs;ne.Fragment=fm;ne.Profiler=ym;ne.PureComponent=ui;ne.StrictMode=gm;ne.Suspense=wm;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;ne.act=Bc;ne.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zc({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=xi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Fc.call(t,o)&&!Ac.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:nn,type:e.type,key:a,ref:l,props:n,_owner:i}};ne.createContext=function(e){return e={$$typeof:bm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vm,_context:e},e.Consumer=e};ne.createElement=Hc;ne.createFactory=function(e){var t=Hc.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:jm,render:e}};ne.isValidElement=hi;ne.lazy=function(e){return{$$typeof:km,_payload:{_status:-1,_result:e},_init:Em}};ne.memo=function(e,t){return{$$typeof:Nm,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Rn.transition;Rn.transition={};try{e()}finally{Rn.transition=t}};ne.unstable_act=Bc;ne.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ne.useContext=function(e){return Xe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ne.useId=function(){return Xe.current.useId()};ne.useImperativeHandle=function(e,t,s){return Xe.current.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ne.useReducer=function(e,t,s){return Xe.current.useReducer(e,t,s)};ne.useRef=function(e){return Xe.current.useRef(e)};ne.useState=function(e){return Xe.current.useState(e)};ne.useSyncExternalStore=function(e,t,s){return Xe.current.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return Xe.current.useTransition()};ne.version="18.3.1";Rc.exports=ne;var p=Rc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=p,Mm=Symbol.for("react.element"),Im=Symbol.for("react.fragment"),Lm=Object.prototype.hasOwnProperty,Tm=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Vc(e,t,s){var n,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Lm.call(t,n)&&!Rm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Mm,type:e,key:l,ref:i,props:a,_owner:Tm.current}}ba.Fragment=Im;ba.jsx=Vc;ba.jsxs=Vc;Tc.exports=ba;var r=Tc.exports,qc={exports:{}},ct={},Wc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,O){var A=I.length;I.push(O);e:for(;0<A;){var W=A-1>>>1,ce=I[W];if(0<a(ce,O))I[W]=O,I[A]=ce,A=W;else break e}}function s(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var O=I[0],A=I.pop();if(A!==O){I[0]=A;e:for(var W=0,ce=I.length,Pe=ce>>>1;W<Pe;){var Q=2*(W+1)-1,ve=I[Q],ae=Q+1,me=I[ae];if(0>a(ve,A))ae<ce&&0>a(me,ve)?(I[W]=me,I[ae]=A,W=ae):(I[W]=ve,I[Q]=A,W=Q);else if(ae<ce&&0>a(me,A))I[W]=me,I[ae]=A,W=ae;else break e}}return O}function a(I,O){var A=I.sortIndex-O.sortIndex;return A!==0?A:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],d=[],x=1,g=null,v=3,E=!1,_=!1,P=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(I){for(var O=s(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=I)n(d),O.sortIndex=O.expirationTime,t(o,O);else break;O=s(d)}}function b(I){if(P=!1,f(I),!_)if(s(o)!==null)_=!0,de(N);else{var O=s(d);O!==null&&T(b,O.startTime-I)}}function N(I,O){_=!1,P&&(P=!1,h(L),L=-1),E=!0;var A=v;try{for(f(O),g=s(o);g!==null&&(!(g.expirationTime>O)||I&&!D());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var ce=W(g.expirationTime<=O);O=e.unstable_now(),typeof ce=="function"?g.callback=ce:g===s(o)&&n(o),f(O)}else n(o);g=s(o)}if(g!==null)var Pe=!0;else{var Q=s(d);Q!==null&&T(b,Q.startTime-O),Pe=!1}return Pe}finally{g=null,v=A,E=!1}}var k=!1,j=null,L=-1,R=5,z=-1;function D(){return!(e.unstable_now()-z<R)}function K(){if(j!==null){var I=e.unstable_now();z=I;var O=!0;try{O=j(!0,I)}finally{O?Y():(k=!1,j=null)}}else k=!1}var Y;if(typeof m=="function")Y=function(){m(K)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=K,Y=function(){J.postMessage(null)}}else Y=function(){w(K,0)};function de(I){j=I,k||(k=!0,Y())}function T(I,O){L=w(function(){I(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){_||E||(_=!0,de(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return s(o)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var A=v;v=O;try{return I()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var A=v;v=I;try{return O()}finally{v=A}},e.unstable_scheduleCallback=function(I,O,A){var W=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?W+A:W):A=W,I){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=A+ce,I={id:x++,callback:O,priorityLevel:I,startTime:A,expirationTime:ce,sortIndex:-1},A>W?(I.sortIndex=A,t(d,I),s(o)===null&&I===s(d)&&(P?(h(L),L=-1):P=!0,T(b,A-W))):(I.sortIndex=ce,t(o,I),_||E||(_=!0,de(N))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var O=v;return function(){var A=v;v=O;try{return I.apply(this,arguments)}finally{v=A}}}})(Qc);Wc.exports=Qc;var Om=Wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=p,ot=Om;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jc=new Set,Fs={};function Lr(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(Fs[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=Object.prototype.hasOwnProperty,$m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fo={},go={};function Um(e){return hl.call(go,e)?!0:hl.call(fo,e)?!1:$m.test(e)?go[e]=!0:(fo[e]=!0,!1)}function Fm(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Am(e,t,s,n){if(t===null||typeof t>"u"||Fm(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,s,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var pi=/[\-:]([a-z])/g;function fi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pi,fi);Ae[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pi,fi);Ae[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pi,fi);Ae[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function gi(e,t,s,n){var a=Ae.hasOwnProperty(t)?Ae[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Am(t,s,a,n)&&(s=null),n||a===null?Um(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Qt=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pn=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),yi=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),vi=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),bi=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Xc=Symbol.for("react.offscreen"),yo=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=yo&&e[yo]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Fa;function Cs(e){if(Fa===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||""}return`
`+Fa+e}var Aa=!1;function Ha(e,t){if(!e||Aa)return"";Aa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var o=`
`+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=i&&0<=c);break}}}finally{Aa=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Cs(e):""}function Hm(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=Ha(e.type,!1),e;case 11:return e=Ha(e.type.render,!1),e;case 1:return e=Ha(e.type,!0),e;default:return""}}function yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Fr:return"Portal";case pl:return"Profiler";case yi:return"StrictMode";case fl:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yc:return(e.displayName||"Context")+".Consumer";case Kc:return(e._context.displayName||"Context")+".Provider";case vi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bi:return t=e.displayName||null,t!==null?t:yl(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return yl(e(t))}catch{}}return null}function Bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(t);case 8:return t===yi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vm(e){var t=Zc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fn(e){e._valueTracker||(e._valueTracker=Vm(e))}function Gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Zc(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var s=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function vo(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=xr(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&gi(e,"checked",t,!1)}function bl(e,t){ed(e,t);var s=xr(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,s):t.hasOwnProperty("defaultValue")&&jl(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bo(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function jl(e,t,s){(t!=="number"||Jn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Es=Array.isArray;function Gr(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+xr(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jo(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(U(92));if(Es(s)){if(1<s.length)throw Error(U(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:xr(s)}}function td(e,t){var s=xr(t.value),n=xr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function wo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gn,sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function As(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qm=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(e){qm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ms[t]=Ms[e]})});function nd(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ms.hasOwnProperty(e)&&Ms[e]?(""+t).trim():t+"px"}function ad(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=nd(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var Wm=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(e,t){if(t){if(Wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cl=null,es=null,ts=null;function No(e){if(e=on(e)){if(typeof Cl!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Sa(t),Cl(e.stateNode,e.type,t))}}function ld(e){es?ts?ts.push(e):ts=[e]:es=e}function id(){if(es){var e=es,t=ts;if(ts=es=null,No(e),t)for(e=0;e<t.length;e++)No(t[e])}}function od(e,t){return e(t)}function cd(){}var Ba=!1;function dd(e,t,s){if(Ba)return e(t,s);Ba=!0;try{return od(e,t,s)}finally{Ba=!1,(es!==null||ts!==null)&&(cd(),id())}}function Hs(e,t){var s=e.stateNode;if(s===null)return null;var n=Sa(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(U(231,t,typeof s));return s}var El=!1;if(Ht)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){El=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{El=!1}function Qm(e,t,s,n,a,l,i,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(x){this.onError(x)}}var Is=!1,Kn=null,Yn=!1,Pl=null,Jm={onError:function(e){Is=!0,Kn=e}};function Km(e,t,s,n,a,l,i,c,o){Is=!1,Kn=null,Qm.apply(Jm,arguments)}function Ym(e,t,s,n,a,l,i,c,o){if(Km.apply(this,arguments),Is){if(Is){var d=Kn;Is=!1,Kn=null}else throw Error(U(198));Yn||(Yn=!0,Pl=d)}}function Tr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ko(e){if(Tr(e)!==e)throw Error(U(188))}function Xm(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return ko(a),e;if(l===n)return ko(a),t;l=l.sibling}throw Error(U(188))}if(s.return!==n.return)s=a,n=l;else{for(var i=!1,c=a.child;c;){if(c===s){i=!0,s=a,n=l;break}if(c===n){i=!0,n=a,s=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===s){i=!0,s=l,n=a;break}if(c===n){i=!0,n=l,s=a;break}c=c.sibling}if(!i)throw Error(U(189))}}if(s.alternate!==n)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function md(e){return e=Xm(e),e!==null?xd(e):null}function xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xd(e);if(t!==null)return t;e=e.sibling}return null}var hd=ot.unstable_scheduleCallback,So=ot.unstable_cancelCallback,Zm=ot.unstable_shouldYield,Gm=ot.unstable_requestPaint,Se=ot.unstable_now,e0=ot.unstable_getCurrentPriorityLevel,wi=ot.unstable_ImmediatePriority,pd=ot.unstable_UserBlockingPriority,Xn=ot.unstable_NormalPriority,t0=ot.unstable_LowPriority,fd=ot.unstable_IdlePriority,ja=null,It=null;function r0(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:a0,s0=Math.log,n0=Math.LN2;function a0(e){return e>>>=0,e===0?32:31-(s0(e)/n0|0)|0}var yn=64,vn=4194304;function Ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zn(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var c=i&~a;c!==0?n=Ps(c):(l&=i,l!==0&&(n=Ps(l)))}else i=s&~a,i!==0?n=Ps(i):l!==0&&(n=Ps(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-_t(t),a=1<<s,n|=e[s],t&=~a;return n}function l0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-_t(l),c=1<<i,o=a[i];o===-1?(!(c&s)||c&n)&&(a[i]=l0(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function Dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gd(){var e=yn;return yn<<=1,!(yn&4194240)&&(yn=64),e}function Va(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function an(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=s}function o0(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-_t(s),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~l}}function Ni(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-_t(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var ue=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,ki,bd,jd,wd,Ml=!1,bn=[],nr=null,ar=null,lr=null,Bs=new Map,Vs=new Map,er=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _o(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function bs(e,t,s,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=on(t),t!==null&&ki(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function d0(e,t,s,n,a){switch(t){case"focusin":return nr=bs(nr,e,t,s,n,a),!0;case"dragenter":return ar=bs(ar,e,t,s,n,a),!0;case"mouseover":return lr=bs(lr,e,t,s,n,a),!0;case"pointerover":var l=a.pointerId;return Bs.set(l,bs(Bs.get(l)||null,e,t,s,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Vs.set(l,bs(Vs.get(l)||null,e,t,s,n,a)),!0}return!1}function Nd(e){var t=wr(e.target);if(t!==null){var s=Tr(t);if(s!==null){if(t=s.tag,t===13){if(t=ud(s),t!==null){e.blockedOn=t,wd(e.priority,function(){bd(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function On(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);_l=n,s.target.dispatchEvent(n),_l=null}else return t=on(s),t!==null&&ki(t),e.blockedOn=s,!1;t.shift()}return!0}function Co(e,t,s){On(e)&&s.delete(t)}function u0(){Ml=!1,nr!==null&&On(nr)&&(nr=null),ar!==null&&On(ar)&&(ar=null),lr!==null&&On(lr)&&(lr=null),Bs.forEach(Co),Vs.forEach(Co)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,u0)))}function qs(e){function t(a){return js(a,e)}if(0<bn.length){js(bn[0],e);for(var s=1;s<bn.length;s++){var n=bn[s];n.blockedOn===e&&(n.blockedOn=null)}}for(nr!==null&&js(nr,e),ar!==null&&js(ar,e),lr!==null&&js(lr,e),Bs.forEach(t),Vs.forEach(t),s=0;s<er.length;s++)n=er[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<er.length&&(s=er[0],s.blockedOn===null);)Nd(s),s.blockedOn===null&&er.shift()}var rs=Qt.ReactCurrentBatchConfig,Gn=!0;function m0(e,t,s,n){var a=ue,l=rs.transition;rs.transition=null;try{ue=1,Si(e,t,s,n)}finally{ue=a,rs.transition=l}}function x0(e,t,s,n){var a=ue,l=rs.transition;rs.transition=null;try{ue=4,Si(e,t,s,n)}finally{ue=a,rs.transition=l}}function Si(e,t,s,n){if(Gn){var a=Il(e,t,s,n);if(a===null)el(e,t,n,ea,s),_o(e,n);else if(d0(a,e,t,s,n))n.stopPropagation();else if(_o(e,n),t&4&&-1<c0.indexOf(e)){for(;a!==null;){var l=on(a);if(l!==null&&vd(l),l=Il(e,t,s,n),l===null&&el(e,t,n,ea,s),l===a)break;a=l}a!==null&&n.stopPropagation()}else el(e,t,n,null,s)}}var ea=null;function Il(e,t,s,n){if(ea=null,e=ji(n),e=wr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=ud(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ea=e,null}function kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case wi:return 1;case pd:return 4;case Xn:case t0:return 16;case fd:return 536870912;default:return 16}default:return 16}}var rr=null,_i=null,zn=null;function Sd(){if(zn)return zn;var e,t=_i,s=t.length,n,a="value"in rr?rr.value:rr.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[l-n];n++);return zn=a.slice(e,1<n?1-n:void 0)}function $n(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function Eo(){return!1}function dt(e){function t(s,n,a,l,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?jn:Eo,this.isPropagationStopped=Eo,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=dt(ps),ln=Ne({},ps,{view:0,detail:0}),h0=dt(ln),qa,Wa,ws,wa=Ne({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(qa=e.screenX-ws.screenX,Wa=e.screenY-ws.screenY):Wa=qa=0,ws=e),qa)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),Po=dt(wa),p0=Ne({},wa,{dataTransfer:0}),f0=dt(p0),g0=Ne({},ln,{relatedTarget:0}),Qa=dt(g0),y0=Ne({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=dt(y0),b0=Ne({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j0=dt(b0),w0=Ne({},ps,{data:0}),Do=dt(w0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S0[e])?!!t[e]:!1}function Ei(){return _0}var C0=Ne({},ln,{key:function(e){if(e.key){var t=N0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E0=dt(C0),P0=Ne({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=dt(P0),D0=Ne({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),M0=dt(D0),I0=Ne({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),L0=dt(I0),T0=Ne({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=dt(T0),O0=[9,13,27,32],Pi=Ht&&"CompositionEvent"in window,Ls=null;Ht&&"documentMode"in document&&(Ls=document.documentMode);var z0=Ht&&"TextEvent"in window&&!Ls,_d=Ht&&(!Pi||Ls&&8<Ls&&11>=Ls),Io=" ",Lo=!1;function Cd(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function $0(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(Lo=!0,Io);case"textInput":return e=t.data,e===Io&&Lo?null:e;default:return null}}function U0(e,t){if(Hr)return e==="compositionend"||!Pi&&Cd(e,t)?(e=Sd(),zn=_i=rr=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function To(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F0[e.type]:t==="textarea"}function Pd(e,t,s,n){ld(n),t=ta(t,"onChange"),0<t.length&&(s=new Ci("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ts=null,Ws=null;function A0(e){Fd(e,0)}function Na(e){var t=qr(e);if(Gc(t))return e}function H0(e,t){if(e==="change")return t}var Dd=!1;if(Ht){var Ja;if(Ht){var Ka="oninput"in document;if(!Ka){var Ro=document.createElement("div");Ro.setAttribute("oninput","return;"),Ka=typeof Ro.oninput=="function"}Ja=Ka}else Ja=!1;Dd=Ja&&(!document.documentMode||9<document.documentMode)}function Oo(){Ts&&(Ts.detachEvent("onpropertychange",Md),Ws=Ts=null)}function Md(e){if(e.propertyName==="value"&&Na(Ws)){var t=[];Pd(t,Ws,e,ji(e)),dd(A0,t)}}function B0(e,t,s){e==="focusin"?(Oo(),Ts=t,Ws=s,Ts.attachEvent("onpropertychange",Md)):e==="focusout"&&Oo()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Ws)}function q0(e,t){if(e==="click")return Na(t)}function W0(e,t){if(e==="input"||e==="change")return Na(t)}function Q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Q0;function Qs(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!hl.call(t,a)||!Et(e[a],t[a]))return!1}return!0}function zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $o(e,t){var s=zo(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zo(s)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=Jn();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Jn(e.document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function J0(e){var t=Ld(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Id(s.ownerDocument.documentElement,s)){if(n!==null&&Di(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=$o(s,l);var i=$o(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K0=Ht&&"documentMode"in document&&11>=document.documentMode,Br=null,Ll=null,Rs=null,Tl=!1;function Uo(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tl||Br==null||Br!==Jn(n)||(n=Br,"selectionStart"in n&&Di(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rs&&Qs(Rs,n)||(Rs=n,n=ta(Ll,"onSelect"),0<n.length&&(t=new Ci("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Br)))}function wn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Vr={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Ya={},Td={};Ht&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function ka(e){if(Ya[e])return Ya[e];if(!Vr[e])return e;var t=Vr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Td)return Ya[e]=t[s];return e}var Rd=ka("animationend"),Od=ka("animationiteration"),zd=ka("animationstart"),$d=ka("transitionend"),Ud=new Map,Fo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){Ud.set(e,t),Lr(t,[e])}for(var Xa=0;Xa<Fo.length;Xa++){var Za=Fo[Xa],Y0=Za.toLowerCase(),X0=Za[0].toUpperCase()+Za.slice(1);pr(Y0,"on"+X0)}pr(Rd,"onAnimationEnd");pr(Od,"onAnimationIteration");pr(zd,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr($d,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Ao(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Ym(n,t,void 0,e),e.currentTarget=null}function Fd(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var c=n[i],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==l&&a.isPropagationStopped())break e;Ao(a,c,d),l=o}else for(i=0;i<n.length;i++){if(c=n[i],o=c.instance,d=c.currentTarget,c=c.listener,o!==l&&a.isPropagationStopped())break e;Ao(a,c,d),l=o}}}if(Yn)throw e=Pl,Yn=!1,Pl=null,e}function pe(e,t){var s=t[Ul];s===void 0&&(s=t[Ul]=new Set);var n=e+"__bubble";s.has(n)||(Ad(t,e,2,!1),s.add(n))}function Ga(e,t,s){var n=0;t&&(n|=4),Ad(s,e,n,t)}var Nn="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[Nn]){e[Nn]=!0,Jc.forEach(function(s){s!=="selectionchange"&&(Z0.has(s)||Ga(s,!1,e),Ga(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nn]||(t[Nn]=!0,Ga("selectionchange",!1,t))}}function Ad(e,t,s,n){switch(kd(t)){case 1:var a=m0;break;case 4:a=x0;break;default:a=Si}s=a.bind(null,t,s,e),a=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function el(e,t,s,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var o=i.tag;if((o===3||o===4)&&(o=i.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;i=i.return}for(;c!==null;){if(i=wr(c),i===null)return;if(o=i.tag,o===5||o===6){n=l=i;continue e}c=c.parentNode}}n=n.return}dd(function(){var d=l,x=ji(s),g=[];e:{var v=Ud.get(e);if(v!==void 0){var E=Ci,_=e;switch(e){case"keypress":if($n(s)===0)break e;case"keydown":case"keyup":E=E0;break;case"focusin":_="focus",E=Qa;break;case"focusout":_="blur",E=Qa;break;case"beforeblur":case"afterblur":E=Qa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=M0;break;case Rd:case Od:case zd:E=v0;break;case $d:E=L0;break;case"scroll":E=h0;break;case"wheel":E=R0;break;case"copy":case"cut":case"paste":E=j0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Mo}var P=(t&4)!==0,w=!P&&e==="scroll",h=P?v!==null?v+"Capture":null:v;P=[];for(var m=d,f;m!==null;){f=m;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,h!==null&&(b=Hs(m,h),b!=null&&P.push(Ks(m,b,f)))),w)break;m=m.return}0<P.length&&(v=new E(v,_,null,s,x),g.push({event:v,listeners:P}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",v&&s!==_l&&(_=s.relatedTarget||s.fromElement)&&(wr(_)||_[Bt]))break e;if((E||v)&&(v=x.window===x?x:(v=x.ownerDocument)?v.defaultView||v.parentWindow:window,E?(_=s.relatedTarget||s.toElement,E=d,_=_?wr(_):null,_!==null&&(w=Tr(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=d),E!==_)){if(P=Po,b="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(P=Mo,b="onPointerLeave",h="onPointerEnter",m="pointer"),w=E==null?v:qr(E),f=_==null?v:qr(_),v=new P(b,m+"leave",E,s,x),v.target=w,v.relatedTarget=f,b=null,wr(x)===d&&(P=new P(h,m+"enter",_,s,x),P.target=f,P.relatedTarget=w,b=P),w=b,E&&_)t:{for(P=E,h=_,m=0,f=P;f;f=Ur(f))m++;for(f=0,b=h;b;b=Ur(b))f++;for(;0<m-f;)P=Ur(P),m--;for(;0<f-m;)h=Ur(h),f--;for(;m--;){if(P===h||h!==null&&P===h.alternate)break t;P=Ur(P),h=Ur(h)}P=null}else P=null;E!==null&&Ho(g,v,E,P,!1),_!==null&&w!==null&&Ho(g,w,_,P,!0)}}e:{if(v=d?qr(d):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var N=H0;else if(To(v))if(Dd)N=W0;else{N=V0;var k=B0}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=q0);if(N&&(N=N(e,d))){Pd(g,N,s,x);break e}k&&k(e,v,d),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&jl(v,"number",v.value)}switch(k=d?qr(d):window,e){case"focusin":(To(k)||k.contentEditable==="true")&&(Br=k,Ll=d,Rs=null);break;case"focusout":Rs=Ll=Br=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Uo(g,s,x);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Uo(g,s,x)}var j;if(Pi)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Hr?Cd(e,s)&&(L="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(L="onCompositionStart");L&&(_d&&s.locale!=="ko"&&(Hr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Hr&&(j=Sd()):(rr=x,_i="value"in rr?rr.value:rr.textContent,Hr=!0)),k=ta(d,L),0<k.length&&(L=new Do(L,e,null,s,x),g.push({event:L,listeners:k}),j?L.data=j:(j=Ed(s),j!==null&&(L.data=j)))),(j=z0?$0(e,s):U0(e,s))&&(d=ta(d,"onBeforeInput"),0<d.length&&(x=new Do("onBeforeInput","beforeinput",null,s,x),g.push({event:x,listeners:d}),x.data=j))}Fd(g,t)})}function Ks(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ta(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Hs(e,s),l!=null&&n.unshift(Ks(e,l,a)),l=Hs(e,t),l!=null&&n.push(Ks(e,l,a))),e=e.return}return n}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ho(e,t,s,n,a){for(var l=t._reactName,i=[];s!==null&&s!==n;){var c=s,o=c.alternate,d=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&d!==null&&(c=d,a?(o=Hs(s,l),o!=null&&i.unshift(Ks(s,o,c))):a||(o=Hs(s,l),o!=null&&i.push(Ks(s,o,c)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var G0=/\r\n?/g,ex=/\u0000|\uFFFD/g;function Bo(e){return(typeof e=="string"?e:""+e).replace(G0,`
`).replace(ex,"")}function kn(e,t,s){if(t=Bo(t),Bo(e)!==t&&s)throw Error(U(425))}function ra(){}var Rl=null,Ol=null;function zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,Vo=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof Vo<"u"?function(e){return Vo.resolve(null).then(e).catch(sx)}:$l;function sx(e){setTimeout(function(){throw e})}function tl(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),qs(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);qs(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+fs,Ys="__reactProps$"+fs,Bt="__reactContainer$"+fs,Ul="__reactEvents$"+fs,nx="__reactListeners$"+fs,ax="__reactHandles$"+fs;function wr(e){var t=e[Mt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Bt]||s[Mt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qo(e);e!==null;){if(s=e[Mt])return s;e=qo(e)}return t}e=s,s=e.parentNode}return null}function on(e){return e=e[Mt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Sa(e){return e[Ys]||null}var Fl=[],Wr=-1;function fr(e){return{current:e}}function fe(e){0>Wr||(e.current=Fl[Wr],Fl[Wr]=null,Wr--)}function he(e,t){Wr++,Fl[Wr]=e.current,e.current=t}var hr={},We=fr(hr),tt=fr(!1),Cr=hr;function is(e,t){var s=e.type.contextTypes;if(!s)return hr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rt(e){return e=e.childContextTypes,e!=null}function sa(){fe(tt),fe(We)}function Wo(e,t,s){if(We.current!==hr)throw Error(U(168));he(We,t),he(tt,s)}function Hd(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(U(108,Bm(e)||"Unknown",a));return Ne({},s,n)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,Cr=We.current,he(We,e),he(tt,tt.current),!0}function Qo(e,t,s){var n=e.stateNode;if(!n)throw Error(U(169));s?(e=Hd(e,t,Cr),n.__reactInternalMemoizedMergedChildContext=e,fe(tt),fe(We),he(We,e)):fe(tt),he(tt,s)}var zt=null,_a=!1,rl=!1;function Bd(e){zt===null?zt=[e]:zt.push(e)}function lx(e){_a=!0,Bd(e)}function gr(){if(!rl&&zt!==null){rl=!0;var e=0,t=ue;try{var s=zt;for(ue=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}zt=null,_a=!1}catch(a){throw zt!==null&&(zt=zt.slice(e+1)),hd(wi,gr),a}finally{ue=t,rl=!1}}return null}var Qr=[],Jr=0,aa=null,la=0,ht=[],pt=0,Er=null,$t=1,Ut="";function vr(e,t){Qr[Jr++]=la,Qr[Jr++]=aa,aa=e,la=t}function Vd(e,t,s){ht[pt++]=$t,ht[pt++]=Ut,ht[pt++]=Er,Er=e;var n=$t;e=Ut;var a=32-_t(n)-1;n&=~(1<<a),s+=1;var l=32-_t(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,$t=1<<32-_t(t)+a|s<<a|n,Ut=l+e}else $t=1<<l|s<<a|n,Ut=e}function Mi(e){e.return!==null&&(vr(e,1),Vd(e,1,0))}function Ii(e){for(;e===aa;)aa=Qr[--Jr],Qr[Jr]=null,la=Qr[--Jr],Qr[Jr]=null;for(;e===Er;)Er=ht[--pt],ht[pt]=null,Ut=ht[--pt],ht[pt]=null,$t=ht[--pt],ht[pt]=null}var it=null,lt=null,ge=!1,St=null;function qd(e,t){var s=ft(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Jo(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,lt=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Er!==null?{id:$t,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ft(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,it=e,lt=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(ge){var t=lt;if(t){var s=t;if(!Jo(e,t)){if(Al(e))throw Error(U(418));t=ir(s.nextSibling);var n=it;t&&Jo(e,t)?qd(n,s):(e.flags=e.flags&-4097|2,ge=!1,it=e)}}else{if(Al(e))throw Error(U(418));e.flags=e.flags&-4097|2,ge=!1,it=e}}}function Ko(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Sn(e){if(e!==it)return!1;if(!ge)return Ko(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zl(e.type,e.memoizedProps)),t&&(t=lt)){if(Al(e))throw Wd(),Error(U(418));for(;t;)qd(e,t),t=ir(t.nextSibling)}if(Ko(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){lt=ir(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=it?ir(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=lt;e;)e=ir(e.nextSibling)}function os(){lt=it=null,ge=!1}function Li(e){St===null?St=[e]:St.push(e)}var ix=Qt.ReactCurrentBatchConfig;function Ns(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var n=s.stateNode}if(!n)throw Error(U(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(U(284));if(!s._owner)throw Error(U(290,e))}return e}function _n(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){var t=e._init;return t(e._payload)}function Qd(e){function t(h,m){if(e){var f=h.deletions;f===null?(h.deletions=[m],h.flags|=16):f.push(m)}}function s(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function n(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function a(h,m){return h=ur(h,m),h.index=0,h.sibling=null,h}function l(h,m,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<m?(h.flags|=2,m):f):(h.flags|=2,m)):(h.flags|=1048576,m)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,m,f,b){return m===null||m.tag!==6?(m=cl(f,h.mode,b),m.return=h,m):(m=a(m,f),m.return=h,m)}function o(h,m,f,b){var N=f.type;return N===Ar?x(h,m,f.props.children,b,f.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Yo(N)===m.type)?(b=a(m,f.props),b.ref=Ns(h,m,f),b.return=h,b):(b=qn(f.type,f.key,f.props,null,h.mode,b),b.ref=Ns(h,m,f),b.return=h,b)}function d(h,m,f,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=dl(f,h.mode,b),m.return=h,m):(m=a(m,f.children||[]),m.return=h,m)}function x(h,m,f,b,N){return m===null||m.tag!==7?(m=_r(f,h.mode,b,N),m.return=h,m):(m=a(m,f),m.return=h,m)}function g(h,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=cl(""+m,h.mode,f),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pn:return f=qn(m.type,m.key,m.props,null,h.mode,f),f.ref=Ns(h,null,m),f.return=h,f;case Fr:return m=dl(m,h.mode,f),m.return=h,m;case Xt:var b=m._init;return g(h,b(m._payload),f)}if(Es(m)||ys(m))return m=_r(m,h.mode,f,null),m.return=h,m;_n(h,m)}return null}function v(h,m,f,b){var N=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:c(h,m,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case pn:return f.key===N?o(h,m,f,b):null;case Fr:return f.key===N?d(h,m,f,b):null;case Xt:return N=f._init,v(h,m,N(f._payload),b)}if(Es(f)||ys(f))return N!==null?null:x(h,m,f,b,null);_n(h,f)}return null}function E(h,m,f,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(f)||null,c(m,h,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pn:return h=h.get(b.key===null?f:b.key)||null,o(m,h,b,N);case Fr:return h=h.get(b.key===null?f:b.key)||null,d(m,h,b,N);case Xt:var k=b._init;return E(h,m,f,k(b._payload),N)}if(Es(b)||ys(b))return h=h.get(f)||null,x(m,h,b,N,null);_n(m,b)}return null}function _(h,m,f,b){for(var N=null,k=null,j=m,L=m=0,R=null;j!==null&&L<f.length;L++){j.index>L?(R=j,j=null):R=j.sibling;var z=v(h,j,f[L],b);if(z===null){j===null&&(j=R);break}e&&j&&z.alternate===null&&t(h,j),m=l(z,m,L),k===null?N=z:k.sibling=z,k=z,j=R}if(L===f.length)return s(h,j),ge&&vr(h,L),N;if(j===null){for(;L<f.length;L++)j=g(h,f[L],b),j!==null&&(m=l(j,m,L),k===null?N=j:k.sibling=j,k=j);return ge&&vr(h,L),N}for(j=n(h,j);L<f.length;L++)R=E(j,h,L,f[L],b),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?L:R.key),m=l(R,m,L),k===null?N=R:k.sibling=R,k=R);return e&&j.forEach(function(D){return t(h,D)}),ge&&vr(h,L),N}function P(h,m,f,b){var N=ys(f);if(typeof N!="function")throw Error(U(150));if(f=N.call(f),f==null)throw Error(U(151));for(var k=N=null,j=m,L=m=0,R=null,z=f.next();j!==null&&!z.done;L++,z=f.next()){j.index>L?(R=j,j=null):R=j.sibling;var D=v(h,j,z.value,b);if(D===null){j===null&&(j=R);break}e&&j&&D.alternate===null&&t(h,j),m=l(D,m,L),k===null?N=D:k.sibling=D,k=D,j=R}if(z.done)return s(h,j),ge&&vr(h,L),N;if(j===null){for(;!z.done;L++,z=f.next())z=g(h,z.value,b),z!==null&&(m=l(z,m,L),k===null?N=z:k.sibling=z,k=z);return ge&&vr(h,L),N}for(j=n(h,j);!z.done;L++,z=f.next())z=E(j,h,L,z.value,b),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?L:z.key),m=l(z,m,L),k===null?N=z:k.sibling=z,k=z);return e&&j.forEach(function(K){return t(h,K)}),ge&&vr(h,L),N}function w(h,m,f,b){if(typeof f=="object"&&f!==null&&f.type===Ar&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case pn:e:{for(var N=f.key,k=m;k!==null;){if(k.key===N){if(N=f.type,N===Ar){if(k.tag===7){s(h,k.sibling),m=a(k,f.props.children),m.return=h,h=m;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Yo(N)===k.type){s(h,k.sibling),m=a(k,f.props),m.ref=Ns(h,k,f),m.return=h,h=m;break e}s(h,k);break}else t(h,k);k=k.sibling}f.type===Ar?(m=_r(f.props.children,h.mode,b,f.key),m.return=h,h=m):(b=qn(f.type,f.key,f.props,null,h.mode,b),b.ref=Ns(h,m,f),b.return=h,h=b)}return i(h);case Fr:e:{for(k=f.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){s(h,m.sibling),m=a(m,f.children||[]),m.return=h,h=m;break e}else{s(h,m);break}else t(h,m);m=m.sibling}m=dl(f,h.mode,b),m.return=h,h=m}return i(h);case Xt:return k=f._init,w(h,m,k(f._payload),b)}if(Es(f))return _(h,m,f,b);if(ys(f))return P(h,m,f,b);_n(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(s(h,m.sibling),m=a(m,f),m.return=h,h=m):(s(h,m),m=cl(f,h.mode,b),m.return=h,h=m),i(h)):s(h,m)}return w}var cs=Qd(!0),Jd=Qd(!1),ia=fr(null),oa=null,Kr=null,Ti=null;function Ri(){Ti=Kr=oa=null}function Oi(e){var t=ia.current;fe(ia),e._currentValue=t}function Bl(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function ss(e,t){oa=e,Ti=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Ti!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(oa===null)throw Error(U(308));Kr=e,oa.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var Nr=null;function zi(e){Nr===null?Nr=[e]:Nr.push(e)}function Kd(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,zi(t)):(s.next=a.next,a.next=s),t.interleaved=s,Vt(e,n)}function Vt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Zt=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vt(e,s)}return a=n.interleaved,a===null?(t.next=t,zi(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vt(e,s)}function Un(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ni(e,s)}}function Xo(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ca(e,t,s,n){var a=e.updateQueue;Zt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,d=o.next;o.next=null,i===null?l=d:i.next=d,i=o;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==i&&(c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=o))}if(l!==null){var g=a.baseState;i=0,x=d=o=null,c=l;do{var v=c.lane,E=c.eventTime;if((n&v)===v){x!==null&&(x=x.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var _=e,P=c;switch(v=t,E=s,P.tag){case 1:if(_=P.payload,typeof _=="function"){g=_.call(E,g,v);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=P.payload,v=typeof _=="function"?_.call(E,g,v):_,v==null)break e;g=Ne({},g,v);break e;case 2:Zt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[c]:v.push(c))}else E={eventTime:E,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(d=x=E,o=g):x=x.next=E,i|=v;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;v=c,c=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);if(x===null&&(o=g),a.baseState=o,a.firstBaseUpdate=d,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Dr|=i,e.lanes=i,e.memoizedState=g}}function Zo(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(U(191,a));a.call(n)}}}var cn={},Lt=fr(cn),Xs=fr(cn),Zs=fr(cn);function kr(e){if(e===cn)throw Error(U(174));return e}function Ui(e,t){switch(he(Zs,t),he(Xs,e),he(Lt,cn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nl(t,e)}fe(Lt),he(Lt,t)}function ds(){fe(Lt),fe(Xs),fe(Zs)}function Xd(e){kr(Zs.current);var t=kr(Lt.current),s=Nl(t,e.type);t!==s&&(he(Xs,e),he(Lt,s))}function Fi(e){Xs.current===e&&(fe(Lt),fe(Xs))}var be=fr(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=[];function Ai(){for(var e=0;e<sl.length;e++)sl[e]._workInProgressVersionPrimary=null;sl.length=0}var Fn=Qt.ReactCurrentDispatcher,nl=Qt.ReactCurrentBatchConfig,Pr=0,we=null,Ie=null,Oe=null,ua=!1,Os=!1,Gs=0,ox=0;function Be(){throw Error(U(321))}function Hi(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Et(e[s],t[s]))return!1;return!0}function Bi(e,t,s,n,a,l){if(Pr=l,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fn.current=e===null||e.memoizedState===null?mx:xx,e=s(n,a),Os){l=0;do{if(Os=!1,Gs=0,25<=l)throw Error(U(301));l+=1,Oe=Ie=null,t.updateQueue=null,Fn.current=hx,e=s(n,a)}while(Os)}if(Fn.current=ma,t=Ie!==null&&Ie.next!==null,Pr=0,Oe=Ie=we=null,ua=!1,t)throw Error(U(300));return e}function Vi(){var e=Gs!==0;return Gs=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function vt(){if(Ie===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Oe===null?we.memoizedState:Oe.next;if(t!==null)Oe=t,Ie=e;else{if(e===null)throw Error(U(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function en(e,t){return typeof t=="function"?t(e):t}function al(e){var t=vt(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var n=Ie,a=n.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=i=null,o=null,d=l;do{var x=d.lane;if((Pr&x)===x)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var g={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=g,i=n):o=o.next=g,we.lanes|=x,Dr|=x}d=d.next}while(d!==null&&d!==l);o===null?i=n:o.next=c,Et(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=o,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do l=a.lane,we.lanes|=l,Dr|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ll(e){var t=vt(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Et(l,t.memoizedState)||(et=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function Zd(){}function Gd(e,t){var s=we,n=vt(),a=t(),l=!Et(n.memoizedState,a);if(l&&(n.memoizedState=a,et=!0),n=n.queue,qi(ru.bind(null,s,n,e),[e]),n.getSnapshot!==t||l||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,tn(9,tu.bind(null,s,n,a,t),void 0,null),$e===null)throw Error(U(349));Pr&30||eu(s,t,a)}return a}function eu(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function tu(e,t,s,n){t.value=s,t.getSnapshot=n,su(t)&&nu(e)}function ru(e,t,s){return s(function(){su(t)&&nu(e)})}function su(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Et(e,s)}catch{return!0}}function nu(e){var t=Vt(e,1);t!==null&&Ct(t,e,1,-1)}function Go(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:e},t.queue=e,e=e.dispatch=ux.bind(null,we,e),[t.memoizedState,e]}function tn(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function au(){return vt().memoizedState}function An(e,t,s,n){var a=Dt();we.flags|=e,a.memoizedState=tn(1|t,s,void 0,n===void 0?null:n)}function Ca(e,t,s,n){var a=vt();n=n===void 0?null:n;var l=void 0;if(Ie!==null){var i=Ie.memoizedState;if(l=i.destroy,n!==null&&Hi(n,i.deps)){a.memoizedState=tn(t,s,l,n);return}}we.flags|=e,a.memoizedState=tn(1|t,s,l,n)}function ec(e,t){return An(8390656,8,e,t)}function qi(e,t){return Ca(2048,8,e,t)}function lu(e,t){return Ca(4,2,e,t)}function iu(e,t){return Ca(4,4,e,t)}function ou(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cu(e,t,s){return s=s!=null?s.concat([e]):null,Ca(4,4,ou.bind(null,t,e),s)}function Wi(){}function du(e,t){var s=vt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Hi(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function uu(e,t){var s=vt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Hi(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function mu(e,t,s){return Pr&21?(Et(s,t)||(s=gd(),we.lanes|=s,Dr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=s)}function cx(e,t){var s=ue;ue=s!==0&&4>s?s:4,e(!0);var n=nl.transition;nl.transition={};try{e(!1),t()}finally{ue=s,nl.transition=n}}function xu(){return vt().memoizedState}function dx(e,t,s){var n=dr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},hu(e))pu(t,s);else if(s=Kd(e,t,s,n),s!==null){var a=Ye();Ct(s,e,n,a),fu(s,t,n)}}function ux(e,t,s){var n=dr(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(hu(e))pu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,s);if(a.hasEagerState=!0,a.eagerState=c,Et(c,i)){var o=t.interleaved;o===null?(a.next=a,zi(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch{}finally{}s=Kd(e,t,a,n),s!==null&&(a=Ye(),Ct(s,e,n,a),fu(s,t,n))}}function hu(e){var t=e.alternate;return e===we||t!==null&&t===we}function pu(e,t){Os=ua=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function fu(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ni(e,s)}}var ma={readContext:yt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},mx={readContext:yt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:ec,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,An(4194308,4,ou.bind(null,t,e),s)},useLayoutEffect:function(e,t){return An(4194308,4,e,t)},useInsertionEffect:function(e,t){return An(4,2,e,t)},useMemo:function(e,t){var s=Dt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Dt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dx.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Go,useDebugValue:Wi,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Go(!1),t=e[0];return e=cx.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=we,a=Dt();if(ge){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),$e===null)throw Error(U(349));Pr&30||eu(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,ec(ru.bind(null,n,l,e),[e]),n.flags|=2048,tn(9,tu.bind(null,n,l,s,t),void 0,null),s},useId:function(){var e=Dt(),t=$e.identifierPrefix;if(ge){var s=Ut,n=$t;s=(n&~(1<<32-_t(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Gs++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=ox++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xx={readContext:yt,useCallback:du,useContext:yt,useEffect:qi,useImperativeHandle:cu,useInsertionEffect:lu,useLayoutEffect:iu,useMemo:uu,useReducer:al,useRef:au,useState:function(){return al(en)},useDebugValue:Wi,useDeferredValue:function(e){var t=vt();return mu(t,Ie.memoizedState,e)},useTransition:function(){var e=al(en)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:Gd,useId:xu,unstable_isNewReconciler:!1},hx={readContext:yt,useCallback:du,useContext:yt,useEffect:qi,useImperativeHandle:cu,useInsertionEffect:lu,useLayoutEffect:iu,useMemo:uu,useReducer:ll,useRef:au,useState:function(){return ll(en)},useDebugValue:Wi,useDeferredValue:function(e){var t=vt();return Ie===null?t.memoizedState=e:mu(t,Ie.memoizedState,e)},useTransition:function(){var e=ll(en)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:Gd,useId:xu,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Vl(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ne({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ea={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=dr(e),l=Ft(n,a);l.payload=t,s!=null&&(l.callback=s),t=or(e,l,a),t!==null&&(Ct(t,e,a,n),Un(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ye(),a=dr(e),l=Ft(n,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=or(e,l,a),t!==null&&(Ct(t,e,a,n),Un(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),n=dr(e),a=Ft(s,n);a.tag=2,t!=null&&(a.callback=t),t=or(e,a,n),t!==null&&(Ct(t,e,n,s),Un(t,e,n))}};function tc(e,t,s,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Qs(s,n)||!Qs(a,l):!0}function gu(e,t,s){var n=!1,a=hr,l=t.contextType;return typeof l=="object"&&l!==null?l=yt(l):(a=rt(t)?Cr:We.current,n=t.contextTypes,l=(n=n!=null)?is(e,a):hr),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ea,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function rc(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function ql(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},$i(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=yt(l):(l=rt(t)?Cr:We.current,a.context=is(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Vl(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ea.enqueueReplaceState(a,a.state,null),ca(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t){try{var s="",n=t;do s+=Hm(n),n=n.return;while(n);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function il(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var px=typeof WeakMap=="function"?WeakMap:Map;function yu(e,t,s){s=Ft(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){ha||(ha=!0,ri=n),Wl(e,t)},s}function vu(e,t,s){s=Ft(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Wl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Wl(e,t),typeof n!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function sc(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new px;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Px.bind(null,e,t,s),t.then(e,e))}function nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ac(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ft(-1,1),t.tag=2,or(s,t,1))),s.lanes|=1),e)}var fx=Qt.ReactCurrentOwner,et=!1;function Ke(e,t,s,n){t.child=e===null?Jd(t,null,s,n):cs(t,e.child,s,n)}function lc(e,t,s,n,a){s=s.render;var l=t.ref;return ss(t,a),n=Bi(e,t,s,n,l,a),s=Vi(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qt(e,t,a)):(ge&&s&&Mi(t),t.flags|=1,Ke(e,t,n,a),t.child)}function ic(e,t,s,n,a){if(e===null){var l=s.type;return typeof l=="function"&&!eo(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,bu(e,t,l,n,a)):(e=qn(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:Qs,s(i,n)&&e.ref===t.ref)return qt(e,t,a)}return t.flags|=1,e=ur(l,n),e.ref=t.ref,e.return=t,t.child=e}function bu(e,t,s,n,a){if(e!==null){var l=e.memoizedProps;if(Qs(l,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,qt(e,t,a)}return Ql(e,t,s,n,a)}function ju(e,t,s){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Xr,nt),nt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Xr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:s,he(Xr,nt),nt|=n}else l!==null?(n=l.baseLanes|s,t.memoizedState=null):n=s,he(Xr,nt),nt|=n;return Ke(e,t,a,s),t.child}function wu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ql(e,t,s,n,a){var l=rt(s)?Cr:We.current;return l=is(t,l),ss(t,a),s=Bi(e,t,s,n,l,a),n=Vi(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qt(e,t,a)):(ge&&n&&Mi(t),t.flags|=1,Ke(e,t,s,a),t.child)}function oc(e,t,s,n,a){if(rt(s)){var l=!0;na(t)}else l=!1;if(ss(t,a),t.stateNode===null)Hn(e,t),gu(t,s,n),ql(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var o=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=yt(d):(d=rt(s)?Cr:We.current,d=is(t,d));var x=s.getDerivedStateFromProps,g=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==n||o!==d)&&rc(t,i,n,d),Zt=!1;var v=t.memoizedState;i.state=v,ca(t,n,i,a),o=t.memoizedState,c!==n||v!==o||tt.current||Zt?(typeof x=="function"&&(Vl(t,s,x,n),o=t.memoizedState),(c=Zt||tc(t,s,c,n,v,o,d))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),i.props=n,i.state=o,i.context=d,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Yd(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:wt(t.type,c),i.props=d,g=t.pendingProps,v=i.context,o=s.contextType,typeof o=="object"&&o!==null?o=yt(o):(o=rt(s)?Cr:We.current,o=is(t,o));var E=s.getDerivedStateFromProps;(x=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==g||v!==o)&&rc(t,i,n,o),Zt=!1,v=t.memoizedState,i.state=v,ca(t,n,i,a);var _=t.memoizedState;c!==g||v!==_||tt.current||Zt?(typeof E=="function"&&(Vl(t,s,E,n),_=t.memoizedState),(d=Zt||tc(t,s,d,n,v,_,o)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,_,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,_,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),i.props=n,i.state=_,i.context=o,n=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return Jl(e,t,s,n,l,a)}function Jl(e,t,s,n,a,l){wu(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Qo(t,s,!1),qt(e,t,l);n=t.stateNode,fx.current=t;var c=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=cs(t,e.child,null,l),t.child=cs(t,null,c,l)):Ke(e,t,c,l),t.memoizedState=n.state,a&&Qo(t,s,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Wo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wo(e,t.context,!1),Ui(e,t.containerInfo)}function cc(e,t,s,n,a){return os(),Li(a),t.flags|=256,Ke(e,t,s,n),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ku(e,t,s){var n=t.pendingProps,a=be.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),he(be,a&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Ma(i,n,0,null),e=_r(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Yl(s),t.memoizedState=Kl,e):Qi(t,i));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return gx(e,t,i,n,c,a,s);if(l){l=n.fallback,i=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=ur(a,o),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=ur(c,l):(l=_r(l,i,s,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Yl(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=Kl,n}return l=e.child,e=l.sibling,n=ur(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Qi(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cn(e,t,s,n){return n!==null&&Li(n),cs(t,e.child,null,s),e=Qi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gx(e,t,s,n,a,l,i){if(s)return t.flags&256?(t.flags&=-257,n=il(Error(U(422))),Cn(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Ma({mode:"visible",children:n.children},a,0,null),l=_r(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&cs(t,e.child,null,i),t.child.memoizedState=Yl(i),t.memoizedState=Kl,l);if(!(t.mode&1))return Cn(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(U(419)),n=il(l,n,void 0),Cn(e,t,i,n)}if(c=(i&e.childLanes)!==0,et||c){if(n=$e,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Vt(e,a),Ct(n,e,a,-1))}return Gi(),n=il(Error(U(421))),Cn(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Dx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,lt=ir(a.nextSibling),it=t,ge=!0,St=null,e!==null&&(ht[pt++]=$t,ht[pt++]=Ut,ht[pt++]=Er,$t=e.id,Ut=e.overflow,Er=t),t=Qi(t,n.children),t.flags|=4096,t)}function dc(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bl(e.return,t,s)}function ol(e,t,s,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=a)}function Su(e,t,s){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ke(e,t,n.children,s),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dc(e,s,t);else if(e.tag===19)dc(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(be,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&da(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),ol(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&da(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}ol(t,!0,s,null,l);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=ur(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ur(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function yx(e,t,s){switch(t.tag){case 3:Nu(t),os();break;case 5:Xd(t);break;case 1:rt(t.type)&&na(t);break;case 4:Ui(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;he(ia,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(be,be.current&1),t.flags|=128,null):s&t.child.childLanes?ku(e,t,s):(he(be,be.current&1),e=qt(e,t,s),e!==null?e.sibling:null);he(be,be.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Su(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),he(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,s)}return qt(e,t,s)}var _u,Xl,Cu,Eu;_u=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Xl=function(){};Cu=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kr(Lt.current);var l=null;switch(s){case"input":a=vl(e,a),n=vl(e,n),l=[];break;case"select":a=Ne({},a,{value:void 0}),n=Ne({},n,{value:void 0}),l=[];break;case"textarea":a=wl(e,a),n=wl(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ra)}kl(s,n);var i;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(i in c)c.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fs.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var o=n[d];if(c=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(i in c)!c.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in o)o.hasOwnProperty(i)&&c[i]!==o[i]&&(s||(s={}),s[i]=o[i])}else s||(l||(l=[]),l.push(d,s)),s=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&pe("scroll",e),l||c===o||(l=[])):(l=l||[]).push(d,o))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Eu=function(e,t,s,n){s!==n&&(t.flags|=4)};function ks(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function vx(e,t,s){var n=t.pendingProps;switch(Ii(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return rt(t.type)&&sa(),Ve(t),null;case 3:return n=t.stateNode,ds(),fe(tt),fe(We),Ai(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(ai(St),St=null))),Xl(e,t),Ve(t),null;case 5:Fi(t);var a=kr(Zs.current);if(s=t.type,e!==null&&t.stateNode!=null)Cu(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(U(166));return Ve(t),null}if(e=kr(Lt.current),Sn(t)){n=t.stateNode,s=t.type;var l=t.memoizedProps;switch(n[Mt]=t,n[Ys]=l,e=(t.mode&1)!==0,s){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(a=0;a<Ds.length;a++)pe(Ds[a],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":vo(n,l),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},pe("invalid",n);break;case"textarea":jo(n,l),pe("invalid",n)}kl(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&kn(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&kn(n.textContent,c,e),a=["children",""+c]):Fs.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&pe("scroll",n)}switch(s){case"input":fn(n),bo(n,l,!0);break;case"textarea":fn(n),wo(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ra)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[Mt]=t,e[Ys]=n,_u(e,t,!1,!1),t.stateNode=e;e:{switch(i=Sl(s,n),s){case"dialog":pe("cancel",e),pe("close",e),a=n;break;case"iframe":case"object":case"embed":pe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ds.length;a++)pe(Ds[a],e);a=n;break;case"source":pe("error",e),a=n;break;case"img":case"image":case"link":pe("error",e),pe("load",e),a=n;break;case"details":pe("toggle",e),a=n;break;case"input":vo(e,n),a=vl(e,n),pe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ne({},n,{value:void 0}),pe("invalid",e);break;case"textarea":jo(e,n),a=wl(e,n),pe("invalid",e);break;default:a=n}kl(s,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?ad(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&sd(e,o)):l==="children"?typeof o=="string"?(s!=="textarea"||o!=="")&&As(e,o):typeof o=="number"&&As(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Fs.hasOwnProperty(l)?o!=null&&l==="onScroll"&&pe("scroll",e):o!=null&&gi(e,l,o,i))}switch(s){case"input":fn(e),bo(e,n,!1);break;case"textarea":fn(e),wo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xr(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Gr(e,!!n.multiple,l,!1):n.defaultValue!=null&&Gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ra)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Eu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(s=kr(Zs.current),kr(Lt.current),Sn(t)){if(n=t.stateNode,s=t.memoizedProps,n[Mt]=t,(l=n.nodeValue!==s)&&(e=it,e!==null))switch(e.tag){case 3:kn(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kn(n.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Mt]=t,t.stateNode=n}return Ve(t),null;case 13:if(fe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&lt!==null&&t.mode&1&&!(t.flags&128))Wd(),os(),t.flags|=98560,l=!1;else if(l=Sn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Mt]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),l=!1}else St!==null&&(ai(St),St=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Le===0&&(Le=3):Gi())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return ds(),Xl(e,t),e===null&&Js(t.stateNode.containerInfo),Ve(t),null;case 10:return Oi(t.type._context),Ve(t),null;case 17:return rt(t.type)&&sa(),Ve(t),null;case 19:if(fe(be),l=t.memoizedState,l===null)return Ve(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)ks(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=da(e),i!==null){for(t.flags|=128,ks(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)l=s,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return he(be,be.current&1|2),t.child}e=e.sibling}l.tail!==null&&Se()>ms&&(t.flags|=128,n=!0,ks(l,!1),t.lanes=4194304)}else{if(!n)if(e=da(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ks(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ge)return Ve(t),null}else 2*Se()-l.renderingStartTime>ms&&s!==1073741824&&(t.flags|=128,n=!0,ks(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Se(),t.sibling=null,s=be.current,he(be,n?s&1|2:s&1),t):(Ve(t),null);case 22:case 23:return Zi(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function bx(e,t){switch(Ii(t),t.tag){case 1:return rt(t.type)&&sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),fe(tt),fe(We),Ai(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fi(t),null;case 13:if(fe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(be),null;case 4:return ds(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return Zi(),null;case 24:return null;default:return null}}var En=!1,qe=!1,jx=typeof WeakSet=="function"?WeakSet:Set,B=null;function Yr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ke(e,t,n)}else s.current=null}function Zl(e,t,s){try{s()}catch(n){ke(e,t,n)}}var uc=!1;function wx(e,t){if(Rl=Gn,e=Ld(),Di(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,c=-1,o=-1,d=0,x=0,g=e,v=null;t:for(;;){for(var E;g!==s||a!==0&&g.nodeType!==3||(c=i+a),g!==l||n!==0&&g.nodeType!==3||(o=i+n),g.nodeType===3&&(i+=g.nodeValue.length),(E=g.firstChild)!==null;)v=g,g=E;for(;;){if(g===e)break t;if(v===s&&++d===a&&(c=i),v===l&&++x===n&&(o=i),(E=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=E}s=c===-1||o===-1?null:{start:c,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ol={focusedElem:e,selectionRange:s},Gn=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var P=_.memoizedProps,w=_.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?P:wt(t.type,P),w);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return _=uc,uc=!1,_}function zs(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Zl(t,s,l)}a=a.next}while(a!==n)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Gl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Pu(e){var t=e.alternate;t!==null&&(e.alternate=null,Pu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Ys],delete t[Ul],delete t[nx],delete t[ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Du(e){return e.tag===5||e.tag===3||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Du(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ei(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ra));else if(n!==4&&(e=e.child,e!==null))for(ei(e,t,s),e=e.sibling;e!==null;)ei(e,t,s),e=e.sibling}function ti(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ti(e,t,s),e=e.sibling;e!==null;)ti(e,t,s),e=e.sibling}var Ue=null,kt=!1;function Kt(e,t,s){for(s=s.child;s!==null;)Mu(e,t,s),s=s.sibling}function Mu(e,t,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ja,s)}catch{}switch(s.tag){case 5:qe||Yr(s,t);case 6:var n=Ue,a=kt;Ue=null,Kt(e,t,s),Ue=n,kt=a,Ue!==null&&(kt?(e=Ue,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ue.removeChild(s.stateNode));break;case 18:Ue!==null&&(kt?(e=Ue,s=s.stateNode,e.nodeType===8?tl(e.parentNode,s):e.nodeType===1&&tl(e,s),qs(e)):tl(Ue,s.stateNode));break;case 4:n=Ue,a=kt,Ue=s.stateNode.containerInfo,kt=!0,Kt(e,t,s),Ue=n,kt=a;break;case 0:case 11:case 14:case 15:if(!qe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Zl(s,t,i),a=a.next}while(a!==n)}Kt(e,t,s);break;case 1:if(!qe&&(Yr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(c){ke(s,t,c)}Kt(e,t,s);break;case 21:Kt(e,t,s);break;case 22:s.mode&1?(qe=(n=qe)||s.memoizedState!==null,Kt(e,t,s),qe=n):Kt(e,t,s);break;default:Kt(e,t,s)}}function xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new jx),t.forEach(function(n){var a=Mx.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function jt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:Ue=c.stateNode,kt=!1;break e;case 3:Ue=c.stateNode.containerInfo,kt=!0;break e;case 4:Ue=c.stateNode.containerInfo,kt=!0;break e}c=c.return}if(Ue===null)throw Error(U(160));Mu(l,i,a),Ue=null,kt=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(d){ke(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iu(t,e),t=t.sibling}function Iu(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Pt(e),n&4){try{zs(3,e,e.return),Pa(3,e)}catch(P){ke(e,e.return,P)}try{zs(5,e,e.return)}catch(P){ke(e,e.return,P)}}break;case 1:jt(t,e),Pt(e),n&512&&s!==null&&Yr(s,s.return);break;case 5:if(jt(t,e),Pt(e),n&512&&s!==null&&Yr(s,s.return),e.flags&32){var a=e.stateNode;try{As(a,"")}catch(P){ke(e,e.return,P)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&ed(a,l),Sl(c,i);var d=Sl(c,l);for(i=0;i<o.length;i+=2){var x=o[i],g=o[i+1];x==="style"?ad(a,g):x==="dangerouslySetInnerHTML"?sd(a,g):x==="children"?As(a,g):gi(a,x,g,d)}switch(c){case"input":bl(a,l);break;case"textarea":td(a,l);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?Gr(a,!!l.multiple,E,!1):v!==!!l.multiple&&(l.defaultValue!=null?Gr(a,!!l.multiple,l.defaultValue,!0):Gr(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ys]=l}catch(P){ke(e,e.return,P)}}break;case 6:if(jt(t,e),Pt(e),n&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(P){ke(e,e.return,P)}}break;case 3:if(jt(t,e),Pt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(P){ke(e,e.return,P)}break;case 4:jt(t,e),Pt(e);break;case 13:jt(t,e),Pt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Yi=Se())),n&4&&xc(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(qe=(d=qe)||x,jt(t,e),qe=d):jt(t,e),Pt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(B=e,x=e.child;x!==null;){for(g=B=x;B!==null;){switch(v=B,E=v.child,v.tag){case 0:case 11:case 14:case 15:zs(4,v,v.return);break;case 1:Yr(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,s=v.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(P){ke(n,s,P)}}break;case 5:Yr(v,v.return);break;case 22:if(v.memoizedState!==null){pc(g);continue}}E!==null?(E.return=v,B=E):pc(g)}x=x.sibling}e:for(x=null,g=e;;){if(g.tag===5){if(x===null){x=g;try{a=g.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=g.stateNode,o=g.memoizedProps.style,i=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=nd("display",i))}catch(P){ke(e,e.return,P)}}}else if(g.tag===6){if(x===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(P){ke(e,e.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;x===g&&(x=null),g=g.return}x===g&&(x=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jt(t,e),Pt(e),n&4&&xc(e);break;case 21:break;default:jt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Du(s)){var n=s;break e}s=s.return}throw Error(U(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(As(a,""),n.flags&=-33);var l=mc(e);ti(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,c=mc(e);ei(e,c,i);break;default:throw Error(U(161))}}catch(o){ke(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nx(e,t,s){B=e,Lu(e)}function Lu(e,t,s){for(var n=(e.mode&1)!==0;B!==null;){var a=B,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||En;if(!i){var c=a.alternate,o=c!==null&&c.memoizedState!==null||qe;c=En;var d=qe;if(En=i,(qe=o)&&!d)for(B=a;B!==null;)i=B,o=i.child,i.tag===22&&i.memoizedState!==null?fc(a):o!==null?(o.return=i,B=o):fc(a);for(;l!==null;)B=l,Lu(l),l=l.sibling;B=a,En=c,qe=d}hc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,B=l):hc(e)}}function hc(e){for(;B!==null;){var t=B;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||Pa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qe)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:wt(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Zo(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Zo(t,i,s)}break;case 5:var c=t.stateNode;if(s===null&&t.flags&4){s=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break;case"img":o.src&&(s.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var g=x.dehydrated;g!==null&&qs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}qe||t.flags&512&&Gl(t)}catch(v){ke(t,t.return,v)}}if(t===e){B=null;break}if(s=t.sibling,s!==null){s.return=t.return,B=s;break}B=t.return}}function pc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var s=t.sibling;if(s!==null){s.return=t.return,B=s;break}B=t.return}}function fc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Pa(4,t)}catch(o){ke(t,s,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(o){ke(t,a,o)}}var l=t.return;try{Gl(t)}catch(o){ke(t,l,o)}break;case 5:var i=t.return;try{Gl(t)}catch(o){ke(t,i,o)}}}catch(o){ke(t,t.return,o)}if(t===e){B=null;break}var c=t.sibling;if(c!==null){c.return=t.return,B=c;break}B=t.return}}var kx=Math.ceil,xa=Qt.ReactCurrentDispatcher,Ji=Qt.ReactCurrentOwner,gt=Qt.ReactCurrentBatchConfig,oe=0,$e=null,Ce=null,Fe=0,nt=0,Xr=fr(0),Le=0,rn=null,Dr=0,Da=0,Ki=0,$s=null,Ge=null,Yi=0,ms=1/0,Ot=null,ha=!1,ri=null,cr=null,Pn=!1,sr=null,pa=0,Us=0,si=null,Bn=-1,Vn=0;function Ye(){return oe&6?Se():Bn!==-1?Bn:Bn=Se()}function dr(e){return e.mode&1?oe&2&&Fe!==0?Fe&-Fe:ix.transition!==null?(Vn===0&&(Vn=gd()),Vn):(e=ue,e!==0||(e=window.event,e=e===void 0?16:kd(e.type)),e):1}function Ct(e,t,s,n){if(50<Us)throw Us=0,si=null,Error(U(185));an(e,s,n),(!(oe&2)||e!==$e)&&(e===$e&&(!(oe&2)&&(Da|=s),Le===4&&tr(e,Fe)),st(e,n),s===1&&oe===0&&!(t.mode&1)&&(ms=Se()+500,_a&&gr()))}function st(e,t){var s=e.callbackNode;i0(e,t);var n=Zn(e,e===$e?Fe:0);if(n===0)s!==null&&So(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&So(s),t===1)e.tag===0?lx(gc.bind(null,e)):Bd(gc.bind(null,e)),rx(function(){!(oe&6)&&gr()}),s=null;else{switch(yd(n)){case 1:s=wi;break;case 4:s=pd;break;case 16:s=Xn;break;case 536870912:s=fd;break;default:s=Xn}s=Au(s,Tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Tu(e,t){if(Bn=-1,Vn=0,oe&6)throw Error(U(327));var s=e.callbackNode;if(ns()&&e.callbackNode!==s)return null;var n=Zn(e,e===$e?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fa(e,n);else{t=n;var a=oe;oe|=2;var l=Ou();($e!==e||Fe!==t)&&(Ot=null,ms=Se()+500,Sr(e,t));do try{Cx();break}catch(c){Ru(e,c)}while(!0);Ri(),xa.current=l,oe=a,Ce!==null?t=0:($e=null,Fe=0,t=Le)}if(t!==0){if(t===2&&(a=Dl(e),a!==0&&(n=a,t=ni(e,a))),t===1)throw s=rn,Sr(e,0),tr(e,n),st(e,Se()),s;if(t===6)tr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Sx(a)&&(t=fa(e,n),t===2&&(l=Dl(e),l!==0&&(n=l,t=ni(e,l))),t===1))throw s=rn,Sr(e,0),tr(e,n),st(e,Se()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(U(345));case 2:br(e,Ge,Ot);break;case 3:if(tr(e,n),(n&130023424)===n&&(t=Yi+500-Se(),10<t)){if(Zn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$l(br.bind(null,e,Ge,Ot),t);break}br(e,Ge,Ot);break;case 4:if(tr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-_t(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kx(n/1960))-n,10<n){e.timeoutHandle=$l(br.bind(null,e,Ge,Ot),n);break}br(e,Ge,Ot);break;case 5:br(e,Ge,Ot);break;default:throw Error(U(329))}}}return st(e,Se()),e.callbackNode===s?Tu.bind(null,e):null}function ni(e,t){var s=$s;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=fa(e,t),e!==2&&(t=Ge,Ge=s,t!==null&&ai(t)),e}function ai(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Sx(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],l=a.getSnapshot;a=a.value;try{if(!Et(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t){for(t&=~Ki,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-_t(t),n=1<<s;e[s]=-1,t&=~n}}function gc(e){if(oe&6)throw Error(U(327));ns();var t=Zn(e,0);if(!(t&1))return st(e,Se()),null;var s=fa(e,t);if(e.tag!==0&&s===2){var n=Dl(e);n!==0&&(t=n,s=ni(e,n))}if(s===1)throw s=rn,Sr(e,0),tr(e,t),st(e,Se()),s;if(s===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Ge,Ot),st(e,Se()),null}function Xi(e,t){var s=oe;oe|=1;try{return e(t)}finally{oe=s,oe===0&&(ms=Se()+500,_a&&gr())}}function Mr(e){sr!==null&&sr.tag===0&&!(oe&6)&&ns();var t=oe;oe|=1;var s=gt.transition,n=ue;try{if(gt.transition=null,ue=1,e)return e()}finally{ue=n,gt.transition=s,oe=t,!(oe&6)&&gr()}}function Zi(){nt=Xr.current,fe(Xr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,tx(s)),Ce!==null)for(s=Ce.return;s!==null;){var n=s;switch(Ii(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sa();break;case 3:ds(),fe(tt),fe(We),Ai();break;case 5:Fi(n);break;case 4:ds();break;case 13:fe(be);break;case 19:fe(be);break;case 10:Oi(n.type._context);break;case 22:case 23:Zi()}s=s.return}if($e=e,Ce=e=ur(e.current,null),Fe=nt=t,Le=0,rn=null,Ki=Da=Dr=0,Ge=$s=null,Nr!==null){for(t=0;t<Nr.length;t++)if(s=Nr[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}s.pending=n}Nr=null}return e}function Ru(e,t){do{var s=Ce;try{if(Ri(),Fn.current=ma,ua){for(var n=we.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ua=!1}if(Pr=0,Oe=Ie=we=null,Os=!1,Gs=0,Ji.current=null,s===null||s.return===null){Le=1,rn=t,Ce=null;break}e:{var l=e,i=s.return,c=s,o=t;if(t=Fe,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,x=c,g=x.tag;if(!(x.mode&1)&&(g===0||g===11||g===15)){var v=x.alternate;v?(x.updateQueue=v.updateQueue,x.memoizedState=v.memoizedState,x.lanes=v.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=nc(i);if(E!==null){E.flags&=-257,ac(E,i,c,l,t),E.mode&1&&sc(l,d,t),t=E,o=d;var _=t.updateQueue;if(_===null){var P=new Set;P.add(o),t.updateQueue=P}else _.add(o);break e}else{if(!(t&1)){sc(l,d,t),Gi();break e}o=Error(U(426))}}else if(ge&&c.mode&1){var w=nc(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ac(w,i,c,l,t),Li(us(o,c));break e}}l=o=us(o,c),Le!==4&&(Le=2),$s===null?$s=[l]:$s.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=yu(l,o,t);Xo(l,h);break e;case 1:c=o;var m=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=vu(l,c,t);Xo(l,b);break e}}l=l.return}while(l!==null)}$u(s)}catch(N){t=N,Ce===s&&s!==null&&(Ce=s=s.return);continue}break}while(!0)}function Ou(){var e=xa.current;return xa.current=ma,e===null?ma:e}function Gi(){(Le===0||Le===3||Le===2)&&(Le=4),$e===null||!(Dr&268435455)&&!(Da&268435455)||tr($e,Fe)}function fa(e,t){var s=oe;oe|=2;var n=Ou();($e!==e||Fe!==t)&&(Ot=null,Sr(e,t));do try{_x();break}catch(a){Ru(e,a)}while(!0);if(Ri(),oe=s,xa.current=n,Ce!==null)throw Error(U(261));return $e=null,Fe=0,Le}function _x(){for(;Ce!==null;)zu(Ce)}function Cx(){for(;Ce!==null&&!Zm();)zu(Ce)}function zu(e){var t=Fu(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?$u(e):Ce=t,Ji.current=null}function $u(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=bx(s,t),s!==null){s.flags&=32767,Ce=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ce=null;return}}else if(s=vx(s,t,nt),s!==null){Ce=s;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Le===0&&(Le=5)}function br(e,t,s){var n=ue,a=gt.transition;try{gt.transition=null,ue=1,Ex(e,t,s,n)}finally{gt.transition=a,ue=n}return null}function Ex(e,t,s,n){do ns();while(sr!==null);if(oe&6)throw Error(U(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(o0(e,l),e===$e&&(Ce=$e=null,Fe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Pn||(Pn=!0,Au(Xn,function(){return ns(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=gt.transition,gt.transition=null;var i=ue;ue=1;var c=oe;oe|=4,Ji.current=null,wx(e,s),Iu(s,e),J0(Ol),Gn=!!Rl,Ol=Rl=null,e.current=s,Nx(s),Gm(),oe=c,ue=i,gt.transition=l}else e.current=s;if(Pn&&(Pn=!1,sr=e,pa=a),l=e.pendingLanes,l===0&&(cr=null),r0(s.stateNode),st(e,Se()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(ha)throw ha=!1,e=ri,ri=null,e;return pa&1&&e.tag!==0&&ns(),l=e.pendingLanes,l&1?e===si?Us++:(Us=0,si=e):Us=0,gr(),null}function ns(){if(sr!==null){var e=yd(pa),t=gt.transition,s=ue;try{if(gt.transition=null,ue=16>e?16:e,sr===null)var n=!1;else{if(e=sr,sr=null,pa=0,oe&6)throw Error(U(331));var a=oe;for(oe|=4,B=e.current;B!==null;){var l=B,i=l.child;if(B.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(B=d;B!==null;){var x=B;switch(x.tag){case 0:case 11:case 15:zs(8,x,l)}var g=x.child;if(g!==null)g.return=x,B=g;else for(;B!==null;){x=B;var v=x.sibling,E=x.return;if(Pu(x),x===d){B=null;break}if(v!==null){v.return=E,B=v;break}B=E}}}var _=l.alternate;if(_!==null){var P=_.child;if(P!==null){_.child=null;do{var w=P.sibling;P.sibling=null,P=w}while(P!==null)}}B=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,B=i;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:zs(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,B=h;break e}B=l.return}}var m=e.current;for(B=m;B!==null;){i=B;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,B=f;else e:for(i=m;B!==null;){if(c=B,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pa(9,c)}}catch(N){ke(c,c.return,N)}if(c===i){B=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,B=b;break e}B=c.return}}if(oe=a,gr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ja,e)}catch{}n=!0}return n}finally{ue=s,gt.transition=t}}return!1}function yc(e,t,s){t=us(s,t),t=yu(e,t,1),e=or(e,t,1),t=Ye(),e!==null&&(an(e,1,t),st(e,t))}function ke(e,t,s){if(e.tag===3)yc(e,e,s);else for(;t!==null;){if(t.tag===3){yc(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cr===null||!cr.has(n))){e=us(s,e),e=vu(t,e,1),t=or(t,e,1),e=Ye(),t!==null&&(an(t,1,e),st(t,e));break}}t=t.return}}function Px(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(Fe&s)===s&&(Le===4||Le===3&&(Fe&130023424)===Fe&&500>Se()-Yi?Sr(e,0):Ki|=s),st(e,t)}function Uu(e,t){t===0&&(e.mode&1?(t=vn,vn<<=1,!(vn&130023424)&&(vn=4194304)):t=1);var s=Ye();e=Vt(e,t),e!==null&&(an(e,t,s),st(e,s))}function Dx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Uu(e,s)}function Mx(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(t),Uu(e,s)}var Fu;Fu=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return et=!1,yx(e,t,s);et=!!(e.flags&131072)}else et=!1,ge&&t.flags&1048576&&Vd(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hn(e,t),e=t.pendingProps;var a=is(t,We.current);ss(t,s),a=Bi(null,t,n,e,a,s);var l=Vi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(n)?(l=!0,na(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$i(t),a.updater=Ea,t.stateNode=a,a._reactInternals=t,ql(t,n,e,s),t=Jl(null,t,n,!0,l,s)):(t.tag=0,ge&&l&&Mi(t),Ke(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Hn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Lx(n),e=wt(n,e),a){case 0:t=Ql(null,t,n,e,s);break e;case 1:t=oc(null,t,n,e,s);break e;case 11:t=lc(null,t,n,e,s);break e;case 14:t=ic(null,t,n,wt(n.type,e),s);break e}throw Error(U(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wt(n,a),Ql(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wt(n,a),oc(e,t,n,a,s);case 3:e:{if(Nu(t),e===null)throw Error(U(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Yd(e,t),ca(t,n,null,s);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=us(Error(U(423)),t),t=cc(e,t,n,s,a);break e}else if(n!==a){a=us(Error(U(424)),t),t=cc(e,t,n,s,a);break e}else for(lt=ir(t.stateNode.containerInfo.firstChild),it=t,ge=!0,St=null,s=Jd(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(os(),n===a){t=qt(e,t,s);break e}Ke(e,t,n,s)}t=t.child}return t;case 5:return Xd(t),e===null&&Hl(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,zl(n,a)?i=null:l!==null&&zl(n,l)&&(t.flags|=32),wu(e,t),Ke(e,t,i,s),t.child;case 6:return e===null&&Hl(t),null;case 13:return ku(e,t,s);case 4:return Ui(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cs(t,null,n,s):Ke(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wt(n,a),lc(e,t,n,a,s);case 7:return Ke(e,t,t.pendingProps,s),t.child;case 8:return Ke(e,t,t.pendingProps.children,s),t.child;case 12:return Ke(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,he(ia,n._currentValue),n._currentValue=i,l!==null)if(Et(l.value,i)){if(l.children===a.children&&!tt.current){t=qt(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(l.tag===1){o=Ft(-1,s&-s),o.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?o.next=o:(o.next=x.next,x.next=o),d.pending=o}}l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),Bl(l.return,s,t),c.lanes|=s;break}o=o.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(U(341));i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Bl(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ke(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ss(t,s),a=yt(a),n=n(a),t.flags|=1,Ke(e,t,n,s),t.child;case 14:return n=t.type,a=wt(n,t.pendingProps),a=wt(n.type,a),ic(e,t,n,a,s);case 15:return bu(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wt(n,a),Hn(e,t),t.tag=1,rt(n)?(e=!0,na(t)):e=!1,ss(t,s),gu(t,n,a),ql(t,n,a,s),Jl(null,t,n,!0,e,s);case 19:return Su(e,t,s);case 22:return ju(e,t,s)}throw Error(U(156,t.tag))};function Au(e,t){return hd(e,t)}function Ix(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,s,n){return new Ix(e,t,s,n)}function eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lx(e){if(typeof e=="function")return eo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vi)return 11;if(e===bi)return 14}return 2}function ur(e,t){var s=e.alternate;return s===null?(s=ft(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function qn(e,t,s,n,a,l){var i=2;if(n=e,typeof e=="function")eo(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ar:return _r(s.children,a,l,t);case yi:i=8,a|=8;break;case pl:return e=ft(12,s,t,a|2),e.elementType=pl,e.lanes=l,e;case fl:return e=ft(13,s,t,a),e.elementType=fl,e.lanes=l,e;case gl:return e=ft(19,s,t,a),e.elementType=gl,e.lanes=l,e;case Xc:return Ma(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kc:i=10;break e;case Yc:i=9;break e;case vi:i=11;break e;case bi:i=14;break e;case Xt:i=16,n=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ft(i,s,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function _r(e,t,s,n){return e=ft(7,e,n,t),e.lanes=s,e}function Ma(e,t,s,n){return e=ft(22,e,n,t),e.elementType=Xc,e.lanes=s,e.stateNode={isHidden:!1},e}function cl(e,t,s){return e=ft(6,e,null,t),e.lanes=s,e}function dl(e,t,s){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tx(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function to(e,t,s,n,a,l,i,c,o){return e=new Tx(e,t,s,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ft(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(l),e}function Rx(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Hu(e){if(!e)return hr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var s=e.type;if(rt(s))return Hd(e,s,t)}return t}function Bu(e,t,s,n,a,l,i,c,o){return e=to(s,n,!0,e,a,l,i,c,o),e.context=Hu(null),s=e.current,n=Ye(),a=dr(s),l=Ft(n,a),l.callback=t??null,or(s,l,a),e.current.lanes=a,an(e,a,n),st(e,n),e}function Ia(e,t,s,n){var a=t.current,l=Ye(),i=dr(a);return s=Hu(s),t.context===null?t.context=s:t.pendingContext=s,t=Ft(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=or(a,t,i),e!==null&&(Ct(e,a,i,l),Un(e,a,i)),i}function ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ro(e,t){vc(e,t),(e=e.alternate)&&vc(e,t)}function Ox(){return null}var Vu=typeof reportError=="function"?reportError:function(e){console.error(e)};function so(e){this._internalRoot=e}La.prototype.render=so.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Ia(e,t,null,null)};La.prototype.unmount=so.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){Ia(null,e,null,null)}),t[Bt]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<er.length&&t!==0&&t<er[s].priority;s++);er.splice(s,0,e),s===0&&Nd(e)}};function no(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bc(){}function zx(e,t,s,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=ga(i);l.call(d)}}var i=Bu(t,n,e,0,null,!1,!1,"",bc);return e._reactRootContainer=i,e[Bt]=i.current,Js(e.nodeType===8?e.parentNode:e),Mr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var d=ga(o);c.call(d)}}var o=to(e,0,!1,null,null,!1,!1,"",bc);return e._reactRootContainer=o,e[Bt]=o.current,Js(e.nodeType===8?e.parentNode:e),Mr(function(){Ia(t,o,s,n)}),o}function Ra(e,t,s,n,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var o=ga(i);c.call(o)}}Ia(t,i,e,a)}else i=zx(s,t,e,a,n);return ga(i)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ps(t.pendingLanes);s!==0&&(Ni(t,s|1),st(t,Se()),!(oe&6)&&(ms=Se()+500,gr()))}break;case 13:Mr(function(){var n=Vt(e,1);if(n!==null){var a=Ye();Ct(n,e,1,a)}}),ro(e,1)}};ki=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var s=Ye();Ct(t,e,134217728,s)}ro(e,134217728)}};bd=function(e){if(e.tag===13){var t=dr(e),s=Vt(e,t);if(s!==null){var n=Ye();Ct(s,e,t,n)}ro(e,t)}};jd=function(){return ue};wd=function(e,t){var s=ue;try{return ue=e,t()}finally{ue=s}};Cl=function(e,t,s){switch(t){case"input":if(bl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=Sa(n);if(!a)throw Error(U(90));Gc(n),bl(n,a)}}}break;case"textarea":td(e,s);break;case"select":t=s.value,t!=null&&Gr(e,!!s.multiple,t,!1)}};od=Xi;cd=Mr;var $x={usingClientEntryPoint:!1,Events:[on,qr,Sa,ld,id,Xi]},Ss={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ux={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=md(e),e===null?null:e.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dn.isDisabled&&Dn.supportsFiber)try{ja=Dn.inject(Ux),It=Dn}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!no(t))throw Error(U(200));return Rx(e,t,null,s)};ct.createRoot=function(e,t){if(!no(e))throw Error(U(299));var s=!1,n="",a=Vu;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=to(e,1,!1,null,null,s,!1,n,a),e[Bt]=t.current,Js(e.nodeType===8?e.parentNode:e),new so(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=md(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Mr(e)};ct.hydrate=function(e,t,s){if(!Ta(t))throw Error(U(200));return Ra(null,e,t,!0,s)};ct.hydrateRoot=function(e,t,s){if(!no(e))throw Error(U(405));var n=s!=null&&s.hydratedSources||null,a=!1,l="",i=Vu;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Bu(t,null,e,1,s??null,a,!1,l,i),e[Bt]=t.current,Js(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new La(t)};ct.render=function(e,t,s){if(!Ta(t))throw Error(U(200));return Ra(null,e,t,!1,s)};ct.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(U(40));return e._reactRootContainer?(Mr(function(){Ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};ct.unstable_batchedUpdates=Xi;ct.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Ta(s))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ra(e,t,s,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function qu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qu)}catch(e){console.error(e)}}qu(),qc.exports=ct;var Fx=qc.exports,Wu,jc=Fx;Wu=jc.createRoot,jc.hydrateRoot;/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wc="popstate";function Ax(e={}){function t(n,a){let{pathname:l,search:i,hash:c}=n.location;return li("",{pathname:l,search:i,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:sn(a)}return Bx(t,s,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hx(){return Math.random().toString(36).substring(2,10)}function Nc(e,t){return{usr:e.state,key:e.key,idx:t}}function li(e,t,s=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?dn(t):t,state:s,key:t&&t.key||n||Hx()}}function sn({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function dn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Bx(e,t,s,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,c="POP",o=null,d=x();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function x(){return(i.state||{idx:null}).idx}function g(){c="POP";let w=x(),h=w==null?null:w-d;d=w,o&&o({action:c,location:P.location,delta:h})}function v(w,h){c="PUSH";let m=li(P.location,w,h);d=x()+1;let f=Nc(m,d),b=P.createHref(m);try{i.pushState(f,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}l&&o&&o({action:c,location:P.location,delta:1})}function E(w,h){c="REPLACE";let m=li(P.location,w,h);d=x();let f=Nc(m,d),b=P.createHref(m);i.replaceState(f,"",b),l&&o&&o({action:c,location:P.location,delta:0})}function _(w){return Vx(w)}let P={get action(){return c},get location(){return e(a,i)},listen(w){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(wc,g),o=w,()=>{a.removeEventListener(wc,g),o=null}},createHref(w){return t(a,w)},createURL:_,encodeLocation(w){let h=_(w);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:v,replace:E,go(w){return i.go(w)}};return P}function Vx(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Re(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:sn(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function Qu(e,t,s="/"){return qx(e,t,s,!1)}function qx(e,t,s,n){let a=typeof t=="string"?dn(t):t,l=Wt(a.pathname||"/",s);if(l==null)return null;let i=Ju(e);Wx(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let d=sh(l);c=th(i[o],d,n)}return c}function Ju(e,t=[],s=[],n="",a=!1){let l=(i,c,o=a,d)=>{let x={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(n)&&o)return;Re(x.relativePath.startsWith(n),`Absolute route path "${x.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(n.length)}let g=At([n,x.relativePath]),v=s.concat(x);i.children&&i.children.length>0&&(Re(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ju(i.children,t,v,g,o)),!(i.path==null&&!i.index)&&t.push({path:g,score:Gx(g,i.index),routesMeta:v})};return e.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))l(i,c);else for(let d of Ku(i.path))l(i,c,!0,d)}),t}function Ku(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Ku(n.join("/")),c=[];return c.push(...i.map(o=>o===""?l:[l,o].join("/"))),a&&c.push(...i),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Wx(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:eh(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var Qx=/^:[\w-]+$/,Jx=3,Kx=2,Yx=1,Xx=10,Zx=-2,kc=e=>e==="*";function Gx(e,t){let s=e.split("/"),n=s.length;return s.some(kc)&&(n+=Zx),t&&(n+=Kx),s.filter(a=>!kc(a)).reduce((a,l)=>a+(Qx.test(l)?Jx:l===""?Yx:Xx),n)}function eh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function th(e,t,s=!1){let{routesMeta:n}=e,a={},l="/",i=[];for(let c=0;c<n.length;++c){let o=n[c],d=c===n.length-1,x=l==="/"?t:t.slice(l.length)||"/",g=ya({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},x),v=o.route;if(!g&&d&&s&&!n[n.length-1].route.index&&(g=ya({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},x)),!g)return null;Object.assign(a,g.params),i.push({params:a,pathname:At([l,g.pathname]),pathnameBase:ih(At([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=At([l,g.pathnameBase]))}return i}function ya(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=rh(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,{paramName:x,isOptional:g},v)=>{if(x==="*"){let _=c[v]||"";i=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const E=c[v];return g&&!E?d[x]=void 0:d[x]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function rh(e,t=!1,s=!0){Tt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,o)=>(n.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function nh(e,t="/"){let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?dn(e):e;return{pathname:s?s.startsWith("/")?s:ah(s,t):t,search:oh(n),hash:ch(a)}}function ah(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function ul(e,t,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lh(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Yu(e){let t=lh(e);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function Xu(e,t,s,n=!1){let a;typeof e=="string"?a=dn(e):(a={...e},Re(!a.pathname||!a.pathname.includes("?"),ul("?","pathname","search",a)),Re(!a.pathname||!a.pathname.includes("#"),ul("#","pathname","hash",a)),Re(!a.search||!a.search.includes("#"),ul("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,c;if(i==null)c=s;else{let g=t.length-1;if(!n&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}c=g>=0?t[g]:"/"}let o=nh(a,c),d=i&&i!=="/"&&i.endsWith("/"),x=(l||i===".")&&s.endsWith("/");return!o.pathname.endsWith("/")&&(d||x)&&(o.pathname+="/"),o}var At=e=>e.join("/").replace(/\/\/+/g,"/"),ih=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ch=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Zu=["POST","PUT","PATCH","DELETE"];new Set(Zu);var uh=["GET",...Zu];new Set(uh);var gs=p.createContext(null);gs.displayName="DataRouter";var Oa=p.createContext(null);Oa.displayName="DataRouterState";p.createContext(!1);var Gu=p.createContext({isTransitioning:!1});Gu.displayName="ViewTransition";var mh=p.createContext(new Map);mh.displayName="Fetchers";var xh=p.createContext(null);xh.displayName="Await";var Rt=p.createContext(null);Rt.displayName="Navigation";var za=p.createContext(null);za.displayName="Location";var Jt=p.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var ao=p.createContext(null);ao.displayName="RouteError";function hh(e,{relative:t}={}){Re(un(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=p.useContext(Rt),{hash:a,pathname:l,search:i}=mn(e,{relative:t}),c=l;return s!=="/"&&(c=l==="/"?s:At([s,l])),n.createHref({pathname:c,search:i,hash:a})}function un(){return p.useContext(za)!=null}function Rr(){return Re(un(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(za).location}var em="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tm(e){p.useContext(Rt).static||p.useLayoutEffect(e)}function ph(){let{isDataRoute:e}=p.useContext(Jt);return e?Eh():fh()}function fh(){Re(un(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(gs),{basename:t,navigator:s}=p.useContext(Rt),{matches:n}=p.useContext(Jt),{pathname:a}=Rr(),l=JSON.stringify(Yu(n)),i=p.useRef(!1);return tm(()=>{i.current=!0}),p.useCallback((o,d={})=>{if(Tt(i.current,em),!i.current)return;if(typeof o=="number"){s.go(o);return}let x=Xu(o,JSON.parse(l),a,d.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:At([t,x.pathname])),(d.replace?s.replace:s.push)(x,d.state,d)},[t,s,l,a,e])}p.createContext(null);function mn(e,{relative:t}={}){let{matches:s}=p.useContext(Jt),{pathname:n}=Rr(),a=JSON.stringify(Yu(s));return p.useMemo(()=>Xu(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function gh(e,t,s,n,a){Re(un(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=p.useContext(Rt),{matches:i}=p.useContext(Jt),c=i[i.length-1],o=c?c.params:{},d=c?c.pathname:"/",x=c?c.pathnameBase:"/",g=c&&c.route;{let m=g&&g.path||"";rm(d,!g||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let v=Rr(),E;E=v;let _=E.pathname||"/",P=_;if(x!=="/"){let m=x.replace(/^\//,"").split("/");P="/"+_.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=Qu(e,{pathname:P});return Tt(g||w!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Tt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wh(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:At([x,l.encodeLocation?l.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?x:At([x,l.encodeLocation?l.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,s,n,a)}function yh(){let e=Ch(),t=dh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:l},"ErrorBoundary")," or"," ",p.createElement("code",{style:l},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),s?p.createElement("pre",{style:a},s):null,i)}var vh=p.createElement(yh,null),bh=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Jt.Provider,{value:this.props.routeContext},p.createElement(ao.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jh({routeContext:e,match:t,children:s}){let n=p.useContext(gs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Jt.Provider,{value:e},s)}function wh(e,t=[],s=null,n=null,a=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,i=s==null?void 0:s.errors;if(i!=null){let d=l.findIndex(x=>x.route.id&&(i==null?void 0:i[x.route.id])!==void 0);Re(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,o=-1;if(s)for(let d=0;d<l.length;d++){let x=l[d];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(o=d),x.route.id){let{loaderData:g,errors:v}=s,E=x.route.loader&&!g.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||E){c=!0,o>=0?l=l.slice(0,o+1):l=[l[0]];break}}}return l.reduceRight((d,x,g)=>{let v,E=!1,_=null,P=null;s&&(v=i&&x.route.id?i[x.route.id]:void 0,_=x.route.errorElement||vh,c&&(o<0&&g===0?(rm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):o===g&&(E=!0,P=x.route.hydrateFallbackElement||null)));let w=t.concat(l.slice(0,g+1)),h=()=>{let m;return v?m=_:E?m=P:x.route.Component?m=p.createElement(x.route.Component,null):x.route.element?m=x.route.element:m=d,p.createElement(jh,{match:x,routeContext:{outlet:d,matches:w,isDataRoute:s!=null},children:m})};return s&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?p.createElement(bh,{location:s.location,revalidation:s.revalidation,component:_,error:v,children:h(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):h()},null)}function lo(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nh(e){let t=p.useContext(gs);return Re(t,lo(e)),t}function kh(e){let t=p.useContext(Oa);return Re(t,lo(e)),t}function Sh(e){let t=p.useContext(Jt);return Re(t,lo(e)),t}function io(e){let t=Sh(e),s=t.matches[t.matches.length-1];return Re(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function _h(){return io("useRouteId")}function Ch(){var n;let e=p.useContext(ao),t=kh("useRouteError"),s=io("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function Eh(){let{router:e}=Nh("useNavigate"),t=io("useNavigate"),s=p.useRef(!1);return tm(()=>{s.current=!0}),p.useCallback(async(a,l={})=>{Tt(s.current,em),s.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var Sc={};function rm(e,t,s){!t&&!Sc[e]&&(Sc[e]=!0,Tt(!1,s))}p.memo(Ph);function Ph({routes:e,future:t,state:s,unstable_onError:n}){return gh(e,void 0,s,n,t)}function Dh({basename:e="/",children:t=null,location:s,navigationType:n="POP",navigator:a,static:l=!1}){Re(!un(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:i,navigator:a,static:l,future:{}}),[i,a,l]);typeof s=="string"&&(s=dn(s));let{pathname:o="/",search:d="",hash:x="",state:g=null,key:v="default"}=s,E=p.useMemo(()=>{let _=Wt(o,i);return _==null?null:{location:{pathname:_,search:d,hash:x,state:g,key:v},navigationType:n}},[i,o,d,x,g,v,n]);return Tt(E!=null,`<Router basename="${i}"> is not able to match the URL "${o}${d}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:p.createElement(Rt.Provider,{value:c},p.createElement(za.Provider,{children:t,value:E}))}var Wn="get",Qn="application/x-www-form-urlencoded";function $a(e){return e!=null&&typeof e.tagName=="string"}function Mh(e){return $a(e)&&e.tagName.toLowerCase()==="button"}function Ih(e){return $a(e)&&e.tagName.toLowerCase()==="form"}function Lh(e){return $a(e)&&e.tagName.toLowerCase()==="input"}function Th(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Rh(e,t){return e.button===0&&(!t||t==="_self")&&!Th(e)}var Mn=null;function Oh(){if(Mn===null)try{new FormData(document.createElement("form"),0),Mn=!1}catch{Mn=!0}return Mn}var zh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ml(e){return e!=null&&!zh.has(e)?(Tt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qn}"`),null):e}function $h(e,t){let s,n,a,l,i;if(Ih(e)){let c=e.getAttribute("action");n=c?Wt(c,t):null,s=e.getAttribute("method")||Wn,a=ml(e.getAttribute("enctype"))||Qn,l=new FormData(e)}else if(Mh(e)||Lh(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||c.getAttribute("action");if(n=o?Wt(o,t):null,s=e.getAttribute("formmethod")||c.getAttribute("method")||Wn,a=ml(e.getAttribute("formenctype"))||ml(c.getAttribute("enctype"))||Qn,l=new FormData(c,e),!Oh()){let{name:d,type:x,value:g}=e;if(x==="image"){let v=d?`${d}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else d&&l.append(d,g)}}else{if($a(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Wn,n=null,a=Qn,i=e}return l&&a==="text/plain"&&(i=l,l=void 0),{action:n,method:s.toLowerCase(),encType:a,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uh(e,t,s){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&Wt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function Fh(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ah(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hh(e,t,s){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let i=await Fh(l,s);return i.links?i.links():[]}return[]}));return Wh(n.flat(1).filter(Ah).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _c(e,t,s,n,a,l){let i=(o,d)=>s[d]?o.route.id!==s[d].route.id:!0,c=(o,d)=>{var x;return s[d].pathname!==o.pathname||((x=s[d].route.path)==null?void 0:x.endsWith("*"))&&s[d].params["*"]!==o.params["*"]};return l==="assets"?t.filter((o,d)=>i(o,d)||c(o,d)):l==="data"?t.filter((o,d)=>{var g;let x=n.routes[o.route.id];if(!x||!x.hasLoader)return!1;if(i(o,d)||c(o,d))return!0;if(o.route.shouldRevalidate){let v=o.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Bh(e,t,{includeHydrateFallback:s}={}){return Vh(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Vh(e){return[...new Set(e)]}function qh(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}function Wh(e,t){let s=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(qh(a));return s.has(l)||(s.add(l),n.push({key:l,link:a})),n},[])}function sm(){let e=p.useContext(gs);return oo(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qh(){let e=p.useContext(Oa);return oo(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var co=p.createContext(void 0);co.displayName="FrameworkContext";function nm(){let e=p.useContext(co);return oo(e,"You must render this element inside a <HydratedRouter> element"),e}function Jh(e,t){let s=p.useContext(co),[n,a]=p.useState(!1),[l,i]=p.useState(!1),{onFocus:c,onBlur:o,onMouseEnter:d,onMouseLeave:x,onTouchStart:g}=t,v=p.useRef(null);p.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let P=h=>{h.forEach(m=>{i(m.isIntersecting)})},w=new IntersectionObserver(P,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(n){let P=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(P)}}},[n]);let E=()=>{a(!0)},_=()=>{a(!1),i(!1)};return s?e!=="intent"?[l,v,{}]:[l,v,{onFocus:_s(c,E),onBlur:_s(o,_),onMouseEnter:_s(d,E),onMouseLeave:_s(x,_),onTouchStart:_s(g,E)}]:[!1,v,{}]}function _s(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function Kh({page:e,...t}){let{router:s}=sm(),n=p.useMemo(()=>Qu(s.routes,e,s.basename),[s.routes,e,s.basename]);return n?p.createElement(Xh,{page:e,matches:n,...t}):null}function Yh(e){let{manifest:t,routeModules:s}=nm(),[n,a]=p.useState([]);return p.useEffect(()=>{let l=!1;return Hh(e,t,s).then(i=>{l||a(i)}),()=>{l=!0}},[e,t,s]),n}function Xh({page:e,matches:t,...s}){let n=Rr(),{manifest:a,routeModules:l}=nm(),{basename:i}=sm(),{loaderData:c,matches:o}=Qh(),d=p.useMemo(()=>_c(e,t,o,a,n,"data"),[e,t,o,a,n]),x=p.useMemo(()=>_c(e,t,o,a,n,"assets"),[e,t,o,a,n]),g=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let _=new Set,P=!1;if(t.forEach(h=>{var f;let m=a.routes[h.route.id];!m||!m.hasLoader||(!d.some(b=>b.route.id===h.route.id)&&h.route.id in c&&((f=l[h.route.id])!=null&&f.shouldRevalidate)||m.hasClientLoader?P=!0:_.add(h.route.id))}),_.size===0)return[];let w=Uh(e,i,"data");return P&&_.size>0&&w.searchParams.set("_routes",t.filter(h=>_.has(h.route.id)).map(h=>h.route.id).join(",")),[w.pathname+w.search]},[i,c,n,a,d,t,e,l]),v=p.useMemo(()=>Bh(x,a),[x,a]),E=Yh(x);return p.createElement(p.Fragment,null,g.map(_=>p.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),v.map(_=>p.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),E.map(({key:_,link:P})=>p.createElement("link",{key:_,nonce:s.nonce,...P})))}function Zh(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{am&&(window.__reactRouterVersion="7.9.1")}catch{}function Gh({basename:e,children:t,window:s}){let n=p.useRef();n.current==null&&(n.current=Ax({window:s,v5Compat:!0}));let a=n.current,[l,i]=p.useState({action:a.action,location:a.location}),c=p.useCallback(o=>{p.startTransition(()=>i(o))},[i]);return p.useLayoutEffect(()=>a.listen(c),[a,c]),p.createElement(Dh,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,im=p.forwardRef(function({onClick:t,discover:s="render",prefetch:n="none",relative:a,reloadDocument:l,replace:i,state:c,target:o,to:d,preventScrollReset:x,viewTransition:g,...v},E){let{basename:_}=p.useContext(Rt),P=typeof d=="string"&&lm.test(d),w,h=!1;if(typeof d=="string"&&P&&(w=d,am))try{let R=new URL(window.location.href),z=d.startsWith("//")?new URL(R.protocol+d):new URL(d),D=Wt(z.pathname,_);z.origin===R.origin&&D!=null?d=D+z.search+z.hash:h=!0}catch{Tt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=hh(d,{relative:a}),[f,b,N]=Jh(n,v),k=sp(d,{replace:i,state:c,target:o,preventScrollReset:x,relative:a,viewTransition:g});function j(R){t&&t(R),R.defaultPrevented||k(R)}let L=p.createElement("a",{...v,...N,href:w||m,onClick:h||l?t:j,ref:Zh(E,b),target:o,"data-discover":!P&&s==="render"?"true":void 0});return f&&!P?p.createElement(p.Fragment,null,L,p.createElement(Kh,{page:m})):L});im.displayName="Link";var ep=p.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:n="",end:a=!1,style:l,to:i,viewTransition:c,children:o,...d},x){let g=mn(i,{relative:d.relative}),v=Rr(),E=p.useContext(Oa),{navigator:_,basename:P}=p.useContext(Rt),w=E!=null&&op(g)&&c===!0,h=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,m=v.pathname,f=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(m=m.toLowerCase(),f=f?f.toLowerCase():null,h=h.toLowerCase()),f&&P&&(f=Wt(f,P)||f);const b=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let N=m===h||!a&&m.startsWith(h)&&m.charAt(b)==="/",k=f!=null&&(f===h||!a&&f.startsWith(h)&&f.charAt(h.length)==="/"),j={isActive:N,isPending:k,isTransitioning:w},L=N?t:void 0,R;typeof n=="function"?R=n(j):R=[n,N?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(j):l;return p.createElement(im,{...d,"aria-current":L,className:R,ref:x,style:z,to:i,viewTransition:c},typeof o=="function"?o(j):o)});ep.displayName="NavLink";var tp=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:a,state:l,method:i=Wn,action:c,onSubmit:o,relative:d,preventScrollReset:x,viewTransition:g,...v},E)=>{let _=lp(),P=ip(c,{relative:d}),w=i.toLowerCase()==="get"?"get":"post",h=typeof c=="string"&&lm.test(c),m=f=>{if(o&&o(f),f.defaultPrevented)return;f.preventDefault();let b=f.nativeEvent.submitter,N=(b==null?void 0:b.getAttribute("formmethod"))||i;_(b||f.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:a,state:l,relative:d,preventScrollReset:x,viewTransition:g})};return p.createElement("form",{ref:E,method:w,action:P,onSubmit:n?o:m,...v,"data-discover":!h&&e==="render"?"true":void 0})});tp.displayName="Form";function rp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function om(e){let t=p.useContext(gs);return Re(t,rp(e)),t}function sp(e,{target:t,replace:s,state:n,preventScrollReset:a,relative:l,viewTransition:i}={}){let c=ph(),o=Rr(),d=mn(e,{relative:l});return p.useCallback(x=>{if(Rh(x,t)){x.preventDefault();let g=s!==void 0?s:sn(o)===sn(d);c(e,{replace:g,state:n,preventScrollReset:a,relative:l,viewTransition:i})}},[o,c,d,s,n,t,e,a,l,i])}var np=0,ap=()=>`__${String(++np)}__`;function lp(){let{router:e}=om("useSubmit"),{basename:t}=p.useContext(Rt),s=_h();return p.useCallback(async(n,a={})=>{let{action:l,method:i,encType:c,formData:o,body:d}=$h(n,t);if(a.navigate===!1){let x=a.fetcherKey||ap();await e.fetch(x,s,a.action||l,{preventScrollReset:a.preventScrollReset,formData:o,body:d,formMethod:a.method||i,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:o,body:d,formMethod:a.method||i,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,s])}function ip(e,{relative:t}={}){let{basename:s}=p.useContext(Rt),n=p.useContext(Jt);Re(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...mn(e||".",{relative:t})},i=Rr();if(e==null){l.search=i.search;let c=new URLSearchParams(l.search),o=c.getAll("index");if(o.some(x=>x==="")){c.delete("index"),o.filter(g=>g).forEach(g=>c.append("index",g));let x=c.toString();l.search=x?`?${x}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:At([s,l.pathname])),sn(l)}function op(e,{relative:t}={}){let s=p.useContext(Gu);Re(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=om("useViewTransitionState"),a=mn(e,{relative:t});if(!s.isTransitioning)return!1;let l=Wt(s.currentLocation.pathname,n)||s.currentLocation.pathname,i=Wt(s.nextLocation.pathname,n)||s.nextLocation.pathname;return ya(a.pathname,i)!=null||ya(a.pathname,l)!=null}const cp="http://localhost:3001/api";class dp{constructor(){this.token=null,this.token=localStorage.getItem("auth_token")}async request(t,s={}){const n=`${cp}${t}`,a={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...s.headers},...s};try{const l=await fetch(n,a);if(!l.ok){const i=await l.json().catch(()=>({}));throw new Error(i.error||`HTTP error! status: ${l.status}`)}return await l.json()}catch(l){throw console.error("API request failed:",l),l}}async login(t,s){const n=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:s})});return this.token=n.token,localStorage.setItem("auth_token",n.token),n}async register(t){const s=await this.request("/auth/register",{method:"POST",body:JSON.stringify(t)});return this.token=s.token,localStorage.setItem("auth_token",s.token),s}async getCurrentUser(){return this.request("/auth/me")}async updateProfile(t){return this.request("/auth/me",{method:"PUT",body:JSON.stringify(t)})}async changePassword(t,s){return this.request("/auth/change-password",{method:"PUT",body:JSON.stringify({currentPassword:t,newPassword:s})})}logout(){this.token=null,localStorage.removeItem("auth_token")}async getChickens(){return this.request("/chickens")}async getChicken(t){return this.request(`/chickens/${t}`)}async addChicken(t){return this.request("/chickens",{method:"POST",body:JSON.stringify(t)})}async updateChicken(t,s){return this.request(`/chickens/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteChicken(t){return this.request(`/chickens/${t}`,{method:"DELETE"})}async getHealthEvents(t){return this.request(`/chickens/${t}/health-events`)}async addHealthEvent(t,s){return this.request(`/chickens/${t}/health-events`,{method:"POST",body:JSON.stringify(s)})}async getEggProductions(t,s){const n=new URLSearchParams;t&&n.append("startDate",t),s&&n.append("endDate",s);const a=n.toString();return this.request(`/eggs${a?`?${a}`:""}`)}async addEggProduction(t){return this.request("/eggs",{method:"POST",body:JSON.stringify(t)})}async updateEggProduction(t,s){return this.request(`/eggs/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteEggProduction(t){return this.request(`/eggs/${t}`,{method:"DELETE"})}async getSales(t,s,n){const a=new URLSearchParams;t&&a.append("startDate",t),s&&a.append("endDate",s),n&&a.append("clientId",n);const l=a.toString();return this.request(`/sales${l?`?${l}`:""}`)}async addSale(t){return this.request("/sales",{method:"POST",body:JSON.stringify(t)})}async updateSale(t,s){return this.request(`/sales/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteSale(t){return this.request(`/sales/${t}`,{method:"DELETE"})}async getClients(){return this.request("/clients")}async sendAIMessage(t,s){return this.request("/ai/chat",{method:"POST",body:JSON.stringify({message:t,farmStats:s})})}async getClient(t){return this.request(`/clients/${t}`)}async addClient(t){return this.request("/clients",{method:"POST",body:JSON.stringify(t)})}async updateClient(t,s){return this.request(`/clients/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteClient(t){return this.request(`/clients/${t}`,{method:"DELETE"})}async getExpenses(t,s,n){const a=new URLSearchParams;t&&a.append("startDate",t),s&&a.append("endDate",s),n&&a.append("category",n);const l=a.toString();return this.request(`/expenses${l?`?${l}`:""}`)}async addExpense(t){return this.request("/expenses",{method:"POST",body:JSON.stringify(t)})}async updateExpense(t,s){return this.request(`/expenses/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteExpense(t){return this.request(`/expenses/${t}`,{method:"DELETE"})}async getCartons(){return this.request("/cartons")}async addCarton(t){return this.request("/cartons",{method:"POST",body:JSON.stringify(t)})}async updateCarton(t,s){return this.request(`/cartons/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteCarton(t){return this.request(`/cartons/${t}`,{method:"DELETE"})}async getUsers(){return this.request("/users")}async addUser(t){return this.request("/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,s){console.log("apiService.updateUser called:",{id:t,user:s});try{const n=await this.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(s)});return console.log("apiService.updateUser success:",n),n}catch(n){throw console.error("apiService.updateUser error:",n),n}}async deleteUser(t){return this.request(`/users/${t}`,{method:"DELETE"})}async getDashboardStats(){return this.request("/dashboard/stats")}async healthCheck(){return this.request("/health")}}const se=new dp,cm=p.createContext(void 0),xn=()=>{const e=p.useContext(cm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},up=({children:e})=>{const[t,s]=p.useState(null),[n,a]=p.useState(!0);p.useEffect(()=>{(async()=>{try{const x=await se.getCurrentUser();s(x.user)}catch(x){console.warn("No valid session found:",x),s(null)}finally{a(!1)}})()},[]);const o={user:t,loading:n,signIn:async(d,x)=>{try{const g=await se.login(d,x);return s(g.user),{error:null}}catch(g){return{error:{message:g.message||"Login failed"}}}},signOut:async()=>{try{se.logout(),s(null)}catch(d){console.error("Logout error:",d)}},signUp:async(d,x,g)=>{try{const v=await se.register({email:d,password:x,name:g.name||"",role:g.role==="owner"?"admin":"employee"});return s(v.user),{error:null}}catch(v){return{error:{message:v.message||"Registration failed"}}}}};return r.jsx(cm.Provider,{value:o,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const s=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:c="",children:o,...d},x)=>p.createElement("svg",{ref:x,...mp,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${xp(e)}`,c].join(" "),...d},[...t.map(([g,v])=>p.createElement(g,v)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=q("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=q("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=q("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=q("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=q("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=q("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=q("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=q("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=q("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dp=()=>{const[e,t]=p.useState(""),[s,n]=p.useState(""),[a,l]=p.useState(!1),[i,c]=p.useState(""),{signIn:o}=xn(),d=async x=>{x.preventDefault();try{c(""),l(!0);const{error:g}=await o(e,s);g&&c("      ")}catch{c("   ")}finally{l(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(at,{className:"h-10 w-10 text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),r.jsx("p",{className:"text-gray-600",children:"   "})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:i}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(mm,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"email",value:e,onChange:x=>t(x.target.value),className:"w-full pr-10 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"  ",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx(oi,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"password",value:s,onChange:x=>n(x.target.value),className:"w-full pr-10 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"  ",required:!0})]})]}),r.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"  ...":" "})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["  ",r.jsx("button",{className:"text-blue-500 hover:text-blue-600 font-medium mr-1",children:"  "})]})})]}),r.jsx("div",{className:"text-center text-xs text-gray-500",children:r.jsx("p",{children:" 2024    .   ."})})]})})},yr=()=>{const{user:e}=xn(),t=(i,c)=>{if((e==null?void 0:e.role)==="admin")return!0;if(!(e!=null&&e.permissions)||e.permissions.length===0)return!1;const o=e.permissions.find(d=>d.module===i);return o?o.actions.includes(c):!1};return{hasPermission:t,canRead:i=>t(i,"read"),canCreate:i=>t(i,"create"),canUpdate:i=>t(i,"update"),canDelete:i=>t(i,"delete"),isAdmin:(e==null?void 0:e.role)==="admin"}},Mp=({currentPage:e,onPageChange:t,isOpen:s,onClose:n})=>{const{canRead:a,isAdmin:l}=yr(),c=[{id:"dashboard",name:" ",icon:uo,module:null},{id:"chickens",name:" ",icon:Nt,module:"chickens"},{id:"eggs",name:" ",icon:at,module:"eggs"},{id:"cartons",name:"",icon:_e,module:"cartons"},{id:"sales",name:"",icon:Yt,module:"sales"},{id:"expenses",name:"",icon:mr,module:"expenses"},{id:"users",name:"",icon:xt,module:"users"},{id:"clients",name:"",icon:hm,module:"sales"},{id:"settings",name:"",icon:mo,module:null}].filter(d=>d.id==="users"?l:d.id==="dashboard"||d.id==="settings"?!0:d.module?a(d.module):!0),o=d=>{t(d),window.innerWidth<1024&&n()};return r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:n}),r.jsxs("div",{className:`
        fixed lg:static inset-y-0 right-0 z-50
        w-72 bg-white border-r border-slate-200/60 flex flex-col shadow-sm
        transform transition-transform duration-300 ease-in-out
        ${s?"translate-x-0":"translate-x-full lg:translate-x-0"}
      `,children:[r.jsx("div",{className:"p-4 lg:p-8 border-b border-slate-200/60",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(at,{className:"h-6 w-6 lg:h-7 lg:w-7 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg lg:text-xl font-bold text-slate-900",children:" "}),r.jsx("p",{className:"text-xs lg:text-sm text-slate-500 font-medium",children:"  "})]})]}),r.jsx("button",{onClick:n,className:"lg:hidden p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-colors",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsx("nav",{className:"flex-1 p-3 lg:p-6 space-y-2 overflow-y-auto",children:c.map(d=>{const x=d.icon,g=e===d.id;return r.jsxs("button",{onClick:()=>o(d.id),className:`w-full flex items-center space-x-3 rtl:space-x-reverse px-3 py-3 lg:px-4 lg:py-4 rounded-lg lg:rounded-xl text-right transition-all duration-200 group ${g?"bg-gradient-to-r from-blue-50 to-blue-100/50 text-blue-700 shadow-sm border border-blue-200/50":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[r.jsx(x,{className:`h-4 w-4 lg:h-5 lg:w-5 transition-colors flex-shrink-0 ${g?"text-blue-600":"text-slate-400 group-hover:text-slate-600"}`}),r.jsx("span",{className:"font-medium text-xs lg:text-sm",children:d.name}),g&&r.jsx("div",{className:"mr-auto w-2 h-2 bg-blue-500 rounded-full"})]},d.id)})}),r.jsx("div",{className:"p-4 lg:p-6 border-t border-slate-200/60",children:r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg p-3 lg:p-4",children:[r.jsx("p",{className:"text-xs text-slate-600 text-center font-medium",children:"   v2.0"}),r.jsx("p",{className:"text-xs text-slate-500 text-center mt-1",children:"    2024"})]})})]})]})},Ip=({currentPage:e,onMenuClick:t})=>{var o;const{signOut:s,user:n}=xn(),[a,l]=p.useState(!1),i=async()=>{await s()},c=[{id:1,message:"  ",time:"5 ",type:"warning"},{id:2,message:"     ",time:"15 ",type:"success"},{id:3,message:"  ",time:"30 ",type:"info"}];return r.jsx("div",{className:"bg-white border-b border-slate-200/60 px-4 lg:px-8 py-4 lg:py-5 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{onClick:t,className:"lg:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg transition-colors",children:r.jsx(wp,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg lg:text-2xl font-bold text-slate-900",children:e}),r.jsx("p",{className:"hidden sm:block text-xs lg:text-sm text-slate-500 font-medium",children:"    "})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4 rtl:space-x-reverse",children:[r.jsxs("div",{className:"hidden lg:flex items-center bg-slate-50 rounded-lg px-4 py-2 min-w-[300px]",children:[r.jsx(xm,{className:"h-4 w-4 text-slate-400 ml-2"}),r.jsx("input",{type:"text",placeholder:"  ...",className:"bg-transparent border-none outline-none text-sm text-slate-700 placeholder-slate-400 w-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>l(!a),className:"relative p-2 lg:p-3 text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-all duration-200",children:[r.jsx(um,{className:"h-4 w-4 lg:h-5 lg:w-5"}),r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 lg:h-5 lg:w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:c.length})]}),a&&r.jsxs("div",{className:"absolute left-0 rtl:right-0 mt-2 w-72 lg:w-80 bg-white rounded-xl shadow-lg border border-slate-200/60 z-50 animate-fadeIn",children:[r.jsx("div",{className:"p-4 border-b border-slate-200/60",children:r.jsx("h3",{className:"font-semibold text-slate-900",children:""})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:c.map(d=>r.jsxs("div",{className:"p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[r.jsx("p",{className:"text-sm text-slate-700 font-medium",children:d.message}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[" ",d.time]})]},d.id))}),r.jsx("div",{className:"p-3 text-center border-t border-slate-200/60",children:r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"  "})})]})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-3 rtl:space-x-reverse bg-slate-50 rounded-lg px-3 lg:px-4 py-2",children:[r.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:r.jsx(di,{className:"h-4 w-4 lg:h-5 lg:w-5 text-white"})}),r.jsxs("div",{className:"hidden lg:block",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:((o=n==null?void 0:n.email)==null?void 0:o.split("@")[0])||" "}),r.jsx("p",{className:"text-xs text-slate-500",children:" "})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{className:"p-2 lg:p-3 text-slate-500 hover:text-slate-700 hover:bg-slate-50 rounded-lg transition-all duration-200",children:r.jsx(mo,{className:"h-4 w-4 lg:h-5 lg:w-5"})}),r.jsx("button",{onClick:i,className:"p-2 lg:p-3 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:" ",children:r.jsx(bp,{className:"h-4 w-4 lg:h-5 lg:w-5"})})]})]})]})})};class Lp{mapCarton(t){return{id:t.id??t._id??crypto.randomUUID(),type:t.type,capacity:t.capacity,available_quantity:t.available_quantity,purchase_price:t.purchase_price,supplier:t.supplier,purchase_date:typeof t.purchase_date=="string"?t.purchase_date:t.purchase_date?new Date(t.purchase_date).toISOString():void 0}}mapSale(t){return{id:t.id??t._id??crypto.randomUUID(),client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,sale_date:typeof t.sale_date=="string"?t.sale_date:new Date(t.sale_date).toISOString(),items:(t.items||[]).map(s=>({id:s.id??s._id??crypto.randomUUID(),product_type:s.product_type,batch_number:s.batch_number,quantity:s.quantity,unit_price:s.unit_price,total_price:s.total_price,description:s.description})),total_amount:t.total_amount,payment_status:t.payment_status,payment_method:t.payment_method,invoice_number:t.invoice_number,notes:t.notes}}async getChickens(){try{return(await se.getChickens()||[]).map(s=>({id:s.id??s._id??crypto.randomUUID(),batch_number:s.batch_number,breed:s.breed,count:s.count,age_weeks:s.age_weeks,purchase_date:typeof s.purchase_date=="string"?s.purchase_date:new Date(s.purchase_date).toISOString(),purchase_price:s.purchase_price,status:s.status,current_stock:s.current_stock??s.stock??s.available_stock??s.count??0,notes:s.notes??"",created_at:typeof s.created_at=="string"?s.created_at:s.created_at?new Date(s.created_at).toISOString():void 0}))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("chickens");return s?JSON.parse(s):[]}}async addChicken(t){try{return await se.addChicken(t)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getChickens();return a.unshift(n),localStorage.setItem("chickens",JSON.stringify(a)),n}}async updateChicken(t,s){try{return await se.updateChicken(t,s)}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getChickens(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("chickens",JSON.stringify(a)),a[l];throw new Error("Chicken not found")}}async deleteChicken(t){try{return await se.deleteChicken(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getChickens()).filter(l=>l.id!==t);return localStorage.setItem("chickens",JSON.stringify(a)),!0}}async getHealthEvents(t){try{return(await se.getHealthEvents(t)||[]).map(n=>({id:n.id??n._id??crypto.randomUUID(),chicken_id:n.chicken_id??t,event_type:n.event_type,date:typeof n.date=="string"?n.date:new Date(n.date).toISOString(),description:n.description,medication:n.medication,dosage:n.dosage,veterinarian:n.veterinarian,cost:n.cost,notes:n.notes}))}catch(s){console.warn("API error, falling back to localStorage:",s);const n=localStorage.getItem("health_events");return(n?JSON.parse(n):[]).filter(l=>l.chicken_id===t)}}async getHealthEventsForChickens(t){const s=[];for(const n of t){const a=await this.getHealthEvents(n);s.push(...a)}return s}async addHealthEvent(t){try{return await se.addHealthEvent(t.chicken_id,t)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=localStorage.getItem("health_events"),l=a?JSON.parse(a):[];return l.unshift(n),localStorage.setItem("health_events",JSON.stringify(l)),n}}async getEggProductions(){try{return(await se.getEggProductions()||[]).map(s=>({id:s.id??s._id??crypto.randomUUID(),batch_number:s.batch_number,date:typeof s.date=="string"?s.date:new Date(s.date).toISOString().split("T")[0],total_eggs:s.total_eggs,damaged_eggs:s.damaged_eggs,good_eggs:s.good_eggs,collection_time:s.collection_time,notes:s.notes??"",created_at:typeof s.created_at=="string"?s.created_at:s.created_at?new Date(s.created_at).toISOString():void 0}))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("egg_productions");return s?JSON.parse(s):[]}}async addEggProduction(t){try{const s=await se.addEggProduction(t);return{id:s.id??s._id??crypto.randomUUID(),batch_number:s.batch_number,date:typeof s.date=="string"?s.date:new Date(s.date).toISOString().split("T")[0],total_eggs:s.total_eggs,damaged_eggs:s.damaged_eggs,good_eggs:s.good_eggs,collection_time:s.collection_time,notes:s.notes??"",created_at:typeof s.created_at=="string"?s.created_at:s.created_at?new Date(s.created_at).toISOString():void 0}}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getEggProductions();return a.unshift(n),localStorage.setItem("egg_productions",JSON.stringify(a)),n}}async updateEggProduction(t,s){try{const n=await se.updateEggProduction(t,s);return{id:n.id??n._id??t,batch_number:n.batch_number??s.batch_number??"",date:typeof n.date=="string"?n.date:new Date(n.date).toISOString().split("T")[0],total_eggs:n.total_eggs,damaged_eggs:n.damaged_eggs,good_eggs:n.good_eggs,collection_time:n.collection_time,notes:n.notes??"",created_at:typeof n.created_at=="string"?n.created_at:n.created_at?new Date(n.created_at).toISOString():void 0}}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getEggProductions(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("egg_productions",JSON.stringify(a)),a[l];throw new Error("Egg production not found")}}async deleteEggProduction(t){try{return await se.deleteEggProduction(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getEggProductions()).filter(l=>l.id!==t);return localStorage.setItem("egg_productions",JSON.stringify(a)),!0}}async getClients(){try{return(await se.getClients()||[]).map(s=>({id:s.id??s._id??crypto.randomUUID(),name:s.name,phone:s.phone,email:s.email,address:s.address,city:s.city,postal_code:s.postal_code,tax_id:s.tax_id,commercial_register:s.commercial_register,notes:s.notes,created_at:typeof s.created_at=="string"?s.created_at:s.created_at?new Date(s.created_at).toISOString():void 0}))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("clients");return s?JSON.parse(s):[]}}async addClient(t){try{const s=await se.addClient(t);return{id:s.id??s._id??crypto.randomUUID(),name:s.name,phone:s.phone,email:s.email,address:s.address,city:s.city,postal_code:s.postal_code,tax_id:s.tax_id,commercial_register:s.commercial_register,notes:s.notes,created_at:typeof s.created_at=="string"?s.created_at:s.created_at?new Date(s.created_at).toISOString():void 0}}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getClients();return a.unshift(n),localStorage.setItem("clients",JSON.stringify(a)),n}}async updateClient(t,s){try{const n=await se.updateClient(t,s);return{id:n.id??n._id??t,name:n.name,phone:n.phone,email:n.email,address:n.address,city:n.city,postal_code:n.postal_code,tax_id:n.tax_id,commercial_register:n.commercial_register,notes:n.notes,created_at:typeof n.created_at=="string"?n.created_at:n.created_at?new Date(n.created_at).toISOString():void 0}}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getClients(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("clients",JSON.stringify(a)),a[l];throw new Error("Client not found")}}async deleteClient(t){try{return await se.deleteClient(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getClients()).filter(l=>l.id!==t);return localStorage.setItem("clients",JSON.stringify(a)),!0}}async getSales(){try{return(await se.getSales()||[]).map(s=>this.mapSale(s))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("sales");return s?JSON.parse(s):[]}}async addSale(t){try{const s=await se.addSale(t);return this.mapSale(s)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getSales();return a.unshift(n),localStorage.setItem("sales",JSON.stringify(a)),n}}async updateSale(t,s){try{const n=await se.updateSale(t,s);return this.mapSale(n)}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getSales(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("sales",JSON.stringify(a)),a[l];throw new Error("Sale not found")}}async deleteSale(t){try{return await se.deleteSale(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getSales()).filter(l=>l.id!==t);return localStorage.setItem("sales",JSON.stringify(a)),!0}}mapExpense(t){var s;return{id:t.id||((s=t._id)==null?void 0:s.toString())||"",date:typeof t.date=="string"?t.date:t.date?new Date(t.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],category:t.category||"other",description:t.description||"",amount:t.amount||0,beneficiary:t.beneficiary||t.supplier||"",payment_status:t.payment_status||"unpaid",notes:t.notes||""}}async getExpenses(){try{return(await se.getExpenses()||[]).map(s=>this.mapExpense(s))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("expenses");return s?JSON.parse(s):[]}}async addExpense(t){try{const s=await se.addExpense(t);return this.mapExpense(s)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getExpenses();return a.unshift(n),localStorage.setItem("expenses",JSON.stringify(a)),n}}async updateExpense(t,s){try{const n=await se.updateExpense(t,s);return this.mapExpense(n)}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getExpenses(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("expenses",JSON.stringify(a)),a[l];throw new Error("Expense not found")}}async deleteExpense(t){try{return await se.deleteExpense(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getExpenses()).filter(l=>l.id!==t);return localStorage.setItem("expenses",JSON.stringify(a)),!0}}async getCartons(){try{return(await se.getCartons()||[]).map(s=>this.mapCarton(s))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("cartons");return s?JSON.parse(s):[]}}async addCarton(t){try{const s=await se.addCarton(t);return this.mapCarton(s)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t},a=await this.getCartons();return a.unshift(n),localStorage.setItem("cartons",JSON.stringify(a)),n}}async updateCarton(t,s){try{const n=await se.updateCarton(t,s);return this.mapCarton(n)}catch(n){console.warn("API error, using localStorage:",n);const a=await this.getCartons(),l=a.findIndex(i=>i.id===t);if(l!==-1)return a[l]={...a[l],...s},localStorage.setItem("cartons",JSON.stringify(a)),a[l];throw new Error("Carton not found")}}async deleteCarton(t){try{return await se.deleteCarton(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getCartons()).filter(l=>l.id!==t);return localStorage.setItem("cartons",JSON.stringify(a)),!0}}async getCartonMovements(){const t=localStorage.getItem("carton_movements");return t?JSON.parse(t):[]}async addCartonMovement(t){const s={id:crypto.randomUUID(),...t},n=await this.getCartonMovements();return n.unshift(s),localStorage.setItem("carton_movements",JSON.stringify(n)),s}async getVaccinations(){try{const t=localStorage.getItem("vaccinations");return t?JSON.parse(t):[]}catch(t){return console.warn("Error getting vaccinations:",t),[]}}async addVaccination(t){try{const s={id:crypto.randomUUID(),...t},n=await this.getVaccinations();return n.unshift(s),localStorage.setItem("vaccinations",JSON.stringify(n)),s}catch(s){throw console.warn("Error adding vaccination:",s),s}}mapUser(t){var s;return{id:t.id||((s=t._id)==null?void 0:s.toString())||"",name:t.name||"",email:t.email||"",role:t.role||"employee",phone:t.phone||"",status:t.status||"active",permissions:t.permissions||[],created_at:t.created_at?typeof t.created_at=="string"?t.created_at:new Date(t.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],last_login:t.last_login?typeof t.last_login=="string"?t.last_login:new Date(t.last_login).toISOString():null}}async getUsers(){try{return(await se.getUsers()||[]).map(s=>this.mapUser(s))}catch(t){console.warn("API error, falling back to localStorage:",t);const s=localStorage.getItem("users");return s?JSON.parse(s):[]}}async addUser(t){try{const s=await se.addUser(t),n=s.user||s;return this.mapUser(n)}catch(s){console.warn("API error, using localStorage:",s);const n={id:crypto.randomUUID(),...t,created_at:new Date().toISOString().split("T")[0]},a=await this.getUsers();return a.unshift(n),localStorage.setItem("users",JSON.stringify(a)),n}}async updateUser(t,s){var n,a;try{console.log("databaseService.updateUser called:",{id:t,user:s});const l=await se.updateUser(t,s);return console.log("API response:",l),this.mapUser(l)}catch(l){throw console.error("API error in updateUser:",l),console.error("Error details:",{message:l==null?void 0:l.message,response:l==null?void 0:l.response,status:(n=l==null?void 0:l.response)==null?void 0:n.status,data:(a=l==null?void 0:l.response)==null?void 0:a.data}),l}}async deleteUser(t){try{return await se.deleteUser(t),!0}catch(s){console.warn("API error, using localStorage:",s);const a=(await this.getUsers()).filter(l=>l.id!==t);return localStorage.setItem("users",JSON.stringify(a)),!0}}async getDashboardStats(){try{return await se.getDashboardStats()}catch(t){console.warn("API error, calculating stats from localStorage:",t);const s=await this.getChickens(),n=await this.getEggProductions(),a=await this.getSales(),l=await this.getExpenses(),i=await this.getCartons(),c=s.map(F=>F.id),d=(await this.getHealthEventsForChickens(c)).filter(F=>c.includes(F.chicken_id)),x=F=>{if(F.description){const J=F.description.match(/\s*:\s*(\d+)/);if(J&&J[1]){const T=parseInt(J[1],10);if(!Number.isNaN(T)&&T>0)return T}const de=F.description.match(/(\d+)/);if(de&&de[1]){const T=parseInt(de[1],10);if(!Number.isNaN(T)&&T>0)return T}}return 1},g=s.reduce((F,J)=>F+(J.count||0),0),v=d.filter(F=>F.event_type==="illness").reduce((F,J)=>F+x(J),0),E=d.filter(F=>F.event_type==="recovery").reduce((F,J)=>F+x(J),0),_=Math.max(v-E,0),P=d.filter(F=>F.event_type==="death").reduce((F,J)=>F+x(J),0),w=Math.max(g-P,0),h=new Date,m=new Date(h);m.setHours(0,0,0,0);const f=new Date(h);f.setHours(23,59,59,999);const b=new Date(h);b.setDate(h.getDate()-7),b.setHours(0,0,0,0);const N=new Date(h.getFullYear(),h.getMonth(),1),k=n.filter(F=>{const J=new Date(F.date);return J>=m&&J<=f}).reduce((F,J)=>F+(J.good_eggs||0),0),j=n.filter(F=>new Date(F.date)>=b).reduce((F,J)=>F+(J.good_eggs||0),0),L=n.filter(F=>new Date(F.date)>=N).reduce((F,J)=>F+(J.good_eggs||0),0),R=n.reduce((F,J)=>F+(J.total_eggs||0),0),z=n.reduce((F,J)=>F+(J.damaged_eggs||0),0),D=R>0?z/R*100:0,K=a.reduce((F,J)=>F+J.total_amount,0),Y=l.reduce((F,J)=>F+J.amount,0);return{totalChickens:g,aliveChickens:w,sickChickens:_,deadChickens:P,todayEggs:k,weeklyEggs:j,monthlyEggs:L,damageRate:Math.round(D*100)/100,totalDamagedEggs:z,totalRevenue:K,totalExpenses:Y,profit:K-Y,lowStockCartons:i.filter(F=>F.available_quantity<10)}}}}const Z=new Lp,ee=e=>{try{return`${new Intl.NumberFormat("ar-TN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0)} `}catch{return`${(e||0).toFixed(2)} `}},Tp="modulepreload",Rp=function(e){return"/madjna-mansour/"+e},Ic={},Op=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(s.map(o=>{if(o=Rp(o),o in Ic)return;Ic[o]=!0;const d=o.endsWith(".css"),x=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${x}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Tp,d||(g.as="script"),g.crossOrigin="",g.href=o,c&&g.setAttribute("nonce",c),document.head.appendChild(g),d)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return a.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})},zp=({farmStats:e,onClose:t})=>{const[s,n]=p.useState([{id:"1",text:"!     .    ",sender:"ai",timestamp:new Date}]),[a,l]=p.useState(""),[i,c]=p.useState(!1),[o,d]=p.useState(!1),x=p.useRef(null),g=p.useRef(null);p.useEffect(()=>{v()},[s]);const v=()=>{var w;(w=x.current)==null||w.scrollIntoView({behavior:"smooth"})},E=async()=>{var h;if(!a.trim()||i)return;const w={id:Date.now().toString(),text:a.trim(),sender:"user",timestamp:new Date};n(m=>[...m,w]),l(""),c(!0);try{const{aiService:m}=await Op(async()=>{const{aiService:N}=await import("./aiService-1cp6XBom.js");return{aiService:N}},[]);console.log("Sending message to AI with farmStats:",{hasStats:!!e,statsKeys:e?Object.keys(e):[]});const f=await m.chat(w.text,e),b={id:(Date.now()+1).toString(),text:f,sender:"ai",timestamp:new Date};n(N=>[...N,b])}catch(m){console.error("Chat error:",m);const f={id:(Date.now()+1).toString(),text:m.message||"    .    .",sender:"ai",timestamp:new Date};n(b=>[...b,f])}finally{c(!1),(h=g.current)==null||h.focus()}},_=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),E())},P=["  ","  ","  ","   "];return o?r.jsx("div",{className:"fixed bottom-6 left-6 z-50",children:r.jsxs("button",{onClick:()=>d(!1),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Cc,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:" "}),r.jsx(jp,{className:"h-4 w-4"})]})}):r.jsxs("div",{className:"fixed bottom-6 left-6 w-96 h-[600px] bg-white rounded-lg shadow-2xl border border-gray-200 flex flex-col z-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-4 rounded-t-lg flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-white/20 p-2 rounded-md",children:r.jsx(ci,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:" "}),r.jsx("p",{className:"text-xs text-blue-100",children:" "})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{onClick:()=>d(!0),className:"p-1 hover:bg-white/20 rounded-md transition-colors",title:"",children:r.jsx(Np,{className:"h-4 w-4"})}),t&&r.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-md transition-colors",title:"",children:r.jsx(je,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[s.map(w=>r.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${w.sender==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[w.sender==="ai"&&r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-1",children:[r.jsx(Cc,{className:"h-3 w-3 text-blue-600"}),r.jsx("span",{className:"text-xs font-medium text-blue-600",children:""})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.text}),r.jsx("p",{className:`text-xs mt-1 ${w.sender==="user"?"text-blue-100":"text-gray-500"}`,children:w.timestamp.toLocaleTimeString("ar-TN",{hour:"2-digit",minute:"2-digit"})})]})},w.id)),i&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),r.jsx("span",{className:"text-xs text-gray-600",children:" ..."})]})})}),r.jsx("div",{ref:x})]}),s.length===1&&r.jsxs("div",{className:"px-4 py-2 bg-white border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" :"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((w,h)=>r.jsx("button",{onClick:()=>{l(w),setTimeout(()=>E(),100)},className:"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors",children:w},h))})]}),r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("input",{ref:g,type:"text",value:a,onChange:w=>l(w.target.value),onKeyPress:_,placeholder:"  ...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i}),r.jsx("button",{onClick:E,disabled:!a.trim()||i,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r.jsx(Cp,{className:"h-5 w-5"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"        "})]})]})},Lc=({onNavigate:e})=>{const t=O=>{e&&e(O)},[s,n]=p.useState(!1),[a,l]=p.useState({totalChickens:0,aliveChickens:0,sickChickens:0,deadChickens:0,todayEggs:0,weeklyEggs:0,monthlyEggs:0,damageRate:0,totalRevenue:0,todayRevenue:0,weeklyRevenue:0,monthlyRevenue:0,totalExpenses:0,todayExpenses:0,weeklyExpenses:0,monthlyExpenses:0,profit:0,todayProfit:0,weeklyProfit:0,monthlyProfit:0}),[i,c]=p.useState(!0);p.useEffect(()=>{o();const O=setInterval(o,5*60*1e3);return()=>clearInterval(O)},[]);const o=async()=>{try{c(!0);const O=await Z.getDashboardStats();l(O)}catch(O){console.error("     :",O)}finally{c(!1)}},{totalChickens:d,aliveChickens:x,sickChickens:g,deadChickens:v,todayEggs:E,weeklyEggs:_,monthlyEggs:P,damageRate:w,totalDamagedEggs:h=0,todayRevenue:m,weeklyRevenue:f,monthlyRevenue:b,todayExpenses:N,weeklyExpenses:k,monthlyExpenses:j,todayProfit:L,weeklyProfit:R,monthlyProfit:z,lowStockCartons:D=[],recentHealthEvents:K=[],upcomingVaccinations:Y=[],recentSales:F=[],totalClients:J=0,topBatches:de=[],worstBatches:T=[]}=a,I=[];return g>0&&I.push({type:"warning",icon:Gt,message:`${g}    `,action:()=>t("chickens")}),D.length>0&&I.push({type:"warning",icon:_e,message:`${D.length}    `,action:()=>t("cartons")}),Y.length>0&&I.push({type:"info",icon:Zr,message:`${Y.length}    30 `,action:()=>t("chickens")}),w>10&&I.push({type:"error",icon:ye,message:`  : ${w.toFixed(1)}%`,action:()=>t("eggs")}),i?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"   ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(dm,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse text-gray-600",children:[r.jsx(Ir,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium text-sm",children:new Date().toLocaleDateString("ar-TN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),I.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[r.jsx(um,{className:"h-5 w-5 text-amber-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "})]}),r.jsx("div",{className:"space-y-3",children:I.map((O,A)=>{const W=O.icon;return r.jsxs("div",{onClick:O.action,className:`flex items-center justify-between p-4 rounded-md border cursor-pointer transition-all duration-200 hover:shadow-md ${O.type==="error"?"bg-red-50 border-red-200":O.type==="warning"?"bg-amber-50 border-amber-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(W,{className:`h-5 w-5 ${O.type==="error"?"text-red-600":O.type==="warning"?"text-amber-600":"text-blue-600"}`}),r.jsx("span",{className:`font-medium ${O.type==="error"?"text-red-900":O.type==="warning"?"text-amber-900":"text-blue-900"}`,children:O.message})]}),r.jsx(pp,{className:"h-4 w-4 text-gray-400"})]},A)})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(Nt,{className:"h-6 w-6 text-slate-600"})}),r.jsxs("span",{className:"text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[x," "]})]}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-3xl font-bold text-slate-800",children:d.toLocaleString()}),r.jsxs("div",{className:"mt-4 flex items-center space-x-4 rtl:space-x-reverse text-xs",children:[r.jsxs("span",{className:"text-amber-600",children:[g," "]}),r.jsxs("span",{className:"text-red-600",children:[v," "]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(at,{className:"h-6 w-6 text-emerald-600"})}),r.jsx("span",{className:"text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:""})]}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-3xl font-bold text-slate-800",children:E.toLocaleString()}),r.jsxs("div",{className:"mt-4 flex items-center space-x-4 rtl:space-x-reverse text-xs",children:[r.jsxs("span",{className:"text-gray-600",children:[": ",_.toLocaleString()]}),r.jsxs("span",{className:"text-gray-600",children:[": ",P.toLocaleString()]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-md ${L>=0?"bg-emerald-100":"bg-red-100"}`,children:r.jsx(mr,{className:`h-6 w-6 ${L>=0?"text-emerald-600":"text-red-600"}`})}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${L>=0?"text-emerald-600 bg-emerald-50":"text-red-600 bg-red-50"}`,children:""})]}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:`text-3xl font-bold ${L>=0?"text-emerald-600":"text-red-600"}`,children:ee(L)}),r.jsxs("div",{className:"mt-4 flex items-center space-x-4 rtl:space-x-reverse text-xs",children:[r.jsxs("span",{className:"text-gray-600",children:[": ",ee(R)]}),r.jsxs("span",{className:"text-gray-600",children:[": ",ee(z)]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-md ${w<5?"bg-emerald-100":w<10?"bg-amber-100":"bg-red-100"}`,children:r.jsx(ye,{className:`h-6 w-6 ${w<5?"text-emerald-600":w<10?"text-amber-600":"text-red-600"}`})}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${w<5?"text-emerald-600 bg-emerald-50":w<10?"text-amber-600 bg-amber-50":"text-red-600 bg-red-50"}`,children:w<5?"":w<10?"":" "})]}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsxs("p",{className:`text-3xl font-bold ${w<5?"text-emerald-600":w<10?"text-amber-600":"text-red-600"}`,children:[w.toFixed(1),"%"]}),r.jsxs("p",{className:"mt-4 text-xs text-gray-600",children:[h.toLocaleString(),"  "]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse text-white",children:[r.jsx(uo,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-emerald-50 p-4 rounded-md border border-emerald-200",children:[r.jsx("p",{className:"text-xs font-medium text-emerald-700 mb-1",children:" "}),r.jsx("p",{className:"text-xl font-bold text-emerald-900",children:ee(m)}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:[": ",ee(f)]}),r.jsxs("p",{className:"text-xs text-emerald-600",children:[": ",ee(b)]})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:[r.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:" "}),r.jsx("p",{className:"text-xl font-bold text-red-900",children:ee(N)}),r.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[": ",ee(k)]}),r.jsxs("p",{className:"text-xs text-red-600",children:[": ",ee(j)]})]}),r.jsxs("div",{className:`p-4 rounded-md border ${L>=0?"bg-blue-50 border-blue-200":"bg-amber-50 border-amber-200"}`,children:[r.jsx("p",{className:`text-xs font-medium mb-1 ${L>=0?"text-blue-700":"text-amber-700"}`,children:" "}),r.jsx("p",{className:`text-xl font-bold ${L>=0?"text-blue-900":"text-amber-900"}`,children:ee(L)}),r.jsxs("p",{className:`text-xs mt-2 ${L>=0?"text-blue-600":"text-amber-600"}`,children:[": ",ee(R)]}),r.jsxs("p",{className:`text-xs ${L>=0?"text-blue-600":"text-amber-600"}`,children:[": ",ee(z)]})]})]}),F.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),r.jsx("div",{className:"space-y-2",children:F.map((O,A)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.client_name||""}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(O.sale_date).toLocaleDateString("ar-TN")})]}),r.jsx("p",{className:"text-sm font-semibold text-emerald-600",children:ee(O.total_amount)})]},A))})]})]})]}),(de.length>0||T.length>0)&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-emerald-700 mb-2",children:" "}),r.jsx("div",{className:"space-y-2",children:de.slice(0,3).map((O,A)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-emerald-50 rounded-md",children:[r.jsx("span",{className:"text-sm font-medium text-emerald-900",children:O.batch_number}),r.jsxs("span",{className:"text-xs text-emerald-700",children:[O.count," "]})]},A))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-amber-700 mb-2",children:" "}),r.jsx("div",{className:"space-y-2",children:T.slice(0,3).map((O,A)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-amber-50 rounded-md",children:[r.jsx("span",{className:"text-sm font-medium text-amber-900",children:O.batch_number}),r.jsxs("span",{className:"text-xs text-amber-700",children:[O.count," "]})]},A))})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[Y.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[r.jsx(Zr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "})]}),r.jsx("div",{className:"space-y-3",children:Y.slice(0,5).map((O,A)=>r.jsxs("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900",children:O.vaccine_name}),r.jsx("p",{className:"text-xs text-blue-700 mt-1",children:O.next_vaccination_date?new Date(O.next_vaccination_date).toLocaleDateString("ar-TN"):" "}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[": ",O.chicken_batch_id]})]},A))})]}),K.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mb-4",children:[r.jsx(Gt,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"  "}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:" 5"})]}),r.jsx("div",{className:"space-y-3",children:K.map((O,A)=>r.jsxs("div",{className:`p-3 rounded-md border ${O.event_type==="death"?"bg-red-50 border-red-200":O.event_type==="recovery"?"bg-emerald-50 border-emerald-200":"bg-amber-50 border-amber-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${O.event_type==="death"?"bg-red-100 text-red-800":O.event_type==="recovery"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:O.event_type==="death"?"":O.event_type==="recovery"?"":""}),r.jsx("span",{className:"text-xs text-gray-600",children:new Date(O.date).toLocaleDateString("ar-TN")})]}),r.jsx("p",{className:"text-sm text-gray-900 mt-2 line-clamp-2",children:O.description})]},A))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:" "}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(xt,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:J})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(_e,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:D.length})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(at,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"  (7 )"})]}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:Math.round(_/7).toLocaleString()})]})]})]})]})]}),!s&&r.jsxs("button",{onClick:()=>n(!0),className:"fixed bottom-6 left-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center space-x-2 rtl:space-x-reverse z-40 group",children:[r.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:r.jsx(ci,{className:"h-5 w-5"})}),r.jsx("span",{className:"font-medium",children:" "}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-400 rounded-full animate-pulse"})]}),s&&r.jsx(zp,{farmStats:a,onClose:()=>n(!1)}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "}),r.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 rtl:space-x-reverse text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(ci,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:"  "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[r.jsxs("button",{onClick:()=>t("chickens"),className:"p-4 bg-slate-50 hover:bg-slate-100 rounded-md border border-slate-200 transition-colors duration-200 text-center",children:[r.jsx(Nt,{className:"h-5 w-5 text-slate-600 mx-auto mb-2"}),r.jsx("p",{className:"font-medium text-slate-800 text-sm",children:" "})]}),r.jsxs("button",{onClick:()=>t("eggs"),className:"p-4 bg-emerald-50 hover:bg-emerald-100 rounded-md border border-emerald-200 transition-colors duration-200 text-center",children:[r.jsx(at,{className:"h-5 w-5 text-emerald-600 mx-auto mb-2"}),r.jsx("p",{className:"font-medium text-emerald-800 text-sm",children:" "})]}),r.jsxs("button",{onClick:()=>t("sales"),className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-md border border-blue-200 transition-colors duration-200 text-center",children:[r.jsx(mr,{className:"h-5 w-5 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"font-medium text-blue-800 text-sm",children:""})]}),r.jsxs("button",{onClick:()=>t("expenses"),className:"p-4 bg-amber-50 hover:bg-amber-100 rounded-md border border-amber-200 transition-colors duration-200 text-center",children:[r.jsx(va,{className:"h-5 w-5 text-amber-600 mx-auto mb-2"}),r.jsx("p",{className:"font-medium text-amber-800 text-sm",children:""})]}),r.jsxs("button",{onClick:()=>t("clients"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-md border border-purple-200 transition-colors duration-200 text-center",children:[r.jsx(xt,{className:"h-5 w-5 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"font-medium text-purple-800 text-sm",children:""})]})]})]})]})})},Or=({currentPage:e,totalPages:t,onPageChange:s,itemsPerPage:n,totalItems:a})=>{const l=(e-1)*n+1,i=Math.min(e*n,a),c=()=>{const o=[];if(t<=5)for(let x=1;x<=t;x++)o.push(x);else if(e<=3){for(let x=1;x<=4;x++)o.push(x);o.push("..."),o.push(t)}else if(e>=t-2){o.push(1),o.push("...");for(let x=t-3;x<=t;x++)o.push(x)}else{o.push(1),o.push("...");for(let x=e-1;x<=e+1;x++)o.push(x);o.push("..."),o.push(t)}return o};return t<=1?null:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 px-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[" ",l," - ",i,"  ",a]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{onClick:()=>s(e-1),disabled:e===1,className:`p-2 rounded-lg border transition-colors ${e===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:r.jsx(gp,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:c().map((o,d)=>o==="..."?r.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${d}`):r.jsx("button",{onClick:()=>s(o),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===o?"bg-slate-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:o},o))}),r.jsx("button",{onClick:()=>s(e+1),disabled:e===t,className:`p-2 rounded-lg border transition-colors ${e===t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:r.jsx(fp,{className:"h-4 w-4"})})]})]})},$p=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState([]),[o,d]=p.useState([]),[x,g]=p.useState(!0),[v,E]=p.useState(1),_=10,[P,w]=p.useState(!1),[h,m]=p.useState(!1),[f,b]=p.useState(!1),[N,k]=p.useState(null),[j,L]=p.useState({batch_number:"",count:0,age_weeks:0,breed:"",status:"alive",purchase_date:new Date().toISOString().split("T")[0],purchase_price:0,notes:""}),[R,z]=p.useState(!1),[D,K]=p.useState(null),[Y,F]=p.useState(!1),[J,de]=p.useState(!1),[T,I]=p.useState(!1),[O,A]=p.useState(1),[W]=p.useState(5),[ce,Pe]=p.useState({chicken_id:"",event_type:"illness",date:new Date().toISOString().split("T")[0],description:"",notes:""}),[Q,ve]=p.useState({event_type:"illness",count:1,date:new Date().toISOString().split("T")[0],notes:""}),[ae,me]=p.useState({chicken_batch:"",vaccine_name:"",date:new Date().toISOString().split("T")[0],next_due_date:"",administered_by:""});p.useEffect(()=>{De()},[]);const De=async()=>{try{g(!0);const S=await Z.getChickens(),[te,xe]=await Promise.all([Z.getVaccinations(),Z.getHealthEventsForChickens(S.map(Me=>Me.id))]);l(S),c(te),d(xe)}catch(S){console.error("   :",S)}finally{g(!1)}},ut=async()=>{try{await Z.addChicken({...j,status:"alive"}),w(!1),L({batch_number:"",count:0,age_weeks:0,breed:"",status:"alive",purchase_date:new Date().toISOString().split("T")[0],purchase_price:0,notes:""}),De()}catch(S){console.error("   :",S)}},Qe=async()=>{if(N)try{await Z.updateChicken(N.id,{...j,status:"alive"}),m(!1),k(null),De()}catch(S){console.error("   :",S)}},M=async()=>{if(N)try{await Z.deleteChicken(N.id),b(!1),k(null),De()}catch(S){console.error("   :",S)}},G=async()=>{try{await Z.addVaccination(ae),de(!1),me({chicken_batch:(D==null?void 0:D.batch_number)||"",vaccine_name:"",date:new Date().toISOString().split("T")[0],next_due_date:"",administered_by:""}),De()}catch(S){console.error("   :",S)}},C=S=>{k(S),L({batch_number:S.batch_number,count:S.count,age_weeks:S.age_weeks,breed:S.breed,status:"alive",purchase_date:S.purchase_date,purchase_price:S.purchase_price,notes:S.notes||""}),m(!0)},V=S=>{k(S),b(!0)},X=S=>{K(S),z(!0),F(!1),de(!1),A(1),Pe({chicken_id:S.id,event_type:"illness",date:new Date().toISOString().split("T")[0],description:"",notes:""}),me({chicken_batch:S.batch_number,vaccine_name:"",date:new Date().toISOString().split("T")[0],next_due_date:"",administered_by:""})},u=S=>{if(S.description){const te=S.description.match(/\s*:\s*(\d+)/);if(te&&te[1]){const Me=parseInt(te[1],10);if(!Number.isNaN(Me)&&Me>0)return Me}const xe=S.description.match(/(\d+)/);if(xe&&xe[1]){const Me=parseInt(xe[1],10);if(!Number.isNaN(Me)&&Me>0)return Me}}return 1},$=(S,te)=>o.filter(xe=>xe.chicken_id===S&&xe.event_type===te).reduce((xe,Me)=>xe+u(Me),0),le=S=>{const te=$(S,"illness"),xe=$(S,"recovery");return Math.max(te-xe,0)},re=a.reduce((S,te)=>S+te.count,0),y=o.filter(S=>S.event_type==="illness").reduce((S,te)=>S+u(te),0),H=o.filter(S=>S.event_type==="recovery").reduce((S,te)=>S+u(te),0),ie=Math.max(y-H,0),Je=o.filter(S=>S.event_type==="death").reduce((S,te)=>S+u(te),0),He=Math.max(re-Je,0),mt=p.useMemo(()=>[...a].sort((S,te)=>{const xe=new Date(S.purchase_date).getTime(),Me=new Date(te.purchase_date).getTime();return xe===Me?(te.id||"").localeCompare(S.id||""):Me-xe}),[a]),zr=Math.ceil(a.length/_),$r=p.useMemo(()=>{const S=(v-1)*_,te=S+_;return mt.slice(S,te)},[mt,v,_]);return e("chickens")?x?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"  ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(Nt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]})]}),t("chickens")&&r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>w(!0),title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:re}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(xs,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(Nt,{className:"h-6 w-6 text-slate-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:He}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-1 flex items-center",children:[r.jsx(dm,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(Nt,{className:"h-6 w-6 text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ie}),r.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center",children:[r.jsx(Gt,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-md",children:r.jsx(Gt,{className:"h-6 w-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:Je}),r.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[r.jsx(ye,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-md",children:r.jsx(ye,{className:"h-6 w-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:" "})]})}),a.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Nt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"     "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-3 rtl:space-x-reverse mx-auto transition-colors duration-200",onClick:()=>w(!0),children:[r.jsx(ze,{className:"h-4 w-4"}),r.jsx("span",{children:"  "})]})]}):r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" ()"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$r.map((S,te)=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-slate-100 p-2 rounded-md mr-3",children:r.jsx(Nt,{className:"h-4 w-4 text-slate-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.batch_number})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:S.count})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.age_weeks}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S.breed})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${le(S.id)>0?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:le(S.id)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(S.id,"death")>0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:$(S.id,"death")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(S.purchase_date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("chickens")&&r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1.5 rounded-md hover:bg-blue-50 transition-colors duration-200",onClick:()=>C(S),title:"  ",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("chickens")&&r.jsx("button",{className:"text-red-600 hover:text-red-800 p-1.5 rounded-md hover:bg-red-50 transition-colors duration-200",onClick:()=>V(S),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})}),e("chickens")&&r.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1.5 rounded-md hover:bg-gray-50 transition-colors duration-200",onClick:()=>X(S),title:" ",children:r.jsx(Mc,{className:"h-4 w-4"})})]})})]},S.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:$r.map(S=>{const te=le(S.id),xe=$(S.id,"death");return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:r.jsx(Nt,{className:"h-5 w-5 text-slate-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:S.batch_number}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:S.breed})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e("chickens")&&r.jsx("button",{onClick:()=>X(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Mc,{className:"h-4 w-4"})}),s("chickens")&&r.jsx("button",{onClick:()=>C(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("chickens")&&r.jsx("button",{onClick:()=>V(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:S.count})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsxs("span",{className:"text-sm text-gray-900",children:[S.age_weeks," "]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm text-gray-900",children:new Date(S.purchase_date).toLocaleDateString("fr-FR")})]}),(te>0||xe>0)&&r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[te>0&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800",children:[te," "]}),xe>0&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:[xe," "]})]})]})]})]},S.id)})}),a.length>_&&r.jsx(Or,{currentPage:v,totalPages:zr,onPageChange:E,itemsPerPage:_,totalItems:a.length})]}),R&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Nt,{className:"h-5 w-5"}),r.jsxs("h3",{className:"text-lg font-semibold",children:[" : ",D.batch_number]})]}),r.jsx("button",{onClick:()=>z(!1),className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-6 rounded-md border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-lg mb-4 text-gray-800",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"font-medium text-gray-700",children:":"}),r.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded-md text-slate-800 font-medium",children:D.count})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"font-medium text-gray-700",children:" ():"}),r.jsx("span",{className:"bg-emerald-100 px-2 py-1 rounded-md text-emerald-800 font-medium",children:D.age_weeks})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"font-medium text-gray-700",children:":"}),r.jsx("span",{className:"bg-purple-100 px-2 py-1 rounded-md text-purple-800 font-medium",children:D.breed})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:"font-medium text-gray-700",children:" :"}),r.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-md text-gray-800 font-medium",children:new Date(D.purchase_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"font-medium text-gray-700",children:":"}),r.jsx("p",{className:"mt-1 text-gray-600 bg-white p-3 rounded-md border border-gray-300",children:D.notes||"  "})]})]})]}),r.jsxs("div",{className:"flex gap-3 mb-6 flex-wrap",children:[r.jsxs("button",{className:"flex items-center text-white bg-amber-600 hover:bg-amber-700 text-sm border border-amber-500 rounded-md px-3 py-2 transition-colors duration-200",onClick:()=>{ve({event_type:"illness",count:1,date:new Date().toISOString().split("T")[0],notes:""}),I(!0)},children:[r.jsx(Gt,{className:"h-4 w-4 mr-2"})," "]}),r.jsxs("button",{className:"flex items-center text-white bg-emerald-600 hover:bg-emerald-700 text-sm border border-emerald-500 rounded-md px-3 py-2 transition-colors duration-200",onClick:()=>{ve({event_type:"recovery",count:1,date:new Date().toISOString().split("T")[0],notes:""}),I(!0)},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"})," "]}),r.jsxs("button",{className:"flex items-center text-white bg-red-600 hover:bg-red-700 text-sm border border-red-500 rounded-md px-3 py-2 transition-colors duration-200",onClick:()=>{ve({event_type:"death",count:1,date:new Date().toISOString().split("T")[0],notes:""}),I(!0)},children:[r.jsx(ye,{className:"h-4 w-4 mr-2"})," "]}),r.jsxs("button",{className:"flex items-center text-white bg-blue-600 hover:bg-blue-700 text-sm border border-blue-500 rounded-md px-3 py-2 transition-colors duration-200",onClick:()=>{de(!0),me({chicken_batch:D.batch_number,vaccine_name:"",date:new Date().toISOString().split("T")[0],next_due_date:"",administered_by:""})},children:[r.jsx(Zr,{className:"h-4 w-4 mr-2"})," "]})]}),r.jsxs("div",{className:"bg-amber-50 p-6 rounded-md border border-amber-200",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-4 text-amber-900 flex items-center",children:[r.jsx(Gt,{className:"h-5 w-5 mr-2"}),"  "]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter(S=>S.chicken_id===D.id).length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:[r.jsx(Gt,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),"      "]})}):(()=>{const S=o.filter(bt=>bt.chicken_id===D.id),te=Math.max(1,Math.ceil(S.length/W)),Me=(Math.min(Math.max(1,O),te)-1)*W;return S.slice(Me,Me+W).map(bt=>r.jsxs("tr",{className:"hover:bg-amber-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${bt.event_type==="death"?"bg-red-100 text-red-800":bt.event_type==="recovery"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:bt.event_type==="death"?"":bt.event_type==="recovery"?"":""})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"font-medium text-gray-900",children:u(bt)})}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:new Date(bt.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:bt.description}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:bt.notes||"-"})]},bt.id))})()})]})}),o.filter(S=>S.chicken_id===D.id).length>W&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const S=o.filter(Me=>Me.chicken_id===D.id).length,te=Math.max(1,Math.ceil(S/W));return` ${Math.min(Math.max(1,O),te)}  ${te}`})()}),r.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 border rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:()=>A(S=>Math.max(1,S-1)),disabled:O<=1,children:""}),r.jsx("button",{className:"px-3 py-1.5 border rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",onClick:()=>{const S=o.filter(xe=>xe.chicken_id===D.id).length,te=Math.max(1,Math.ceil(S/W));A(xe=>Math.min(te,xe+1))},disabled:(()=>{const S=o.filter(xe=>xe.chicken_id===D.id).length,te=Math.max(1,Math.ceil(S/W));return O>=te})(),children:""})]})]})]}),r.jsxs("div",{className:"bg-emerald-50 p-6 rounded-md border border-emerald-200",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-4 text-emerald-900 flex items-center",children:[r.jsx(Zr,{className:"h-5 w-5 mr-2"})," "]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.filter(S=>S.chicken_batch===D.batch_number).length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:[r.jsx(Zr,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),"     "]})}):i.filter(S=>S.chicken_batch===D.batch_number).map(S=>r.jsxs("tr",{className:"hover:bg-emerald-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:S.vaccine_name})}),r.jsx("td",{className:"px-4 py-3 text-gray-700 font-medium",children:new Date(S.date).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:S.next_due_date?new Date(S.next_due_date).toLocaleDateString("fr-FR"):" "}),r.jsx("td",{className:"px-4 py-3 text-gray-700 font-medium",children:S.administered_by})]},S.id))})]})})]})]}),r.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end",children:r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200 font-medium",onClick:()=>z(!1),children:""})})]})}),T&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsxs("div",{className:Q.event_type==="death"?"bg-red-600 p-6 rounded-t-lg":Q.event_type==="recovery"?"bg-emerald-600 p-6 rounded-t-lg":"bg-amber-600 p-6 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[Q.event_type==="death"?r.jsx(ye,{className:"h-5 w-5"}):Q.event_type==="recovery"?r.jsx(jr,{className:"h-5 w-5"}):r.jsx(Gt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:Q.event_type==="death"?" ":Q.event_type==="recovery"?" ":"  "})]}),r.jsx("button",{onClick:()=>I(!1),className:"p-1 hover:bg-white/20 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]}),r.jsxs("p",{className:"text-white/80 mt-1",children:[": ",D.batch_number]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",value:Q.event_type,onChange:S=>ve({...Q,event_type:S.target.value}),children:[r.jsx("option",{value:"illness",children:""}),r.jsx("option",{value:"recovery",children:""}),r.jsx("option",{value:"death",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",value:Q.count,min:1,onChange:S=>ve({...Q,count:Math.max(1,parseInt(S.target.value)||1)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",value:Q.date,onChange:S=>ve({...Q,date:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",rows:3,value:Q.notes,onChange:S=>ve({...Q,notes:S.target.value}),placeholder:"   ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>I(!1),children:""}),r.jsx("button",{className:`px-3 py-1.5 text-white rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${Q.event_type==="death"?"bg-red-600 hover:bg-red-700":Q.event_type==="recovery"?"bg-emerald-600 hover:bg-emerald-700":"bg-amber-600 hover:bg-amber-700"}`,onClick:async()=>{try{const S=Q.event_type==="death"?" ":Q.event_type==="recovery"?" ":"  ",te={chicken_id:D.id,event_type:Q.event_type,date:Q.date,description:`${S} - : ${Math.max(1,Q.count)}`,notes:Q.notes||""};await Z.addHealthEvent(te),I(!1),await De()}catch(S){console.error("  :",S)}},disabled:!Q.date||!Q.count,children:" "})]})]})}),J&&D&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsxs("div",{className:"bg-emerald-600 p-6 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Zr,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>de(!1),className:"p-1 hover:bg-emerald-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]}),r.jsxs("p",{className:"text-emerald-100 mt-1",children:[": ",D.batch_number]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-colors duration-200",value:ae.vaccine_name,onChange:S=>me({...ae,vaccine_name:S.target.value}),placeholder:"  ..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-colors duration-200",value:ae.date,onChange:S=>me({...ae,date:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-colors duration-200",value:ae.next_due_date,onChange:S=>me({...ae,next_due_date:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-colors duration-200",value:ae.administered_by,onChange:S=>me({...ae,administered_by:S.target.value}),placeholder:"  ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>de(!1),children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:G,disabled:!ae.vaccine_name||!ae.date,children:" "})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:"  "})]}),r.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.batch_number,onChange:S=>L({...j,batch_number:S.target.value}),placeholder:"  ..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.count,min:1,onChange:S=>L({...j,count:parseInt(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.age_weeks,min:0,onChange:S=>L({...j,age_weeks:parseInt(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.breed,onChange:S=>L({...j,breed:S.target.value}),placeholder:"  ..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.purchase_date,onChange:S=>L({...j,purchase_date:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.purchase_price??0,min:0,step:"0.01",onChange:S=>L({...j,purchase_price:parseFloat(S.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",rows:3,value:j.notes,onChange:S=>L({...j,notes:S.target.value}),placeholder:"   ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>w(!1),children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ut,disabled:!j.batch_number||!j.count||!j.breed||!j.purchase_date||j.purchase_price===void 0,children:" "})]})]})}),h&&N&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsxs("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]}),r.jsxs("p",{className:"text-slate-100 mt-1",children:[" : ",N.batch_number]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.batch_number,onChange:S=>L({...j,batch_number:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.count,min:1,onChange:S=>L({...j,count:parseInt(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.age_weeks,min:0,onChange:S=>L({...j,age_weeks:parseInt(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.breed,onChange:S=>L({...j,breed:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.purchase_date,onChange:S=>L({...j,purchase_date:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:j.purchase_price??0,min:0,step:"0.01",onChange:S=>L({...j,purchase_price:parseFloat(S.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",rows:3,value:j.notes,onChange:S=>L({...j,notes:S.target.value})})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>m(!1),children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Qe,disabled:!j.batch_number||!j.count||!j.breed||!j.purchase_date||j.purchase_price===void 0,children:" "})]})]})}),f&&N&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Te,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>b(!1),className:"p-1 hover:bg-red-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:r.jsx(ye,{className:"h-8 w-8 text-red-600"})})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"    "}),r.jsxs("p",{className:"text-gray-600 text-center",children:[": ",r.jsx("span",{className:"font-semibold",children:N.batch_number}),r.jsx("br",{}),"        ."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-center space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200 font-medium",onClick:()=>b(!1),children:""}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 font-medium",onClick:M,children:"  "})]})]})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},Up=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState([]),[o,d]=p.useState(!0),[x,g]=p.useState(1),v=10,[E,_]=p.useState(!1),[P,w]=p.useState(!1),[h,m]=p.useState(!1),[f,b]=p.useState(null),[N,k]=p.useState({date:new Date().toISOString().split("T")[0],batch_number:"",total_eggs:0,damaged_eggs:0,good_eggs:0,collection_time:new Date().toTimeString().slice(0,5),notes:""}),[j,L]=p.useState("eggs"),[R,z]=p.useState(0),[D,K]=p.useState(30);p.useEffect(()=>{Y()},[]);const Y=async()=>{try{d(!0);const[u,$]=await Promise.all([Z.getEggProductions(),Z.getChickens()]);l(u),c($)}catch(u){console.error("   :",u)}finally{d(!1)}},F=()=>j==="trays"?R*D:N.total_eggs||0;p.useEffect(()=>{const u=F(),$=N.damaged_eggs||0,le=Math.max(0,u-$);k(re=>({...re,total_eggs:u,good_eggs:le}))},[j,R,D,N.damaged_eggs,N.total_eggs]);const J=async()=>{try{const u={...N,total_eggs:F(),good_eggs:F()-(N.damaged_eggs||0)};await Z.addEggProduction(u),_(!1),I(),Y()}catch(u){console.error("   :",u)}},de=async()=>{if(f)try{const u={...N,total_eggs:F(),good_eggs:F()-(N.damaged_eggs||0)};await Z.updateEggProduction(f.id,u),w(!1),b(null),I(),Y()}catch(u){console.error("   :",u)}},T=async()=>{if(f)try{await Z.deleteEggProduction(f.id),m(!1),b(null),Y()}catch(u){console.error("   :",u),alert(u.message||"  .    .")}},I=()=>{k({date:new Date().toISOString().split("T")[0],batch_number:"",total_eggs:0,damaged_eggs:0,good_eggs:0,collection_time:new Date().toTimeString().slice(0,5),notes:""}),L("eggs"),z(0),K(30)},O=u=>{b(u),k({date:u.date,batch_number:u.batch_number,total_eggs:u.total_eggs,damaged_eggs:u.damaged_eggs,good_eggs:u.good_eggs,collection_time:u.collection_time,notes:u.notes||""}),w(!0)},A=u=>{b(u),m(!0)},W=a.reduce((u,$)=>u+$.total_eggs,0),ce=a.reduce((u,$)=>u+$.good_eggs,0),Pe=a.reduce((u,$)=>u+$.damaged_eggs,0),Q=W>0?Pe/W*100:0,ve=i.reduce((u,$)=>u+($.current_stock||0),0),ae=i.reduce((u,$)=>{const le=(u==null?void 0:u.current_stock)||0,re=($==null?void 0:$.current_stock)||0;return!u||re>le?$:u},null),me=i.filter(u=>(u.current_stock||0)>0),De=p.useMemo(()=>[...a].sort((u,$)=>{const le=new Date(u.date).getTime(),re=new Date($.date).getTime();return le===re?($.id||"").localeCompare(u.id||""):re-le}),[a]),ut=Math.ceil(a.length/v),Qe=p.useMemo(()=>{const u=(x-1)*v,$=u+v;return De.slice(u,$)},[De,x,v]),M=new Date().toISOString().split("T")[0],G=a.find(u=>u.date===M),C=(G==null?void 0:G.total_eggs)||0,V=new Date;V.setDate(V.getDate()-7);const X=a.filter(u=>new Date(u.date)>=V).reduce((u,$)=>u+$.total_eggs,0);return e("eggs")?o?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"   ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(at,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"  "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]}),t("eggs")&&r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>_(!0),title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:C}),r.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-md",children:r.jsx(at,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:X}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-1 flex items-center",children:[r.jsx(xs,{className:"h-3 w-3 mr-1"})," 7 "]})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ce}),r.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[r.jsx(xs,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-md",children:r.jsx(at,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsxs("p",{className:`text-2xl font-semibold ${Q<5?"text-emerald-600":Q<10?"text-amber-600":"text-red-600"}`,children:[Q.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1 flex items-center",children:[r.jsx(ye,{className:"h-3 w-3 mr-1"}),Pe," "]})]}),r.jsx("div",{className:`p-3 rounded-md ${Q<5?"bg-emerald-100":Q<10?"bg-amber-100":"bg-red-100"}`,children:r.jsx(ye,{className:`h-6 w-6 ${Q<5?"text-emerald-600":Q<10?"text-amber-600":"text-red-600"}`})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:ve}),r.jsxs("p",{className:"text-xs text-purple-600 mt-1 flex items-center",children:[r.jsx(_e,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"  "}),r.jsx("p",{className:"text-xl font-semibold text-slate-800",children:(ae==null?void 0:ae.batch_number)||"  "}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(_e,{className:"h-3 w-3 mr-1"}),ae?`${ae.current_stock||0}  `:" "]})]}),r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-slate-600"})})]})})]}),me.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(_e,{className:"h-5 w-5 text-slate-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"  "})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[" ",me.length," "]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:me.map(u=>{var $;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-slate-300 hover:shadow transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:" "}),r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:u.batch_number})]}),r.jsx("div",{className:"bg-slate-100 rounded-full px-3 py-1 text-xs font-medium text-slate-600",children:u.breed})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:""}),r.jsx("p",{className:"text-2xl font-semibold text-emerald-600",children:($=u.current_stock)==null?void 0:$.toLocaleString("fr-FR")})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:" ()"}),r.jsx("p",{className:"text-sm font-medium text-gray-700",children:u.age_weeks??"-"})]})]})]},u.id)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(at,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"  "})]})}),a.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(at,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"     "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-3 rtl:space-x-reverse mx-auto transition-colors duration-200",onClick:()=>_(!0),children:[r.jsx(ze,{className:"h-4 w-4"}),r.jsx("span",{children:"  "})]})]}):r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Qe.map(u=>{const $=u.total_eggs>0?u.damaged_eggs/u.total_eggs*100:0;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-gray-100 p-2 rounded-md mr-3",children:r.jsx(Ir,{className:"h-4 w-4 text-gray-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(u.date).toLocaleDateString("fr-FR")})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:u.batch_number}),(()=>{const le=i.find(y=>y.batch_number===u.batch_number),re=(le==null?void 0:le.current_stock)||0;return re>0?r.jsxs("span",{className:"text-xs text-green-600 mr-2",title:" ",children:["(",re," )"]}):null})()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ii,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:u.collection_time})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.total_eggs})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:u.good_eggs})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.damaged_eggs>0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:u.damaged_eggs})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$>10?"bg-red-100 text-red-800":$>5?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:[$.toFixed(1),"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 max-w-xs truncate",children:u.notes||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("eggs")&&r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1.5 rounded-md hover:bg-blue-50 transition-colors duration-200",onClick:()=>O(u),title:" ",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("eggs")&&r.jsx("button",{className:"text-red-600 hover:text-red-800 p-1.5 rounded-md hover:bg-red-50 transition-colors duration-200",onClick:()=>A(u),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})}),!s("eggs")&&!n("eggs")&&r.jsx("span",{className:"text-gray-400 text-xs",children:"  "})]})})]},u.id)})})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:Qe.map(u=>{const $=u.total_eggs>0?u.damaged_eggs/u.total_eggs*100:0,le=i.find(y=>y.batch_number===u.batch_number),re=(le==null?void 0:le.current_stock)||0;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(at,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:new Date(u.date).toLocaleDateString("fr-FR")}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[u.batch_number," ",re>0&&`(${re} )`]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("eggs")&&r.jsx("button",{onClick:()=>O(u),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("eggs")&&r.jsx("button",{onClick:()=>A(u),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:u.total_eggs})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:u.good_eggs})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm font-semibold text-red-600",children:u.damaged_eggs})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsxs("span",{className:`text-xs font-semibold ${$<5?"text-emerald-600":$<10?"text-amber-600":"text-red-600"}`,children:[$.toFixed(1),"%"]})]})]})]},u.id)})}),a.length>v&&r.jsx(Or,{currentPage:x,totalPages:ut,onPageChange:g,itemsPerPage:v,totalItems:a.length})]}),E&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(at,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:"   "})]}),r.jsx("button",{onClick:()=>{_(!1),I()},className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:" "}),r.jsxs("div",{className:"flex space-x-4 rtl:space-x-reverse",children:[r.jsxs("label",{className:"flex items-center space-x-2 rtl:space-x-reverse cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputType",value:"eggs",checked:j==="eggs",onChange:u=>L(u.target.value),className:"text-slate-600 focus:ring-slate-500"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"  "})]}),r.jsxs("label",{className:"flex items-center space-x-2 rtl:space-x-reverse cursor-pointer",children:[r.jsx("input",{type:"radio",name:"inputType",value:"trays",checked:j==="trays",onChange:u=>L(u.target.value),className:"text-slate-600 focus:ring-slate-500"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"  (Plateaux)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.batch_number,onChange:u=>k({...N,batch_number:u.target.value}),required:!0,children:[r.jsx("option",{value:"",children:" "}),i.filter(u=>u.status==="alive").map(u=>r.jsxs("option",{value:u.batch_number,children:[u.batch_number," - ",u.breed]},u.id))]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.date,onChange:u=>k({...N,date:u.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"time",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.collection_time,onChange:u=>k({...N,collection_time:u.target.value})})]})]}),j==="eggs"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.total_eggs,onChange:u=>k({...N,total_eggs:parseInt(u.target.value)||0}),min:"0",placeholder:"   "})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:R,onChange:u=>z(parseInt(u.target.value)||0),min:"0",placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:D,onChange:u=>K(parseInt(u.target.value)),children:[r.jsx("option",{value:15,children:"15 "}),r.jsx("option",{value:20,children:"20 "}),r.jsx("option",{value:24,children:"24 "}),r.jsx("option",{value:30,children:"30 "}),r.jsx("option",{value:36,children:"36 "})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"  :"}),r.jsxs("span",{className:"text-xl font-semibold text-slate-800",children:[F()," "]})]}),j==="trays"&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[R,"   ",D,"  = ",F()," "]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.damaged_eggs,onChange:u=>k({...N,damaged_eggs:parseInt(u.target.value)||0}),min:"0",max:F(),placeholder:"  "}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",Math.max(0,F()-(N.damaged_eggs||0))," "]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",rows:3,value:N.notes,onChange:u=>k({...N,notes:u.target.value}),placeholder:"   ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200 font-medium",onClick:()=>{_(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium",onClick:J,disabled:F()===0||!N.batch_number,children:" "})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{w(!1),I()},className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.batch_number,onChange:u=>k({...N,batch_number:u.target.value}),required:!0,children:[r.jsx("option",{value:"",children:" "}),i.filter(u=>u.status==="alive").map(u=>r.jsxs("option",{value:u.batch_number,children:[u.batch_number," - ",u.breed]},u.id))]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.date,onChange:u=>k({...N,date:u.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"time",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.collection_time,onChange:u=>k({...N,collection_time:u.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.total_eggs,onChange:u=>k({...N,total_eggs:parseInt(u.target.value)||0}),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:N.damaged_eggs,onChange:u=>k({...N,damaged_eggs:parseInt(u.target.value)||0}),min:"0",max:N.total_eggs})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",rows:3,value:N.notes,onChange:u=>k({...N,notes:u.target.value})})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>{w(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200",onClick:de,children:" "})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(ye,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-red-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:r.jsx(ye,{className:"h-8 w-8 text-red-600"})})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"    "}),r.jsxs("p",{className:"text-gray-600 text-center",children:[" : ",r.jsx("span",{className:"font-semibold",children:f&&new Date(f.date).toLocaleDateString("fr-FR")}),r.jsx("br",{}),"        ."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-center space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200 font-medium",onClick:()=>m(!1),children:""}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 font-medium",onClick:T,children:"  "})]})]})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"     "})]})})},Fp=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState(!0),[o,d]=p.useState(1),x=10,[g,v]=p.useState(!1),[E,_]=p.useState(!1),[P,w]=p.useState(!1),[h,m]=p.useState(null),[f,b]=p.useState({type:"",capacity:30,available_quantity:0,purchase_price:0,supplier:"",purchase_date:new Date().toISOString().split("T")[0]}),[N,k]=p.useState(!1),[j,L]=p.useState(null),[R,z]=p.useState(null),[D,K]=p.useState({quantity:1,date:new Date().toISOString().split("T")[0],notes:""}),Y=[{value:"15",label:" 15",capacity:30},{value:"15.5",label:" 15.5",capacity:30},{value:"16",label:" 16",capacity:30},{value:"17",label:" 17",capacity:30},{value:"",label:" ",capacity:30},{value:"",label:" ",capacity:30},{value:"custom",label:" ",capacity:30}];p.useEffect(()=>{F()},[]),p.useEffect(()=>{b(M=>({...M,capacity:30}))},[f.type]);const F=async()=>{try{c(!0);const M=await Z.getCartons();l(M)}catch(M){console.error("   :",M)}finally{c(!1)}},J=async()=>{try{await Z.addCarton(f),v(!1),I(),F()}catch(M){console.error("   :",M)}},de=async()=>{if(h)try{await Z.updateCarton(h.id,f),_(!1),m(null),I(),F()}catch(M){console.error("   :",M)}},T=async()=>{if(h)try{await Z.deleteCarton(h.id),w(!1),m(null),F()}catch(M){console.error("   :",M)}},I=()=>{b({type:"",capacity:30,available_quantity:0,purchase_price:0,supplier:"",purchase_date:new Date().toISOString().split("T")[0]})},O=M=>{m(M),b({type:M.type,capacity:30,available_quantity:M.available_quantity,purchase_price:M.purchase_price,supplier:M.supplier,purchase_date:M.purchase_date}),_(!0)},A=M=>{m(M),w(!0)},W=M=>{const G=Y.find(C=>C.value===M);return G?G.label:` ${M}`},ce=M=>M===0?{status:"",color:"bg-red-100 text-red-800"}:M<=10?{status:"",color:"bg-amber-100 text-amber-800"}:M<=50?{status:"",color:"bg-yellow-100 text-yellow-800"}:{status:"",color:"bg-emerald-100 text-emerald-800"},Pe=a.reduce((M,G)=>M+G.available_quantity,0),Q=a.reduce((M,G)=>M+G.available_quantity*G.purchase_price,0),ve=a.filter(M=>M.available_quantity<=10).length,ae=a.filter(M=>M.available_quantity===0).length,me=p.useMemo(()=>[...a].sort((M,G)=>{const C=M.purchase_date?new Date(M.purchase_date).getTime():0,V=G.purchase_date?new Date(G.purchase_date).getTime():0;return C===V?(G.id||"").localeCompare(M.id||""):V-C}),[a]),De=Math.ceil(a.length/x),ut=p.useMemo(()=>{const M=(o-1)*x,G=M+x;return me.slice(M,G)},[me,o,x]),Qe=a.reduce((M,G)=>(M[G.type]=(M[G.type]||0)+G.available_quantity,M),{});return e("cartons")?i?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"  ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>v(!0),title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:Pe.toLocaleString()}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(_e,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-slate-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:Q.toLocaleString()}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-1 flex items-center",children:[r.jsx(xs,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(xs,{className:"h-6 w-6 text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ve}),r.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center",children:[r.jsx(ye,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-md",children:r.jsx(ye,{className:"h-6 w-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"  "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ae}),r.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[r.jsx(xl,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-md",children:r.jsx(xl,{className:"h-6 w-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(_e,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:" "})]})}),a.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(_e,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"     "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-3 rtl:space-x-reverse mx-auto transition-colors duration-200",onClick:()=>v(!0),children:[r.jsx(ze,{className:"h-4 w-4"}),r.jsx("span",{children:"  "})]})]}):r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ut.map((M,G)=>{const C=ce(M.available_quantity);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-slate-100 p-2 rounded-md mr-3",children:r.jsx(_e,{className:"h-4 w-4 text-slate-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:W(M.type)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm text-gray-900",children:[M.capacity," "]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:M.available_quantity})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.color}`,children:C.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:ee(M.purchase_price)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:M.supplier||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:M.purchase_date?new Date(M.purchase_date).toLocaleDateString("fr-FR"):"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("cartons")&&r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1.5 rounded-md hover:bg-blue-50 transition-colors duration-200",onClick:()=>O(M),title:" ",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("cartons")&&r.jsx("button",{className:"text-red-600 hover:text-red-800 p-1.5 rounded-md hover:bg-red-50 transition-colors duration-200",onClick:()=>A(M),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})}),!s("cartons")&&!n("cartons")&&r.jsx("span",{className:"text-gray-400 text-xs",children:"  "})]})})]},M.id)})})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:ut.map(M=>{const G=M.available_quantity<10?"low":M.available_quantity<50?"medium":"high";return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(_e,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:M.type}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[": ",M.capacity]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("cartons")&&r.jsx("button",{onClick:()=>O(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("cartons")&&r.jsx("button",{onClick:()=>A(M),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:`text-sm font-semibold ${G==="low"?"text-red-600":G==="medium"?"text-amber-600":"text-green-600"}`,children:M.available_quantity})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm text-gray-900",children:ee(M.purchase_price)})]}),M.supplier&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-sm text-gray-900",children:M.supplier})]}),M.purchase_date&&r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm text-gray-900",children:new Date(M.purchase_date).toLocaleDateString("fr-FR")})]})]})]},M.id)})}),a.length>x&&r.jsx(Or,{currentPage:o,totalPages:De,onPageChange:d,itemsPerPage:x,totalItems:a.length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"bg-slate-600 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"   "}),r.jsx("p",{className:"text-slate-200 mt-1",children:"     "})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(Qe).map(([M,G])=>r.jsxs("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-2 rounded-md",children:r.jsx(_e,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"font-medium text-gray-900",children:W(M)})]}),r.jsx("span",{className:"text-lg font-semibold text-slate-800",children:G})]}),r.jsx("div",{className:"mt-3 text-right",children:r.jsx("button",{className:"px-3 py-1.5 text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-md transition-colors duration-200",onClick:()=>{z(M),L(null),K({quantity:1,date:new Date().toISOString().split("T")[0],notes:""}),k(!0)},title:"   ",children:""})})]},M))})})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(_e,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:"  "})]}),r.jsx("button",{onClick:()=>{v(!1),I()},className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.type,onChange:M=>b({...f,type:M.target.value}),children:[r.jsx("option",{value:"",children:"  "}),Y.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ( )"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.capacity,min:"30",readOnly:!0,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.available_quantity,min:"0",onChange:M=>b({...f,available_quantity:parseInt(M.target.value)||0}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.purchase_price,min:"0",step:"0.01",onChange:M=>b({...f,purchase_price:parseFloat(M.target.value)||0}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.supplier,onChange:M=>b({...f,supplier:M.target.value}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.purchase_date,onChange:M=>b({...f,purchase_date:M.target.value})})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>{v(!1),I()},children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:J,disabled:!f.type||!f.capacity||f.available_quantity===void 0,children:" "})]})]})}),E&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{_(!1),I()},className:"p-1 hover:bg-slate-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.type,onChange:M=>b({...f,type:M.target.value}),children:[r.jsx("option",{value:"",children:"  "}),Y.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ( )"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.capacity,min:"30",readOnly:!0,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.available_quantity,min:"0",onChange:M=>b({...f,available_quantity:parseInt(M.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( )"}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.purchase_price,min:"0",step:"0.01",onChange:M=>b({...f,purchase_price:parseFloat(M.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.supplier,onChange:M=>b({...f,supplier:M.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors duration-200",value:f.purchase_date,onChange:M=>b({...f,purchase_date:M.target.value})})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>{_(!1),I()},children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-slate-600 text-white rounded-md hover:bg-slate-700 transition-colors duration-200",onClick:de,children:" "})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(ye,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-red-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:r.jsx(ye,{className:"h-8 w-8 text-red-600"})})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"    "}),r.jsxs("p",{className:"text-gray-600 text-center",children:[": ",r.jsx("span",{className:"font-semibold",children:h&&W(h.type)}),r.jsx("br",{}),"        ."]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-center space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200 font-medium",onClick:()=>w(!1),children:""}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 font-medium",onClick:T,children:"  "})]})]})}),N&&(j||R)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-amber-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(xl,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:j?`   - ${W(j.type)}`:`   - ${W(R)}`})]}),r.jsx("button",{onClick:()=>k(!1),className:"p-1 hover:bg-amber-500 rounded-md transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",value:D.quantity,min:1,max:j?j.available_quantity:Qe[R]||0,onChange:M=>K({...D,quantity:Math.max(1,parseInt(M.target.value)||1)})}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[": ",j?j.available_quantity:Qe[R]||0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",value:D.date,onChange:M=>K({...D,date:M.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),r.jsx("textarea",{className:"w-full p-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors duration-200",rows:3,value:D.notes,onChange:M=>K({...D,notes:M.target.value}),placeholder:"    ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors duration-200",onClick:()=>k(!1),children:""}),r.jsx("button",{className:"px-3 py-1.5 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:async()=>{const M=Math.max(1,D.quantity);try{let G=0,C="";if(j){if(M>j.available_quantity)return;await Z.updateCarton(j.id,{available_quantity:j.available_quantity-M}),await Z.addCartonMovement({carton_id:j.id,movement_type:"out",quantity:M,date:D.date,reference:`   ${W(j.type)}`,notes:D.notes||""}),G=j.purchase_price*M,C=W(j.type)}else if(R){const V=a.filter(u=>u.type===R&&u.available_quantity>0);let X=M;for(const u of V){if(X<=0)break;const $=Math.min(X,u.available_quantity);await Z.updateCarton(u.id,{available_quantity:u.available_quantity-$}),await Z.addCartonMovement({carton_id:u.id,movement_type:"out",quantity:$,date:D.date,reference:`   ${W(u.type)}`,notes:D.notes||""}),G+=u.purchase_price*$,X-=$}C=W(R)}G>0&&await Z.addExpense({date:D.date,category:"supplies",description:` ${M}   ${C}`,amount:G,supplier:(j==null?void 0:j.supplier)||"",notes:`     - ${D.notes||""}`}),k(!1),L(null),z(null),await F()}catch(G){console.error("   :",G),alert("    .    .")}},disabled:D.quantity<1||(j?D.quantity>((j==null?void 0:j.available_quantity)||0):D.quantity>(Qe[R]||0)),children:" "})]})]})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},Ap=()=>{var le,re;const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState([]),[o,d]=p.useState([]),[x,g]=p.useState(!0),[v,E]=p.useState(1),_=10,[P,w]=p.useState(!1),[h,m]=p.useState(!1),[f,b]=p.useState(!1),[N,k]=p.useState(!1),[j,L]=p.useState(null),[R,z]=p.useState({sale_date:new Date().toISOString().split("T")[0],client_name:"",client_phone:"",items:[],total_amount:0,payment_status:"pending",payment_method:"cash",invoice_number:"",notes:""}),[D,K]=p.useState({product_type:"eggs",batch_number:"",quantity:0,unit_price:0,total_price:0,description:""}),Y=[{value:"eggs",label:"",unit:""},{value:"chicken",label:"",unit:""},{value:"carton",label:"",unit:""}];p.useEffect(()=>{F()},[]),p.useEffect(()=>{D.quantity&&D.unit_price&&K(y=>({...y,total_price:(y.quantity||0)*(y.unit_price||0)}))},[D.quantity,D.unit_price]),p.useEffect(()=>{var H;const y=((H=R.items)==null?void 0:H.reduce((ie,Je)=>ie+Je.total_price,0))||0;z(ie=>({...ie,total_amount:y}))},[R.items]),p.useEffect(()=>{if(P&&!R.invoice_number){const y=`INV-${Date.now()}`;z(H=>({...H,invoice_number:y}))}},[P]);const F=async()=>{try{g(!0);const[y,H,ie]=await Promise.all([Z.getSales(),Z.getClients(),Z.getChickens()]);l(y),c(H),d(ie)}catch(y){console.error("   :",y)}finally{g(!1)}},J=async()=>{try{await Z.addSale(R),w(!1),I(),F()}catch(y){console.error("   :",y)}},de=async()=>{if(j)try{await Z.updateSale(j.id,R),m(!1),L(null),I(),F()}catch(y){console.error("   :",y)}},T=async()=>{if(j)try{await Z.deleteSale(j.id),b(!1),L(null),F()}catch(y){console.error("   :",y)}},I=()=>{z({sale_date:new Date().toISOString().split("T")[0],client_name:"",client_phone:"",items:[],total_amount:0,payment_status:"pending",payment_method:"cash",invoice_number:"",notes:""}),K({product_type:"eggs",quantity:0,unit_price:0,total_price:0,description:""})},O=()=>{if(!D.quantity||!D.unit_price)return;const y={id:crypto.randomUUID(),product_type:D.product_type,batch_number:D.product_type==="eggs"&&D.batch_number||void 0,quantity:D.quantity,unit_price:D.unit_price,total_price:D.total_price||0,description:D.description||""};z(H=>({...H,items:[...H.items||[],y]})),K({product_type:"eggs",batch_number:"",quantity:0,unit_price:0,total_price:0,description:""})},A=y=>{z(H=>{var ie;return{...H,items:((ie=H.items)==null?void 0:ie.filter(Je=>Je.id!==y))||[]}})},W=(y,H)=>{z(ie=>{const Je=[...ie.items||[]],He=Je[y],mt={...He,...H},zr=H.quantity!==void 0?H.quantity:He.quantity,$r=H.unit_price!==void 0?H.unit_price:He.unit_price;return mt.total_price=(zr||0)*($r||0),Je[y]=mt,{...ie,items:Je}})},ce=y=>{z(H=>{const ie=[...H.items||[]];return ie.splice(y,1),{...H,items:ie}})},Pe=()=>{if(!D.quantity||!D.unit_price||!D.product_type)return;const y={id:crypto.randomUUID(),product_type:D.product_type,batch_number:D.product_type==="eggs"?D.batch_number:void 0,quantity:D.quantity,unit_price:D.unit_price,total_price:(D.quantity||0)*(D.unit_price||0),description:D.description||""};z(H=>({...H,items:[...H.items||[],y]})),K({product_type:"eggs",quantity:0,unit_price:0,total_price:0,description:""})},Q=y=>{z(H=>({...H,client_id:y.id,client_name:y.name,client_phone:y.phone}))},ve=y=>{L(y),z({sale_date:y.sale_date,client_id:y.client_id,client_name:y.client_name,client_phone:y.client_phone,items:y.items,total_amount:y.total_amount,payment_status:y.payment_status,payment_method:y.payment_method,invoice_number:y.invoice_number,notes:y.notes||""}),m(!0)},ae=y=>{L(y),b(!0)},me=y=>{L(y),k(!0)},De=y=>{var H;return((H=Y.find(ie=>ie.value===y))==null?void 0:H.label)||y},ut=y=>{var H;return((H=Y.find(ie=>ie.value===y))==null?void 0:H.unit)||""},Qe=a.reduce((y,H)=>y+H.total_amount,0),M=a.filter(y=>{const H=new Date(y.sale_date),ie=new Date;return H.getMonth()===ie.getMonth()&&H.getFullYear()===ie.getFullYear()}).reduce((y,H)=>y+H.total_amount,0),G=new Date().toISOString().split("T")[0],C=a.filter(y=>(typeof y.sale_date=="string"?y.sale_date.split("T")[0]:new Date(y.sale_date).toISOString().split("T")[0])===G).reduce((y,H)=>y+H.total_amount,0),V=a.filter(y=>y.payment_status==="pending"||y.payment_status==="partial").reduce((y,H)=>y+H.total_amount,0),X=p.useMemo(()=>[...a].sort((y,H)=>{const ie=new Date(y.sale_date).getTime(),Je=new Date(H.sale_date).getTime();return ie===Je?(H.id||"").localeCompare(y.id||""):Je-ie}),[a]),u=Math.ceil(a.length/_),$=p.useMemo(()=>{const y=(v-1)*_,H=y+_;return X.slice(y,H)},[X,v,_]);return e("sales")?x?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"  ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(Yt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]}),r.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3 rtl:space-x-reverse",children:t("sales")&&r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>w(!0),title:" ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:" "})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(C)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(mr,{className:"h-3 w-3 mr-1"}),""]})]}),r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(mr,{className:"h-6 w-6 text-slate-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(M)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(xs,{className:"h-6 w-6 text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(Qe)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(Yt,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-md",children:r.jsx(Yt,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(V)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(vp,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-md",children:r.jsx(va,{className:"h-6 w-6 text-amber-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Yt,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:" "})]})}),a.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Yt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"    "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse mx-auto transition-colors duration-200 text-sm sm:text-base",onClick:()=>w(!0),title:" ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:" "})]})]}):r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((y,H)=>r.jsxs("tr",{className:H%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.invoice_number})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:r.jsx(Ir,{className:"h-4 w-4 text-blue-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(y.sale_date).toLocaleDateString("fr-FR")})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.client_name}),y.client_phone&&r.jsx("div",{className:"text-sm text-gray-500",children:y.client_phone})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-lg font-bold text-gray-900",children:ee(y.total_amount)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${y.payment_status==="paid"?"bg-green-100 text-green-800":y.payment_status==="partial"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:y.payment_status==="paid"?"":y.payment_status==="partial"?"":""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:y.payment_method==="cash"?"":y.payment_method==="transfer"?"":""})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors duration-200",onClick:()=>me(y),title:" ",children:r.jsx(as,{className:"h-4 w-4"})}),s("sales")&&r.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-200",onClick:()=>ve(y),title:" ",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("sales")&&r.jsx("button",{className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors duration-200",onClick:()=>ae(y),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})}),!s("sales")&&!n("sales")&&r.jsx("span",{className:"text-gray-400 text-xs",children:"  "})]})})]},y.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:$.map(y=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(Yt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:y.invoice_number}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:y.client_name})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",onClick:()=>me(y),title:" ",children:r.jsx(as,{className:"h-4 w-4"})}),s("sales")&&r.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:()=>ve(y),title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("sales")&&r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>ae(y),title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-sm text-gray-900",children:new Date(y.sale_date).toLocaleDateString("fr-FR")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee(y.total_amount)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${y.payment_status==="paid"?"bg-green-100 text-green-800":y.payment_status==="partial"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:y.payment_status==="paid"?"":y.payment_status==="partial"?"":""})]})]})]},y.id))}),a.length>_&&r.jsx(Or,{currentPage:v,totalPages:u,onPageChange:E,itemsPerPage:_,totalItems:a.length})]}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Yt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{w(!1),I()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.sale_date,onChange:y=>z({...R,sale_date:y.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.invoice_number,onChange:y=>z({...R,invoice_number:y.target.value}),placeholder:" "})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",onChange:y=>{const H=i.find(ie=>ie.id===y.target.value);H&&Q(H)},value:R.client_id||"",children:[r.jsx("option",{value:"",children:" "}),i.map(y=>r.jsxs("option",{value:y.id,children:[y.name," - ",y.phone]},y.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.client_name,onChange:y=>z({...R,client_name:y.target.value}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.client_phone,onChange:y=>z({...R,client_phone:y.target.value}),placeholder:" "})]})]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:D.product_type,onChange:y=>K({...D,product_type:y.target.value,batch_number:y.target.value==="eggs"?D.batch_number:""}),children:Y.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))})]}),D.product_type==="eggs"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:D.batch_number||"",onChange:y=>K({...D,batch_number:y.target.value}),required:!0,children:[r.jsx("option",{value:"",children:" "}),o.filter(y=>y.status==="alive"&&(y.current_stock||0)>0).map(y=>r.jsxs("option",{value:y.batch_number,children:[y.batch_number," - ",y.breed," (: ",y.current_stock||0,")"]},y.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"number",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:D.quantity,min:"0",max:D.product_type==="eggs"&&D.batch_number?(()=>{const y=o.find(H=>H.batch_number===D.batch_number);return(y==null?void 0:y.current_stock)||0})():void 0,onChange:y=>K({...D,quantity:parseInt(y.target.value)||0}),placeholder:""}),D.product_type==="eggs"&&D.batch_number&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[": ",(()=>{const y=o.find(H=>H.batch_number===D.batch_number);return(y==null?void 0:y.current_stock)||0})()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"number",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:D.unit_price,min:"0",step:"0.01",onChange:y=>K({...D,unit_price:parseFloat(y.target.value)||0}),placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"number",className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-50",value:D.total_price,readOnly:!0,placeholder:""})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",className:"w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:O,disabled:!D.quantity||!D.unit_price||D.product_type==="eggs"&&!D.batch_number,children:""})})]})]}),R.items&&R.items.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:" "}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:" "}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:""}),r.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:""})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:R.items.map(y=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:De(y.product_type)}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[y.quantity," ",ut(y.product_type)]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ee(y.unit_price)}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ee(y.total_price)}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-red-600 hover:text-red-800 p-1 rounded",onClick:()=>A(y.id),children:r.jsx(Te,{className:"h-4 w-4"})})})]},y.id))})]})}),r.jsx("div",{className:"mt-4 text-right",children:r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[": ",R.total_amount!==void 0?ee(R.total_amount):ee(0)]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.payment_status,onChange:y=>z({...R,payment_status:y.target.value}),children:[r.jsx("option",{value:"pending",children:""}),r.jsx("option",{value:"partial",children:""}),r.jsx("option",{value:"paid",children:""})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.payment_method,onChange:y=>z({...R,payment_method:y.target.value}),children:[r.jsx("option",{value:"cash",children:""}),r.jsx("option",{value:"transfer",children:""}),r.jsx("option",{value:"check",children:""})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",rows:3,value:R.notes,onChange:y=>z({...R,notes:y.target.value}),placeholder:"  ..."})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>{w(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:J,disabled:!R.client_name||!((le=R.items)!=null&&le.length),children:" "})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{m(!1),I()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.sale_date,onChange:y=>z({...R,sale_date:y.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.invoice_number,onChange:y=>z({...R,invoice_number:y.target.value}),placeholder:" "})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:" "}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.client_name,onChange:y=>z({...R,client_name:y.target.value}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.client_phone,onChange:y=>z({...R,client_phone:y.target.value}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:R.notes,onChange:y=>z({...R,notes:y.target.value}),placeholder:""})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 rounded-t-lg",children:r.jsx("h4",{className:"font-medium text-gray-900",children:""})}),r.jsx("div",{className:"p-4",children:(R.items||[]).length===0?r.jsx("p",{className:"text-gray-500 text-sm",children:"  .    ."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-right text-sm text-gray-600",children:""}),r.jsx("th",{className:"px-3 py-2 text-right text-sm text-gray-600",children:""}),r.jsx("th",{className:"px-3 py-2 text-right text-sm text-gray-600",children:" "}),r.jsx("th",{className:"px-3 py-2 text-right text-sm text-gray-600",children:""}),r.jsx("th",{className:"px-3 py-2"})]})}),r.jsx("tbody",{className:"divide-y",children:(re=R.items)==null?void 0:re.map((y,H)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:De(y.product_type)}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"number",className:"w-24 p-2 border rounded",value:y.quantity,min:0,onChange:ie=>W(H,{quantity:parseInt(ie.target.value)||0})})}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("input",{type:"number",className:"w-28 p-2 border rounded",value:y.unit_price,min:0,step:"0.01",onChange:ie=>W(H,{unit_price:parseFloat(ie.target.value)||0})})}),r.jsx("td",{className:"px-3 py-2 text-sm font-medium text-gray-900",children:ee(y.total_price)}),r.jsx("td",{className:"px-3 py-2 text-right",children:r.jsx("button",{className:"text-red-600 hover:text-red-800 text-sm",onClick:()=>ce(H),children:""})})]},y.id))})]})}),r.jsx("div",{className:"px-4 pb-4",children:r.jsx("div",{className:"bg-blue-50 p-3 rounded",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),r.jsx("select",{className:"w-full p-2 border rounded",value:D.product_type,onChange:y=>K({...D,product_type:y.target.value}),children:Y.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),r.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:D.quantity,min:0,onChange:y=>K({...D,quantity:parseInt(y.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:" "}),r.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:D.unit_price,min:0,step:"0.01",onChange:y=>K({...D,unit_price:parseFloat(y.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:""}),r.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-gray-50",value:(D.quantity||0)*(D.unit_price||0),readOnly:!0})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-2 rounded",onClick:Pe,disabled:!D.quantity||!D.unit_price,children:" "})})]})})})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[": ",R.total_amount!==void 0?ee(R.total_amount):ee(0)]})})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>{m(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200",onClick:de,disabled:!R.client_name||!(R.items&&R.items.length),children:" "})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Te,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-center text-gray-600 p-4",children:"       "})}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>b(!1),children:""}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",onClick:T,children:""})]})]})}),N&&j&&(()=>{const y=i.find(He=>He.id===j.client_id),H=(y==null?void 0:y.tax_id)||"",ie=(y==null?void 0:y.address)||"",Je=new Date(j.sale_date).toLocaleDateString("fr-FR");return r.jsx("div",{id:"invoice-container",className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl shadow-lg max-h-[90vh] overflow-y-auto invoice-content",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg print:hidden",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(as,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{const He=document.getElementById("invoice-container");if(!He)return;const mt=He.querySelector(".bg-white.rounded-lg");if(!mt)return;const zr=mt.cloneNode(!0);zr.querySelectorAll('button, .print\\:hidden, [class*="print:hidden"]').forEach(te=>te.remove());const $r=zr.innerHTML,S=window.open("","_blank");if(!S){alert("    ");return}S.document.write(`
                            <!DOCTYPE html>
                            <html dir="rtl" lang="ar">
                              <head>
                                <meta charset="UTF-8">
                                <title></title>
                                <style>
                                  @page {
                                    size: A4;
                                    margin: 0.5cm;
                                  }
                                  * {
                                    margin: 0;
                                    padding: 0;
                                    box-sizing: border-box;
                                  }
                                  body {
                                    font-family: Arial, 'Segoe UI', Tahoma, sans-serif;
                                    background: white;
                                    padding: 20px;
                                    color: #111827;
                                    line-height: 1.5;
                                  }
                                  .border-2 {
                                    border-width: 2px;
                                  }
                                  .border-gray-800 {
                                    border-color: #1f2937;
                                  }
                                  .border-gray-400 {
                                    border-color: #9ca3af;
                                  }
                                  .border-gray-900 {
                                    border-color: #111827;
                                  }
                                  .border {
                                    border-style: solid;
                                    border-width: 1px;
                                  }
                                  .rounded-lg {
                                    border-radius: 0.5rem;
                                  }
                                  .p-6 {
                                    padding: 1.5rem;
                                  }
                                  .p-8 {
                                    padding: 2rem;
                                  }
                                  .mb-6 {
                                    margin-bottom: 1.5rem;
                                  }
                                  .mb-4 {
                                    margin-bottom: 1rem;
                                  }
                                  .mb-3 {
                                    margin-bottom: 0.75rem;
                                  }
                                  .mb-2 {
                                    margin-bottom: 0.5rem;
                                  }
                                  .mb-1 {
                                    margin-bottom: 0.25rem;
                                  }
                                  .mt-6 {
                                    margin-top: 1.5rem;
                                  }
                                  .mt-4 {
                                    margin-top: 1rem;
                                  }
                                  .mt-1 {
                                    margin-top: 0.25rem;
                                  }
                                  .pt-4 {
                                    padding-top: 1rem;
                                  }
                                  .text-center {
                                    text-align: center;
                                  }
                                  .text-right {
                                    text-align: right;
                                  }
                                  .text-3xl {
                                    font-size: 1.875rem;
                                    line-height: 2.25rem;
                                  }
                                  .text-lg {
                                    font-size: 1.125rem;
                                    line-height: 1.75rem;
                                  }
                                  .text-sm {
                                    font-size: 0.875rem;
                                    line-height: 1.25rem;
                                  }
                                  .font-bold {
                                    font-weight: 700;
                                  }
                                  .font-semibold {
                                    font-weight: 600;
                                  }
                                  .text-gray-900 {
                                    color: #111827;
                                  }
                                  .bg-gray-100 {
                                    background-color: #f3f4f6;
                                  }
                                  .grid {
                                    display: grid;
                                  }
                                  .grid-cols-2 {
                                    grid-template-columns: repeat(2, minmax(0, 1fr));
                                  }
                                  .grid-cols-3 {
                                    grid-template-columns: repeat(3, minmax(0, 1fr));
                                  }
                                  .gap-8 {
                                    gap: 2rem;
                                  }
                                  .gap-4 {
                                    gap: 1rem;
                                  }
                                  .flex {
                                    display: flex;
                                  }
                                  .justify-start {
                                    justify-content: flex-start;
                                  }
                                  .items-center {
                                    align-items: center;
                                  }
                                  .w-full {
                                    width: 100%;
                                  }
                                  .border-collapse {
                                    border-collapse: collapse;
                                  }
                                  table {
                                    width: 100%;
                                    border-collapse: collapse;
                                  }
                                  th, td {
                                    padding: 0.5rem;
                                    text-align: center;
                                    border: 1px solid #9ca3af;
                                  }
                                  th {
                                    background-color: #f3f4f6;
                                    font-weight: 600;
                                    border-color: #1f2937;
                                  }
                                  .min-h-\\[20px\\] {
                                    min-height: 20px;
                                  }
                                  .min-h-\\[30px\\] {
                                    min-height: 30px;
                                  }
                                  .min-h-\\[50px\\] {
                                    min-height: 50px;
                                  }
                                  .min-w-\\[150px\\] {
                                    min-width: 150px;
                                  }
                                  .min-w-\\[200px\\] {
                                    min-width: 200px;
                                  }
                                  .border-b {
                                    border-bottom-width: 1px;
                                  }
                                  .border-b-2 {
                                    border-bottom-width: 2px;
                                  }
                                  .border-t {
                                    border-top-width: 1px;
                                  }
                                  .inline-block {
                                    display: inline-block;
                                  }
                                  .ml-2 {
                                    margin-left: 0.5rem;
                                  }
                                  .mr-2 {
                                    margin-right: 0.5rem;
                                  }
                                  .pl-2 {
                                    padding-left: 0.5rem;
                                  }
                                  .pr-2 {
                                    padding-right: 0.5rem;
                                  }
                                </style>
                              </head>
                              <body>
                                ${$r}
                              </body>
                            </html>
                          `),S.document.close(),setTimeout(()=>{S.print(),setTimeout(()=>{S.close()},500)},250)},className:"px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors duration-200",children:""}),r.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})]})}),r.jsx("div",{className:"p-8 print:p-6",children:r.jsxs("div",{className:"border-2 border-gray-800 rounded-lg p-6 print:border-black",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:""}),r.jsxs("div",{className:"flex justify-start items-center mt-4",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:" :"}),r.jsx("span",{className:"ml-2 text-lg text-gray-900 border-b-2 border-gray-900 min-w-[200px] inline-block text-right pr-2",children:j.invoice_number})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:" ():"}),r.jsx("div",{className:"mt-1 border-b border-gray-400 min-h-[20px]",children:r.jsx("span",{className:"text-gray-900",children:j.client_name})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:":"}),r.jsx("div",{className:"mt-1 border-b border-gray-400 min-h-[20px]",children:r.jsx("span",{className:"text-gray-900",children:ie})})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:" :"}),r.jsx("div",{className:"mt-1 border-b border-gray-400 min-h-[20px]",children:r.jsx("span",{className:"text-gray-900",children:H})})]})})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-800",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"border border-gray-800 p-2 text-center text-sm font-semibold text-gray-900",children:""}),r.jsx("th",{className:"border border-gray-800 p-2 text-center text-sm font-semibold text-gray-900",children:" "}),r.jsx("th",{className:"border border-gray-800 p-2 text-center text-sm font-semibold text-gray-900",children:" "}),r.jsx("th",{className:"border border-gray-800 p-2 text-center text-sm font-semibold text-gray-900",children:" "})]})}),r.jsxs("tbody",{children:[j.items.map((He,mt)=>r.jsxs("tr",{className:"border-b border-gray-400",children:[r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-900",children:He.quantity}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-900",children:De(He.product_type)}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-900",children:ee(He.total_price)}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-900",children:ee(He.unit_price)})]},mt)),Array.from({length:Math.max(0,10-j.items.length)}).map((He,mt)=>r.jsxs("tr",{className:"border-b border-gray-400",children:[r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-400 min-h-[30px]",children:""}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-400",children:""}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-400",children:""}),r.jsx("td",{className:"border border-gray-400 p-2 text-center text-gray-400",children:""})]},`empty-${mt}`))]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2 text-right",children:" "}),r.jsx("div",{className:"border-b border-gray-400 min-h-[50px]"})]}),r.jsxs("div",{className:"border-2 border-gray-800 p-3 text-center",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:" "}),r.jsx("div",{className:"text-lg font-bold text-gray-900 border-b border-gray-400 min-h-[30px] pt-1",children:ee(j.total_amount)})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:""}),r.jsx("div",{className:"border-b border-gray-400 min-h-[20px]",children:r.jsx("span",{className:"text-gray-900",children:Je})})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-400",children:r.jsxs("div",{className:"text-sm text-gray-900 text-right",children:[r.jsx("span",{className:"font-semibold",children:"     :"}),r.jsx("span",{className:"mr-2 border-b-2 border-gray-900 min-w-[150px] inline-block text-right pr-2",children:ee(j.total_amount)})]})})]})}),r.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end print:hidden",children:r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200",onClick:()=>k(!1),children:""})})]})})})()]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},Hp=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState(!0),[o,d]=p.useState(!1),[x,g]=p.useState(!1),[v,E]=p.useState(!1),[_,P]=p.useState(null),[w,h]=p.useState({date:new Date().toISOString().split("T")[0],category:"feed",amount:0,description:"",beneficiary:"",payment_status:"paid"}),[m,f]=p.useState("date"),[b,N]=p.useState("desc"),[k,j]=p.useState("all"),[L,R]=p.useState("all"),[z,D]=p.useState(1),K=10;p.useEffect(()=>{Y()},[]);const Y=async()=>{try{c(!0);const u=await Z.getExpenses();l(u)}catch(u){console.error("   :",u)}finally{c(!1)}},F=async()=>{try{await Z.addExpense(w),d(!1),T(),Y()}catch(u){console.error("   :",u),alert("  .    .")}},J=async()=>{if(_)try{await Z.updateExpense(_.id,w),g(!1),P(null),T(),Y()}catch(u){console.error("   :",u),alert("  .    .")}},de=async()=>{if(!_)return;const u=_.id||_._id;if(!u){alert(":    ");return}try{await Z.deleteExpense(u),E(!1),P(null),Y()}catch($){console.error("   :",$),alert("  .    .")}},T=()=>{h({date:new Date().toISOString().split("T")[0],category:"feed",amount:0,description:"",beneficiary:"",payment_status:"paid"})},I=u=>{P(u),h({date:u.date,category:u.category,amount:u.amount,description:u.description||"",beneficiary:u.beneficiary||"",payment_status:u.payment_status||"unpaid"}),g(!0)},O=u=>{P(u),E(!0)},A=p.useMemo(()=>{let u=[...a];return k!=="all"&&(u=u.filter($=>$.category===k)),L!=="all"&&(u=u.filter($=>($.payment_status||"paid")===L)),u.sort(($,le)=>{const re=$[m],y=le[m];return m==="date"?b==="asc"?new Date(re).getTime()-new Date(y).getTime():new Date(y).getTime()-new Date(re).getTime():m==="amount"?b==="asc"?re-y:y-re:b==="asc"?String(re).localeCompare(String(y)):String(y).localeCompare(String(re))}),u},[a,m,b,k,L]),W=Math.ceil(A.length/K),ce=p.useMemo(()=>{const u=(z-1)*K,$=u+K;return A.slice(u,$)},[A,z,K]);p.useEffect(()=>{D(1)},[k,L,m,b]);const Pe=u=>{m===u?N(b==="asc"?"desc":"asc"):(f(u),N("desc"))},Q=a.reduce((u,$)=>u+$.amount,0),ve=a.filter(u=>u.payment_status==="paid").reduce((u,$)=>u+$.amount,0),ae=a.filter(u=>u.payment_status==="unpaid"||!u.payment_status).reduce((u,$)=>u+$.amount,0);a.filter(u=>u.payment_status==="partial").reduce((u,$)=>u+$.amount,0);const me=a.reduce((u,$)=>(u[$.category]=(u[$.category]||0)+$.amount,u),{}),De=new Date().toISOString().split("T")[0],ut=a.filter(u=>u.date===De).reduce((u,$)=>u+$.amount,0),Qe=new Date().getMonth(),M=new Date().getFullYear(),G=a.filter(u=>{const $=new Date(u.date);return $.getMonth()===Qe&&$.getFullYear()===M}).reduce((u,$)=>u+$.amount,0),C=u=>{switch(u){case"feed":return Ep;case"medicine":return Sp;case"water":return yp;case"electricity":return Pp;case"supplies":return _e;case"paid":return jr;default:return mr}},V=u=>{switch(u){case"feed":return{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-700",icon:"bg-amber-100 text-amber-600"};case"medicine":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:"bg-red-100 text-red-600"};case"water":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"bg-blue-100 text-blue-600"};case"electricity":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:"bg-yellow-100 text-yellow-600"};case"supplies":return{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",icon:"bg-purple-100 text-purple-600"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"bg-gray-100 text-gray-600"}}},X=u=>{switch(u){case"feed":return"";case"medicine":return"";case"water":return"";case"electricity":return"";case"supplies":return"";case"paid":return" ";default:return u}};return e("expenses")?i?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"  ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 lg:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(as,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]}),t("expenses")&&r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>d(!0),title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(ut)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(Ir,{className:"h-3 w-3 mr-1"}),""]})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-md",children:r.jsx(mr,{className:"h-6 w-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(G)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(va,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-md",children:r.jsx(va,{className:"h-6 w-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ee(Q)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(uo,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-md",children:r.jsx(_e,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-green-600",children:ee(ve)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(jr,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-md",children:r.jsx(jr,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-red-600",children:ee(ae)}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1 flex items-center",children:[r.jsx(Ln,{className:"h-3 w-3 mr-1"}),"  "]})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-md",children:r.jsx(Ln,{className:"h-6 w-6 text-red-600"})})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:["feed","medicine","water","electricity","supplies","paid"].map(u=>{const $=C(u),le=me[u]||0,re=Q>0?le/Q*100:0,y=V(u);return r.jsxs("div",{className:`${y.bg} rounded-lg p-5 shadow-md border-2 ${y.border} hover:shadow-md transition-shadow duration-200`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:`p-3 rounded-lg ${y.icon} shadow-sm`,children:r.jsx($,{className:"h-5 w-5"})}),r.jsxs("span",{className:`text-sm font-bold ${y.text} bg-white/50 px-2 py-1 rounded-full`,children:[re.toFixed(1),"%"]})]}),r.jsx("h4",{className:`font-bold ${y.text} text-base mb-2`,children:X(u)}),r.jsx("p",{className:`text-2xl font-extrabold ${y.text}`,children:ee(le)}),r.jsx("div",{className:"mt-3 h-2 bg-white/50 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${y.icon} transition-all duration-500`,style:{width:`${Math.min(re,100)}%`}})})]},u)})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(as,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:" "})]})}),A.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"bg-gray-100 p-6 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:r.jsx(as,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"    "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 rtl:space-x-reverse mx-auto transition-colors duration-200",onClick:()=>d(!0),children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{children:"  "})]})]}):r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>Pe("date"),children:r.jsxs("div",{className:"flex items-center",children:["",m==="date"&&r.jsx("span",{className:"mr-1 text-slate-600",children:b==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>Pe("category"),children:r.jsxs("div",{className:"flex items-center",children:["",m==="category"&&r.jsx("span",{className:"mr-1 text-slate-600",children:b==="asc"?"":""})]})}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>Pe("amount"),children:r.jsxs("div",{className:"flex items-center",children:["",m==="amount"&&r.jsx("span",{className:"mr-1 text-slate-600",children:b==="asc"?"":""})]})}),r.jsx("th",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 text-right text-xs font-bold text-gray-600 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map((u,$)=>{const le=C(u.category),re=V(u.category);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:r.jsx(Ir,{className:"h-4 w-4 text-gray-600"})}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:new Date(u.date).toLocaleDateString("fr-FR")})]})}),r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`p-2 rounded-lg mr-3 ${re.icon} shadow-sm`,children:r.jsx(le,{className:"h-4 w-4"})}),r.jsx("span",{className:`text-sm font-semibold ${re.text}`,children:X(u.category)})]})}),r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-lg font-bold text-red-600",children:ee(u.amount)})}),r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:r.jsx("span",{className:"text-sm text-gray-900 max-w-xs truncate block",children:u.description||"-"})}),r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:u.beneficiary||"-"})}),r.jsx("td",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4 whitespace-nowrap",children:(()=>{const y=u.payment_status||"unpaid";return y==="paid"?r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:[r.jsx(jr,{className:"h-3 w-3 mr-1"}),""]}):y==="partial"?r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:[r.jsx(ii,{className:"h-3 w-3 mr-1"}),""]}):r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:[r.jsx(Ln,{className:"h-3 w-3 mr-1"})," "]})})()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("expenses")&&r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-all duration-200",onClick:()=>I(u),title:" ",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("expenses")&&r.jsx("button",{className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-all duration-200",onClick:()=>O(u),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})}),!s("expenses")&&!n("expenses")&&r.jsx("span",{className:"text-gray-400 text-xs",children:"  "})]})})]},u.id)})})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:ce.map(u=>{const $=C(u.category),le=V(u.category),re=u.payment_status||"paid";return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:`p-2 rounded-lg ${le.icon} shadow-sm`,children:r.jsx($,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`text-sm font-semibold ${le.text} truncate`,children:X(u.category)}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:new Date(u.date).toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("expenses")&&r.jsx("button",{onClick:()=>I(u),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("expenses")&&r.jsx("button",{onClick:()=>O(u),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-lg font-bold text-red-600",children:ee(u.amount)})]}),u.description&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:u.description})]}),u.beneficiary&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:u.beneficiary})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),re==="paid"?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:[r.jsx(jr,{className:"h-3 w-3 mr-1"}),""]}):re==="partial"?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:[r.jsx(ii,{className:"h-3 w-3 mr-1"}),""]}):r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:[r.jsx(Ln,{className:"h-3 w-3 mr-1"})," "]})]})]})]},u.id)})}),A.length>K&&r.jsx(Or,{currentPage:z,totalPages:W,onPageChange:D,itemsPerPage:K,totalItems:A.length})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(mr,{className:"h-6 w-6"}),r.jsx("h3",{className:"text-lg font-semibold",children:"  "})]}),r.jsx("button",{onClick:()=>{d(!1),T()},className:"p-2 hover:bg-white/10 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.date,onChange:u=>h({...w,date:u.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsxs("select",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.category,onChange:u=>h({...w,category:u.target.value}),children:[r.jsx("option",{value:"feed",children:""}),r.jsx("option",{value:"medicine",children:""}),r.jsx("option",{value:"water",children:""}),r.jsx("option",{value:"electricity",children:""}),r.jsx("option",{value:"supplies",children:""}),r.jsx("option",{value:"paid",children:" "})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" ( )"}),r.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.amount,min:"0",step:"0.01",onChange:u=>h({...w,amount:parseFloat(u.target.value)||0}),placeholder:" "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",rows:3,value:w.description,onChange:u=>h({...w,description:u.target.value}),placeholder:"  ..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" ()"}),r.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.beneficiary,onChange:u=>h({...w,beneficiary:u.target.value}),placeholder:"   "})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-6 py-3 text-gray-700 border-2 border-gray-300 rounded-lg hover:bg-gray-100 transition-all duration-200 font-semibold",onClick:()=>{d(!1),T()},children:""}),r.jsx("button",{className:"px-6 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-colors duration-200",onClick:F,disabled:!w.date||!w.amount,children:" "})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-6 w-6"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{g(!1),T()},className:"p-2 hover:bg-white/10 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6 space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsx("input",{type:"date",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.date,onChange:u=>h({...w,date:u.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsxs("select",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.category,onChange:u=>h({...w,category:u.target.value}),children:[r.jsx("option",{value:"feed",children:""}),r.jsx("option",{value:"medicine",children:""}),r.jsx("option",{value:"water",children:""}),r.jsx("option",{value:"electricity",children:""}),r.jsx("option",{value:"supplies",children:""}),r.jsx("option",{value:"paid",children:" "})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" ( )"}),r.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.amount,min:"0",step:"0.01",onChange:u=>h({...w,amount:parseFloat(u.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),r.jsxs("select",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.payment_status||"paid",onChange:u=>h({...w,payment_status:u.target.value}),children:[r.jsx("option",{value:"unpaid",children:" "}),r.jsx("option",{value:"paid",children:""}),r.jsx("option",{value:"partial",children:" "})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsx("textarea",{className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",rows:3,value:w.description,onChange:u=>h({...w,description:u.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),r.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all duration-200",value:w.beneficiary,onChange:u=>h({...w,beneficiary:u.target.value})})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-6 py-3 text-gray-700 border-2 border-gray-300 rounded-lg hover:bg-gray-100 transition-all duration-200 font-semibold",onClick:()=>{g(!1),T()},children:""}),r.jsx("button",{className:"px-6 py-3 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-all duration-200 font-semibold transition-colors duration-200",onClick:J,children:" "})]})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(ye,{className:"h-6 w-6"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-red-100 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:r.jsx(ye,{className:"h-10 w-10 text-red-600"})}),r.jsx("p",{className:"text-gray-700 text-lg font-semibold mb-2",children:"        "}),r.jsx("p",{className:"text-red-600 font-bold text-2xl mb-2",children:_&&`${ee(_.amount)} - ${X(_.category)}`}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"     "})]})}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-6 py-3 text-gray-700 border-2 border-gray-300 rounded-lg hover:bg-gray-100 transition-all duration-200 font-semibold",onClick:()=>E(!1),children:""}),r.jsx("button",{className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 font-semibold transition-colors duration-200",onClick:de,children:" "})]})]})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},Bp=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n,isAdmin:a}=yr(),[l,i]=p.useState([]),[c,o]=p.useState(!0),[d,x]=p.useState(1),g=10,[v,E]=p.useState(!1),[_,P]=p.useState(!1),[w,h]=p.useState(!1),[m,f]=p.useState(!1),[b,N]=p.useState(null),[k,j]=p.useState({name:"",email:"",password:"",role:"employee",phone:"",status:"active",permissions:[]}),[L,R]=p.useState(!1),z=[{value:"admin",label:" ",color:"bg-red-100 text-red-800"},{value:"manager",label:" ",color:"bg-blue-100 text-blue-800"},{value:"employee",label:"",color:"bg-green-100 text-green-800"},{value:"viewer",label:"",color:"bg-gray-100 text-gray-800"}],D=[{key:"chickens",label:" "},{key:"eggs",label:" "},{key:"sales",label:" "},{key:"expenses",label:" "},{key:"cartons",label:" "},{key:"users",label:" "}],K=[{key:"read",label:""},{key:"create",label:""},{key:"update",label:""},{key:"delete",label:""}];p.useEffect(()=>{Y()},[]);const Y=async()=>{try{o(!0);const C=await Z.getUsers();i(C)}catch(C){console.error("   :",C)}finally{o(!1)}},F=async()=>{try{if(!k.name||!k.email||!k.password){alert("     (    )");return}if(k.password.length<6){alert("     6   ");return}const C=await Z.addUser({name:k.name,email:k.email,password:k.password,role:k.role||"employee",phone:k.phone||"",status:k.status||"active",permissions:[]});await Y(),E(!1),I(),alert("   ")}catch(C){console.error("   :",C),alert(C.message||"  ")}},J=async()=>{var C,V;if(!b){alert("   ");return}try{if(!k.name||!k.email){alert("    ");return}const X={name:k.name,email:k.email,role:k.role||b.role,phone:k.phone!==void 0?k.phone:b.phone||"",status:k.status||b.status||"active"};console.log("Updating user:",{userId:b.id,updateData:X}),await Z.updateUser(b.id,X),console.log("User updated successfully"),await Y(),P(!1),N(null),I(),alert("   ")}catch(X){console.error("   :",X);const u=((V=(C=X==null?void 0:X.response)==null?void 0:C.data)==null?void 0:V.error)||(X==null?void 0:X.message)||"  ";alert(u)}},de=async()=>{if(b)try{await Z.deleteUser(b.id),await Y(),h(!1),N(null)}catch(C){console.error("   :",C),alert(C.message||"  ")}},T=async C=>{try{const V=l.find($=>$.id===C);if(!V){alert("  ");return}const X=V.status==="active"?"inactive":"active";console.log("Changing user status:",{userId:C,currentStatus:V.status,newStatus:X});const u={name:V.name,email:V.email,role:V.role,phone:V.phone||"",status:X};console.log("Sending update data:",u),await Z.updateUser(C,u),console.log("Status updated successfully"),await Y()}catch(V){console.error("    :",V),alert(V.message||"   ")}},I=()=>{j({name:"",email:"",password:"",role:"employee",phone:"",status:"active",permissions:[]}),R(!1)},O=p.useMemo(()=>[...l].sort((C,V)=>{const X=C.created_at?new Date(C.created_at).getTime():0,u=V.created_at?new Date(V.created_at).getTime():0;return X===u?(V.id||"").localeCompare(C.id||""):u-X}),[l]),A=Math.ceil(l.length/g),W=p.useMemo(()=>{const C=(d-1)*g,V=C+g;return O.slice(C,V)},[O,d,g]),ce=l.length,Pe=l.filter(C=>C.status==="active").length,Q=l.filter(C=>C.role==="admin").length,ve=C=>{N(C),j({name:C.name,email:C.email,role:C.role,phone:C.phone,status:C.status,permissions:C.permissions}),P(!0)},ae=C=>{N(C),h(!0)},me=C=>{N(C),j({permissions:C.permissions||[]}),f(!0)},De=async()=>{if(b)try{await Z.updateUser(b.id,{name:b.name,email:b.email,role:b.role,phone:b.phone||"",status:b.status,permissions:k.permissions||[]}),await Y(),f(!1),N(null),alert("   ")}catch(C){console.error("   :",C),alert(C.message||"  ")}},ut=(C,V)=>{const X=k.permissions||[],u=X.findIndex($=>$.module===C);if(u===-1)j({...k,permissions:[...X,{module:C,actions:[V]}]});else{const $=X[u],le=$.actions.indexOf(V);let re;le===-1?re=[...$.actions,V]:re=$.actions.filter(H=>H!==V);const y=[...X];re.length===0?y.splice(u,1):y[u]={module:C,actions:re},j({...k,permissions:y})}},Qe=(C,V)=>{var $;const u=(k.permissions||[]).find(le=>le.module===C);return(($=u==null?void 0:u.actions)==null?void 0:$.includes(V))||!1},M=C=>{const V=z.find(X=>X.value===C);return V?V.label:C},G=C=>{const V=z.find(X=>X.value===C);return V?V.color:"bg-gray-100 text-gray-800"};return a?c?r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600 text-base font-medium",children:"   ..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(xt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"   "})]})]}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",onClick:()=>E(!0),title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:ce}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:" "})]}),r.jsx("div",{className:"bg-slate-100 p-3 rounded-md",children:r.jsx(xt,{className:"h-6 w-6 text-slate-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:" "}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:Pe}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:" "})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-md",children:r.jsx(hm,{className:"h-6 w-6 text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),r.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:Q}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:" "})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-md",children:r.jsx(In,{className:"h-6 w-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-slate-600 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(xt,{className:"h-5 w-5 text-white"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:" "})]})}),l.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(xt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-500 mb-6",children:"    "}),r.jsxs("button",{className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 rtl:space-x-reverse mx-auto transition-colors duration-200",onClick:()=>E(!0),children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{children:"  "})]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"  "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((C,V)=>r.jsxs("tr",{className:V%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:r.jsx(xt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),r.jsx("div",{className:"text-sm text-gray-500",children:C.email}),C.phone&&r.jsx("div",{className:"text-xs text-gray-400",children:C.phone})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${G(C.role)}`,children:M(C.role)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${C.status==="active"?"bg-green-100 text-green-800":C.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:C.status==="active"?"":C.status==="inactive"?" ":""}),r.jsx("button",{onClick:()=>T(C.id),className:`p-1 rounded-lg transition-colors duration-200 ${C.status==="active"?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:C.status==="active"?" ":"",children:C.status==="active"?r.jsx(Pc,{className:"h-4 w-4"}):r.jsx(Dc,{className:"h-4 w-4"})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.last_login?new Date(C.last_login).toLocaleDateString("fr-FR"):"  "}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.created_at?new Date(C.created_at).toLocaleDateString("fr-FR"):"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-200",onClick:()=>me(C),title:" ",children:r.jsx(In,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors duration-200",onClick:()=>ve(C),title:" ",children:r.jsx(Ee,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors duration-200",onClick:()=>ae(C),title:" ",children:r.jsx(Te,{className:"h-4 w-4"})})]})})]},C.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:W.map(C=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(xt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:C.name}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:C.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("users")&&r.jsx("button",{onClick:()=>ve(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("users")&&r.jsx("button",{onClick:()=>ae(C),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})}),a&&r.jsx("button",{onClick:()=>me(C),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"",children:r.jsx(In,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${C.role==="admin"?"bg-red-100 text-red-800":C.role==="manager"?"bg-blue-100 text-blue-800":C.role==="employee"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.role==="admin"||C.role==="manager"?"":C.role==="employee"?"":""})]}),C.phone&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-sm text-gray-900",children:C.phone})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${C.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.status==="active"?"":" "})]})]})]},C.id))}),l.length>g&&r.jsx(Or,{currentPage:d,totalPages:A,onPageChange:x,itemsPerPage:g,totalItems:l.length})]}),m&&b&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(In,{className:"h-5 w-5"}),r.jsxs("h3",{className:"text-lg font-semibold",children:["  - ",b.name]})]}),r.jsx("button",{onClick:()=>{f(!1),N(null)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(ze,{className:"h-5 w-5 rotate-45"})})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(C=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:C.label}),r.jsx("div",{className:"space-y-2",children:K.map(V=>r.jsxs("label",{className:"flex items-center space-x-2 rtl:space-x-reverse cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Qe(C.key,V.key),onChange:()=>ut(C.key,V.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:V.label})]},V.key))})]},C.key))})}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>{f(!1),N(null)},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200",onClick:De,children:" "})]})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(xt,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:"  "})]}),r.jsx("button",{onClick:()=>{E(!1),I()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(ze,{className:"h-5 w-5 rotate-45"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.name,onChange:C=>j({...k,name:C.target.value}),placeholder:"  "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),r.jsx("input",{type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.email,onChange:C=>j({...k,email:C.target.value}),placeholder:"  ",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:L?"text":"password",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 pr-10 rtl:pl-10 rtl:pr-3",value:k.password||"",onChange:C=>j({...k,password:C.target.value}),placeholder:"   (6   )",required:!0,minLength:6}),r.jsx("button",{type:"button",onClick:()=>R(!L),className:"absolute inset-y-0 left-0 rtl:right-0 rtl:left-auto flex items-center px-3 text-gray-500 hover:text-gray-700",children:L?r.jsx(Pc,{className:"h-5 w-5"}):r.jsx(Dc,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.phone,onChange:C=>j({...k,phone:C.target.value}),placeholder:"  "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.role,onChange:C=>j({...k,role:C.target.value}),children:z.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.status,onChange:C=>j({...k,status:C.target.value}),children:[r.jsx("option",{value:"active",children:""}),r.jsx("option",{value:"inactive",children:" "}),r.jsx("option",{value:"suspended",children:""})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>{E(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:F,disabled:!k.name||!k.email||!k.password,children:" "})]})]})}),_&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Ee,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>{P(!1),I()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(ze,{className:"h-5 w-5 rotate-45"})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.name,onChange:C=>j({...k,name:C.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"email",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.email,onChange:C=>j({...k,email:C.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),r.jsx("input",{type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.phone,onChange:C=>j({...k,phone:C.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsx("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.role,onChange:C=>j({...k,role:C.target.value}),children:z.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),r.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:k.status,onChange:C=>j({...k,status:C.target.value}),children:[r.jsx("option",{value:"active",children:""}),r.jsx("option",{value:"inactive",children:" "}),r.jsx("option",{value:"suspended",children:""})]})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>{P(!1),I()},children:""}),r.jsx("button",{className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors duration-200",onClick:J,children:" "})]})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:[r.jsx("div",{className:"bg-red-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(Te,{className:"h-5 w-5"}),r.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),r.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(ze,{className:"h-5 w-5 rotate-45"})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Te,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-700 text-lg mb-2",children:"      "}),r.jsx("p",{className:"text-red-600 font-bold text-xl",children:b==null?void 0:b.name}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"     "})]})}),r.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200",onClick:()=>h(!1),children:""}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",onClick:de,children:" "})]})]})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},Vp=()=>{const{canRead:e,canCreate:t,canUpdate:s,canDelete:n}=yr(),[a,l]=p.useState([]),[i,c]=p.useState(!0),[o,d]=p.useState(1),x=10,[g,v]=p.useState(!1),[E,_]=p.useState(!1),[P,w]=p.useState(!1),[h,m]=p.useState(null),[f,b]=p.useState(""),[N,k]=p.useState({name:"",phone:"",email:"",address:"",city:"",postal_code:"",tax_id:"",commercial_register:"",notes:""});p.useEffect(()=>{j()},[]);const j=async()=>{try{c(!0);const T=await Z.getClients();l(T)}catch(T){console.error("   :",T),alert("   ")}finally{c(!1)}},L=()=>{k({name:"",phone:"",email:"",address:"",city:"",postal_code:"",tax_id:"",commercial_register:"",notes:""}),v(!0)},R=T=>{k({name:T.name,phone:T.phone,email:T.email||"",address:T.address||"",city:T.city||"",postal_code:T.postal_code||"",tax_id:T.tax_id||"",commercial_register:T.commercial_register||"",notes:T.notes||""}),m(T),_(!0)},z=T=>{m(T),w(!0)},D=async T=>{T.preventDefault();try{g?(await Z.addClient(N),alert("   ")):E&&h&&(await Z.updateClient(h.id,N),alert("   ")),await j(),v(!1),_(!1),k({name:"",phone:"",email:"",address:"",city:"",postal_code:"",tax_id:"",commercial_register:"",notes:""})}catch(I){console.error("   :",I),alert("  ")}},K=async()=>{if(h)try{await Z.deleteClient(h.id),alert("   "),await j(),w(!1),m(null)}catch(T){console.error("   :",T),alert("  ")}},Y=p.useMemo(()=>[...a].sort((T,I)=>{const O=T.created_at?new Date(T.created_at).getTime():0,A=I.created_at?new Date(I.created_at).getTime():0;return O===A?(I.id||"").localeCompare(T.id||""):A-O}),[a]),F=p.useMemo(()=>Y.filter(T=>T.name.toLowerCase().includes(f.toLowerCase())||T.phone.includes(f)||T.email&&T.email.toLowerCase().includes(f.toLowerCase())||T.tax_id&&T.tax_id.includes(f)),[Y,f]),J=Math.ceil(F.length/x),de=p.useMemo(()=>{const T=(o-1)*x,I=T+x;return F.slice(T,I)},[F,o,x]);return e("sales")?i?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent"})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(xt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:" "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"   "})]})]}),t("sales")&&r.jsxs("button",{onClick:L,className:"bg-slate-600 hover:bg-slate-700 text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg flex items-center justify-center sm:justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse transition-colors duration-200 text-sm sm:text-base",title:"  ",children:[r.jsx(ze,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:"  "})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(xm,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"         ...",value:f,onChange:T=>b(T.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"hidden lg:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:f?"   ":"   "})}):de.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:T.phone})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:T.email||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:T.city||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:T.tax_id||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-600",children:T.commercial_register||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx("button",{onClick:()=>R(T),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded",children:r.jsx(Ee,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>z(T),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded",children:r.jsx(Te,{className:"h-4 w-4"})})]})})]},T.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4 mt-4",children:de.map(T=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse flex-1",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(xt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:T.name}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:T.phone})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s("sales")&&r.jsx("button",{onClick:()=>R(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:r.jsx(Ee,{className:"h-4 w-4"})}),n("sales")&&r.jsx("button",{onClick:()=>z(T),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:r.jsx(Te,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[T.email&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("span",{className:"text-sm text-gray-900",children:T.email})]}),T.address&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-600",children:":"}),r.jsx("p",{className:"text-sm text-gray-900 mt-0.5",children:T.address})]}),T.tax_id&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:" :"}),r.jsx("span",{className:"text-sm text-gray-900",children:T.tax_id})]})]})]},T.id))}),F.length>x&&r.jsx(Or,{currentPage:o,totalPages:J,onPageChange:d,itemsPerPage:x,totalItems:F.length})]}),(g||E)&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl shadow-lg max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"bg-slate-600 p-6 rounded-t-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsx("h3",{className:"text-lg font-semibold",children:g?"  ":" "}),r.jsx("button",{onClick:()=>{v(!1),_(!1)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(je,{className:"h-5 w-5"})})]})}),r.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),r.jsx("input",{type:"text",required:!0,value:N.name,onChange:T=>k({...N,name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),r.jsx("input",{type:"tel",required:!0,value:N.phone,onChange:T=>k({...N,phone:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),r.jsx("input",{type:"email",value:N.email,onChange:T=>k({...N,email:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("input",{type:"text",value:N.city,onChange:T=>k({...N,city:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("input",{type:"text",value:N.address,onChange:T=>k({...N,address:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),r.jsx("input",{type:"text",value:N.postal_code,onChange:T=>k({...N,postal_code:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (M.F)"}),r.jsx("input",{type:"text",value:N.tax_id,onChange:T=>k({...N,tax_id:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),r.jsx("input",{type:"text",value:N.commercial_register,onChange:T=>k({...N,commercial_register:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),r.jsx("textarea",{value:N.notes,onChange:T=>k({...N,notes:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 rtl:space-x-reverse pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{v(!1),_(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700",children:g?"":" "})]})]})]})}),P&&h&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg w-full max-w-md shadow-lg",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["      ",r.jsx("strong",{children:h.name}),"      ."]}),r.jsxs("div",{className:"flex justify-end space-x-3 rtl:space-x-reverse",children:[r.jsx("button",{onClick:()=>{w(!1),m(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),r.jsx("button",{onClick:K,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:""})]})]})})})]})}):r.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-sm border border-gray-200",children:[r.jsx(ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600",children:"    "})]})})},qp=()=>{const{user:e}=xn(),[t,s]=p.useState(!1),[n,a]=p.useState(!1),[l,i]=p.useState(""),[c,o]=p.useState(""),[d,x]=p.useState({name:"",email:"",phone:""}),[g,v]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""});p.useEffect(()=>{e&&x({name:e.name||"",email:e.email||"",phone:e.phone||""})},[e]);const E=async P=>{P.preventDefault();try{s(!0),i(""),o("");const w=await se.updateProfile(d);o("    "),a(!0);const h=await se.getCurrentUser();window.location.reload(),setTimeout(()=>{a(!1),o("")},3e3)}catch(w){console.error("Update profile error:",w),i(w.message||"   ")}finally{s(!1)}},_=async P=>{P.preventDefault();try{if(s(!0),i(""),o(""),g.newPassword!==g.confirmPassword){i("   ");return}if(g.newPassword.length<6){i("     6   ");return}await se.changePassword(g.currentPassword,g.newPassword),o("    "),v({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{o("")},3e3)}catch(w){console.error("Change password error:",w),i(w.message||"   ")}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 lg:p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[r.jsx("div",{className:"bg-slate-600 p-3 rounded-md",children:r.jsx(mo,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:""}),r.jsx("p",{className:"text-gray-600 mt-1",children:"    "})]})]})}),l&&r.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(hp,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),r.jsx("p",{className:"text-red-700 font-medium",children:l})]}),c&&r.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(Ec,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),r.jsx("p",{className:"text-green-700 font-medium",children:c})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(di,{className:"h-5 w-5 text-slate-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:" "})]}),r.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"  "})]}),r.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(di,{className:"h-4 w-4"}),r.jsx("span",{children:" *"})]})}),r.jsx("input",{type:"text",value:d.name,onChange:P=>x({...d,name:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(mm,{className:"h-4 w-4"}),r.jsx("span",{children:"  *"})]})}),r.jsx("input",{type:"email",value:d.email,onChange:P=>x({...d,email:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[r.jsx(kp,{className:"h-4 w-4"}),r.jsx("span",{children:" "})]})}),r.jsx("input",{type:"tel",value:d.phone,onChange:P=>x({...d,phone:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"+216XXXXXXXX"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:t,className:"bg-slate-600 hover:bg-slate-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 rtl:space-x-reverse transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):n?r.jsx(Ec,{className:"h-4 w-4 text-green-400"}):r.jsx(_p,{className:"h-4 w-4"}),r.jsx("span",{children:t?" ...":n?" ":" "})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"bg-gray-50 p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[r.jsx(oi,{className:"h-5 w-5 text-slate-600"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"  "})]}),r.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"    "})]}),r.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),r.jsx("input",{type:"password",value:g.currentPassword,onChange:P=>v({...g,currentPassword:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),r.jsx("input",{type:"password",value:g.newPassword,onChange:P=>v({...g,newPassword:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0,minLength:6}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   6   "})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"    *"}),r.jsx("input",{type:"password",value:g.confirmPassword,onChange:P=>v({...g,confirmPassword:P.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0,minLength:6})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 rtl:space-x-reverse transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(oi,{className:"h-4 w-4"}),r.jsx("span",{children:t?" ...":"  "})]})})]})]})]})})},Wp={dashboard:" ",chickens:" ",eggs:" ",cartons:" ",sales:" ",expenses:" ",users:" ",clients:" ",settings:""},Qp=()=>{const{user:e,loading:t}=xn(),[s,n]=p.useState("dashboard"),[a,l]=p.useState(!1);if(t)return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto"}),r.jsx("p",{className:"mt-4 text-slate-600 font-medium",children:" ..."})]})});if(!e)return r.jsx(Dp,{});const i=()=>{switch(s){case"dashboard":return r.jsx(Lc,{onNavigate:n});case"chickens":return r.jsx($p,{});case"eggs":return r.jsx(Up,{});case"cartons":return r.jsx(Fp,{});case"sales":return r.jsx(Ap,{});case"expenses":return r.jsx(Hp,{});case"users":return r.jsx(Bp,{});case"clients":return r.jsx(Vp,{});case"settings":return r.jsx(qp,{});default:return r.jsx(Lc,{})}};return r.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",dir:"rtl",children:[r.jsx(Mp,{currentPage:s,onPageChange:n,isOpen:a,onClose:()=>l(!1)}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full lg:w-auto",children:[r.jsx(Ip,{currentPage:Wp[s],onMenuClick:()=>l(!a)}),r.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 p-3 sm:p-4 lg:p-6",children:r.jsx("div",{className:"animate-fadeIn",children:i()})})]})]})};function Jp(){return r.jsx(Gh,{children:r.jsx(up,{children:r.jsx(Qp,{})})})}Wu(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(Jp,{})}));export{se as a};
